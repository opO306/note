import{r as s,j as e,d as le,a as ie,e as nt}from"./index-Dk92xA2w.js";import{u as Te,P as lt,h as it,R as ot,a as ct,F as dt,D as mt,B as xt,b as ut,g as ht,O as ft,L as pt,M as ne,S as gt,c as we,d as jt,T as Nt,U as bt,e as yt,f as vt}from"./MainScreenRefactored-Cnk3o5eP.js";import{c as Fe,e as wt,b as ze,i as Ct,B as b,T as kt,g as Oe}from"./App-Bs6YIlvy.js";import{A as oe,I as us,B as Dt,K as hs,z as fs,n as St,$ as Rt,a0 as Et,G as At,a1 as Pt,J as It,U as rs,q as Tt}from"./vendor-firebase-C8ERkm_B.js";import{C as y,b as J,c as K,a as N}from"./card-BTNeCppV.js";import{L as _}from"./label-S73REEuH.js";import{b as Ot,c as _t,P as he,a as ue,f as Mt}from"./index-DKlU3y7i.js";import{P as Ue}from"./checkbox-BNqRj2KP.js";import{T as Lt,a as $t,b as ns,c as ls}from"./tabs-C6-jFC18.js";import{S as L}from"./switch-B0wKXDlv.js";import{S as Ft}from"./separator-_6TpHr6k.js";import{t as h,i as zt,s as Ut}from"./toastHelper-CmqwgrpB.js";import{r as Wt,C as is}from"./vendor-capacitor-rvH5hiNU.js";import{A as Bt}from"./arrow-left-BKP0x_yl.js";import{P as ps}from"./palette-DkUUt7JN.js";import{M as gs,S as js}from"./sun-aJJImKwH.js";import{S as Ht}from"./shield-DPyzaHCL.js";import{T as qt,S as Gt}from"./trash-2-BoPuaL8J.js";import{A as Vt}from"./AppHeader-B4u7aGdb.js";import{S as Jt,a as Kt}from"./shield-check-BM0NQlTt.js";import{U as Yt}from"./users-D58BOHBF.js";import{U as Zt}from"./user-check-DJDDjpiT.js";import{F as Ce}from"./file-text-cmC5qgPs.js";import{C as Xt}from"./compass-Br1pEBh_.js";import{L as os}from"./log-out-DiiBgRHG.js";import"./vendor-react-1wgkHQEd.js";import"./avatar-BVorKTXF.js";import"./index-SzzsopSI.js";import"./alert-dialog-simple-CJo3HBbI.js";import"./sparkles-BV-B8Lrs.js";import"./firebaseCache-C_csZa1c.js";import"./profanityFilter-CmEWjjlv.js";import"./check-CFbpOADo.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ea=Fe("camera",Qt);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ta=Fe("download",sa);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],cs=Fe("message-square",aa);function ra(t){const a=na(t),r=s.forwardRef((i,n)=>{const{children:l,...f}=i,d=s.Children.toArray(l),v=d.find(ia);if(v){const C=v.props.children,p=d.map(E=>E===v?s.Children.count(C)>1?s.Children.only(null):s.isValidElement(C)?C.props.children:null:E);return e.jsx(a,{...f,ref:n,children:s.isValidElement(C)?s.cloneElement(C,void 0,p):null})}return e.jsx(a,{...f,ref:n,children:l})});return r.displayName=`${t}.Slot`,r}function na(t){const a=s.forwardRef((r,i)=>{const{children:n,...l}=r;if(s.isValidElement(n)){const f=ca(n),d=oa(l,n.props);return n.type!==s.Fragment&&(d.ref=i?wt(i,f):f),s.cloneElement(n,d)}return s.Children.count(n)>1?s.Children.only(null):null});return a.displayName=`${t}.SlotClone`,a}var la=Symbol("radix.slottable");function ia(t){return s.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===la}function oa(t,a){const r={...a};for(const i in a){const n=t[i],l=a[i];/^on[A-Z]/.test(i)?n&&l?r[i]=(...d)=>{const v=l(...d);return n(...d),v}:n&&(r[i]=n):i==="style"?r[i]={...n,...l}:i==="className"&&(r[i]=[n,l].filter(Boolean).join(" "))}return{...t,...r}}function ca(t){let a=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning;return r?t.ref:(a=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=a&&"isReactWarning"in a&&a.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var De="Dialog",[Ns]=_t(De),[da,I]=Ns(De),bs=t=>{const{__scopeDialog:a,children:r,open:i,defaultOpen:n,onOpenChange:l,modal:f=!0}=t,d=s.useRef(null),v=s.useRef(null),[C,p]=Ot({prop:i,defaultProp:n??!1,onChange:l,caller:De});return e.jsx(da,{scope:a,triggerRef:d,contentRef:v,contentId:Te(),titleId:Te(),descriptionId:Te(),open:C,onOpenChange:p,onOpenToggle:s.useCallback(()=>p(E=>!E),[p]),modal:f,children:r})};bs.displayName=De;var ys="DialogTrigger",ma=s.forwardRef((t,a)=>{const{__scopeDialog:r,...i}=t,n=I(ys,r),l=ze(a,n.triggerRef);return e.jsx(he.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":He(n.open),...i,ref:l,onClick:ue(t.onClick,n.onOpenToggle)})});ma.displayName=ys;var We="DialogPortal",[xa,vs]=Ns(We,{forceMount:void 0}),ws=t=>{const{__scopeDialog:a,forceMount:r,children:i,container:n}=t,l=I(We,a);return e.jsx(xa,{scope:a,forceMount:r,children:s.Children.map(i,f=>e.jsx(Ue,{present:r||l.open,children:e.jsx(lt,{asChild:!0,container:n,children:f})}))})};ws.displayName=We;var ke="DialogOverlay",Cs=s.forwardRef((t,a)=>{const r=vs(ke,t.__scopeDialog),{forceMount:i=r.forceMount,...n}=t,l=I(ke,t.__scopeDialog);return l.modal?e.jsx(Ue,{present:i||l.open,children:e.jsx(ha,{...n,ref:a})}):null});Cs.displayName=ke;var ua=ra("DialogOverlay.RemoveScroll"),ha=s.forwardRef((t,a)=>{const{__scopeDialog:r,...i}=t,n=I(ke,r);return e.jsx(ot,{as:ua,allowPinchZoom:!0,shards:[n.contentRef],children:e.jsx(he.div,{"data-state":He(n.open),...i,ref:a,style:{pointerEvents:"auto",...i.style}})})}),Y="DialogContent",ks=s.forwardRef((t,a)=>{const r=vs(Y,t.__scopeDialog),{forceMount:i=r.forceMount,...n}=t,l=I(Y,t.__scopeDialog);return e.jsx(Ue,{present:i||l.open,children:l.modal?e.jsx(fa,{...n,ref:a}):e.jsx(pa,{...n,ref:a})})});ks.displayName=Y;var fa=s.forwardRef((t,a)=>{const r=I(Y,t.__scopeDialog),i=s.useRef(null),n=ze(a,r.contentRef,i);return s.useEffect(()=>{const l=i.current;if(l)return it(l)},[]),e.jsx(Ds,{...t,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(t.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:ue(t.onPointerDownOutside,l=>{const f=l.detail.originalEvent,d=f.button===0&&f.ctrlKey===!0;(f.button===2||d)&&l.preventDefault()}),onFocusOutside:ue(t.onFocusOutside,l=>l.preventDefault())})}),pa=s.forwardRef((t,a)=>{const r=I(Y,t.__scopeDialog),i=s.useRef(!1),n=s.useRef(!1);return e.jsx(Ds,{...t,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(i.current||r.triggerRef.current?.focus(),l.preventDefault()),i.current=!1,n.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const f=l.target;r.triggerRef.current?.contains(f)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&n.current&&l.preventDefault()}})}),Ds=s.forwardRef((t,a)=>{const{__scopeDialog:r,trapFocus:i,onOpenAutoFocus:n,onCloseAutoFocus:l,...f}=t,d=I(Y,r),v=s.useRef(null),C=ze(a,v);return ct(),e.jsxs(e.Fragment,{children:[e.jsx(dt,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:n,onUnmountAutoFocus:l,children:e.jsx(mt,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":He(d.open),...f,ref:C,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(ja,{titleId:d.titleId}),e.jsx(ba,{contentRef:v,descriptionId:d.descriptionId})]})]})}),Be="DialogTitle",Ss=s.forwardRef((t,a)=>{const{__scopeDialog:r,...i}=t,n=I(Be,r);return e.jsx(he.h2,{id:n.titleId,...i,ref:a})});Ss.displayName=Be;var Rs="DialogDescription",Es=s.forwardRef((t,a)=>{const{__scopeDialog:r,...i}=t,n=I(Rs,r);return e.jsx(he.p,{id:n.descriptionId,...i,ref:a})});Es.displayName=Rs;var As="DialogClose",ga=s.forwardRef((t,a)=>{const{__scopeDialog:r,...i}=t,n=I(As,r);return e.jsx(he.button,{type:"button",...i,ref:a,onClick:ue(t.onClick,()=>n.onOpenChange(!1))})});ga.displayName=As;function He(t){return t?"open":"closed"}var Ps="DialogTitleWarning",[cr,Is]=Mt(Ps,{contentName:Y,titleName:Be,docsSlug:"dialog"}),ja=({titleId:t})=>{const a=Is(Ps),r=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return s.useEffect(()=>{if(t){const i=document.getElementById(t)}},[r,t]),null},Na="DialogDescriptionWarning",ba=({contentRef:t,descriptionId:a})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Is(Na).contentName}}.`;return s.useEffect(()=>{const n=t.current?.getAttribute("aria-describedby");if(a&&n){const l=document.getElementById(a)}},[i,t,a]),null},ya=bs,va=ws,Ts=Cs,Os=ks,_s=Ss,Ms=Es;const fe=(...t)=>t.filter(Boolean).join(" "),ds=ya,wa=va,Ls=s.forwardRef(({className:t,...a},r)=>e.jsx(Ts,{ref:r,className:fe("fixed inset-0 z-50 backdrop-blur-sm","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a}));Ls.displayName=Ts.displayName;const _e=s.forwardRef(({className:t,children:a,...r},i)=>e.jsxs(wa,{children:[e.jsx(Ls,{}),e.jsx(Os,{ref:i,className:fe("fixed left-1/2 top-1/2 z-50 -translate-x-1/2 -translate-y-1/2","w-[360px] max-w-[90vw]","rounded-lg border border-border bg-card p-6 shadow-lg outline-none","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[state=closed]:slide-out-to-top-4 data-[state=open]:slide-in-from-top-4",t),...r,children:a})]}));_e.displayName=Os.displayName;const Me=({className:t,...a})=>e.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...a});Me.displayName="DialogHeader";const Le=s.forwardRef(({className:t,...a},r)=>e.jsx(_s,{ref:r,className:fe("text-lg font-semibold leading-none tracking-tight",t),...a}));Le.displayName=_s.displayName;const $e=s.forwardRef(({className:t,...a},r)=>e.jsx(Ms,{ref:r,className:fe("text-sm text-muted-foreground",t),...a}));$e.displayName=Ms.displayName;const P=Wt("PushNotifications",{}),ms={notifyOnReply:!0,notifyOnMention:!0,notifyOnFollow:!0,notifyOnGuide:!0,notifyOnDailyDigest:!0,notifyOnMarketing:!1};function Ca(){const[t,a]=s.useState(null),[r,i]=s.useState(!1),[n,l]=s.useState(ms),[f,d]=s.useState(!0),v=s.useRef(!1),C=s.useCallback(async(u,g)=>{try{const k=oe(le,"users",u);await us(k,{fcmToken:g,updatedAt:new Date},{merge:!0})}catch{}},[]),p=s.useCallback(async()=>{if(!v.current)try{await P.addListener("registration",async u=>{a(u.value);const g=ie.currentUser;g&&await C(g.uid,u.value)}),await P.addListener("registrationError",u=>{}),await P.addListener("pushNotificationReceived",u=>{const g=u.title||"알림",k=u.body||"";h.success(`${g}: ${k}`)}),await P.addListener("pushNotificationActionPerformed",u=>{const g=u.notification.data;g?.link&&g.link.startsWith("/")&&(window.location.hash=g.link)}),v.current=!0}catch{}},[C]);s.useEffect(()=>{if(!is.isNativePlatform()){d(!1);return}(async()=>{try{const w=await P.checkPermissions();if(w.receive==="granted")i(!0),await p(),await P.register();else if(w.receive==="prompt")try{(await P.requestPermissions()).receive==="granted"&&(i(!0),await p(),await P.register())}catch{}}catch{}})();const g=async w=>{try{const D=await fs(oe(le,"users",w));if(D.exists()){const z=D.data().notificationSettings||{};l(q=>({...q,...z}))}}catch{}finally{d(!1)}},k=Dt(ie,async w=>{if(w){if(g(w.uid),r)try{await P.register()}catch{}}else a(null),l(ms),d(!1)});return()=>k()},[r,p]);const E=s.useCallback(async()=>{if(!is.isNativePlatform())return!1;try{if((await P.requestPermissions()).receive==="granted")return i(!0),p(),await P.register(),!0}catch{}return!1},[p]),$=s.useCallback(async(u,g)=>{l(w=>({...w,[u]:g}));const k=ie.currentUser;if(k)try{const w=oe(le,"users",k.uid);await hs(w,{[`notificationSettings.${u}`]:g})}catch{h.error("설정 저장에 실패했습니다."),l(D=>({...D,[u]:!g}))}},[]);return{fcmToken:t,isPermissionGranted:r,requestPermission:E,settings:n,updateSetting:$,isSettingsLoading:f}}const xs="userSettings",ka=Tt(nt,"asia-northeast3"),Da=It(ka,"deleteAccount");function Sa({onBack:t,isDarkMode:a,onToggleDarkMode:r,onShowPrivacy:i,onShowTerms:n,onShowGuidelines:l,onLogout:f,onShowOpenSourceLicenses:d,onShowAttributions:v}){const{settings:C,updateSetting:p,requestPermission:E,isPermissionGranted:$}=Ca(),[u,g]=s.useState(!0),[k,w]=s.useState(!0),[D,F]=s.useState(!0),[z,q]=s.useState(!0),[Z,ce]=s.useState(!0);s.useEffect(()=>{w(C.notifyOnFollow),F(C.notifyOnReply)},[C]);const[Se,pe]=s.useState(!1),[Re,ge]=s.useState(!1),[X,Q]=s.useState(!1),[je,ee]=s.useState(!1);s.useEffect(()=>{try{const c=localStorage.getItem(xs);if(!c)return;const x=JSON.parse(c);typeof x.notificationsEnabled=="boolean"&&g(x.notificationsEnabled),typeof x.newPostNotifications=="boolean"&&w(x.newPostNotifications),typeof x.replyNotifications=="boolean"&&F(x.replyNotifications),typeof x.lanternNotifications=="boolean"&&q(x.lanternNotifications),typeof x.autoSave=="boolean"&&ce(x.autoSave)}catch{}},[]),s.useEffect(()=>{const c=ie.currentUser?.uid;if(!c)return;const x=oe(le,"users",c);Q(!0),fs(x).then(j=>{if(!j.exists())return;const R=j.data()?.consents??{};typeof R.aiAutoReply=="boolean"&&pe(R.aiAutoReply),typeof R.personalizedDigest=="boolean"&&ge(R.personalizedDigest)}).catch(j=>{}).finally(()=>Q(!1))},[]);const S=s.useCallback(c=>{const x={notificationsEnabled:u,newPostNotifications:k,replyNotifications:D,lanternNotifications:z,autoSave:Z,...c};try{localStorage.setItem(xs,JSON.stringify(x))}catch{}},[u,k,D,z,Z]),U=s.useCallback(async c=>{const x=ie.currentUser?.uid;if(!x)return h.error("로그인이 필요합니다"),!1;const j={},A={};c.aiAutoReply!==void 0&&(j.aiAutoReply=c.aiAutoReply,A.aiAutoReply=rs()),c.personalizedDigest!==void 0&&(j.personalizedDigest=c.personalizedDigest,A.personalizedDigest=rs());try{return await us(oe(le,"users",x),{consents:j,consentUpdatedAt:A},{merge:!0}),!0}catch{return h.error("동의 저장에 실패했습니다. 잠시 후 다시 시도해주세요."),!1}},[]),Ne=s.useCallback(async c=>{g(c),S({notificationsEnabled:c}),c&&!$&&await E()},[S,E,$]),G=s.useCallback(c=>{w(c),S({newPostNotifications:c}),p("notifyOnFollow",c)},[S,p]),T=s.useCallback(c=>{F(c),S({replyNotifications:c}),p("notifyOnReply",c),p("notifyOnMention",c)},[S,p]),se=s.useCallback(c=>{q(c),S({lanternNotifications:c})},[S]),be=s.useCallback(c=>{ce(c),S({autoSave:c})},[S]),Ee=s.useCallback(async c=>{pe(c),await U({aiAutoReply:c})&&h.success(c?"AI 자동응답이 활성화되었습니다":"AI 자동응답이 비활성화되었습니다")},[U]),de=s.useCallback(async c=>{ge(c),p("notifyOnDailyDigest",c),await U({personalizedDigest:c})&&h.success(c?"맞춤 아침 추천이 켜졌습니다":"맞춤 아침 추천이 꺼졌습니다")},[U,p]),te=s.useCallback(()=>{h.success("캐시가 삭제되었습니다")},[]),V=s.useCallback(async()=>{if(!window.confirm("정말로 계정을 탈퇴하시겠습니까? 모든 데이터가 영구적으로 삭제되며, 이 작업은 되돌릴 수 없습니다."))return;const x=St().currentUser;if(!x){h.error("로그인이 필요합니다.");return}ee(!0);try{const j=x.providerData[0]?.providerId;if(j==="password"){const A=prompt("본인 확인을 위해 비밀번호를 다시 입력해주세요.");if(A===null){ee(!1);return}if(!x.email)throw new Error("계정의 이메일 정보를 확인할 수 없습니다.");const R=Rt.credential(x.email,A);await Et(x,R)}else if(j==="google.com"){const A=new At;await Pt(x,A)}else throw new Error("지원하지 않는 로그인 방식입니다. 관리자에게 문의해주세요.");await Da({}),h.success("계정 탈퇴가 완료되었습니다. 이용해주셔서 감사합니다."),f()}catch(j){j.code==="auth/wrong-password"?h.error("비밀번호가 일치하지 않습니다."):j.code==="auth/popup-closed-by-user"||j.code==="auth/cancelled-popup-request"?h.info("계정 탈퇴가 취소되었습니다."):j.code==="auth/too-many-requests"?h.error("요청이 너무 많습니다. 잠시 후 다시 시도해 주세요."):h.error("계정 삭제 중 문제가 발생했습니다. 잠시 후 다시 시도해 주세요."),ee(!1)}},[f]),[W,Ae]=s.useState(zt()),me=s.useCallback(c=>{Ae(c),Ut(c),h.success(c?"화면 알림이 활성화되었습니다":"화면 알림이 비활성화되었습니다")},[]);return e.jsxs("div",{className:"w-full h-full bg-background text-foreground overflow-y-auto scrollbar-hide",children:[e.jsx(Ct,{isLoading:je,message:"계정을 정리하고 있습니다...",variant:"blur"}),e.jsx("header",{className:"bg-card/95 backdrop-blur-xl border-b border-border flex-shrink-0 safe-top",children:e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(b,{variant:"ghost",size:"icon",onClick:t,className:"hover:bg-accent",children:e.jsx(Bt,{className:"w-5 h-5"})}),e.jsx("h1",{className:"font-medium",children:"설정"})]})})}),e.jsxs("div",{className:"p-4 space-y-6",children:[e.jsxs(y,{className:"bg-card border-border",children:[e.jsx(J,{children:e.jsxs(K,{className:"flex items-center space-x-2",children:[e.jsx(ps,{className:"w-5 h-5"}),e.jsx("span",{children:"화면 설정"})]})}),e.jsx(N,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[a?e.jsx(gs,{className:"w-4 h-4"}):e.jsx(js,{className:"w-4 h-4"}),e.jsx(_,{className:"text-foreground",children:"다크 모드"})]}),e.jsx("div",{className:"-m-2 p-2 inline-flex items-center",children:e.jsx(L,{className:`!min-w-0 !min-h-0 h-4 w-8 md:h-6 md:w-11
                  [&>span]:h-3.5 [&>span]:w-3.5 md:[&>span]:h-5 md:[&>span]:w-5
                  [&[data-state=checked]>span]:translate-x-3.5 md:[&[data-state=checked]>span]:translate-x-5`,checked:a,onCheckedChange:r})})]})})]}),e.jsxs(y,{className:"bg-card border-border",children:[e.jsx(J,{children:e.jsxs(K,{className:"flex items-center space-x-2",children:[e.jsx(xt,{className:"w-5 h-5"}),e.jsx("span",{children:"알림 설정"})]})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-foreground",children:"전체 알림"}),e.jsx(L,{className:`!min-w-0 !min-h-0 h-4 w-8 md:h-6 md:w-11
                [&>span]:h-3.5 [&>span]:w-3.5 md:[&>span]:h-5 md:[&>span]:w-5
                [&[data-state=checked]>span]:translate-x-3.5 md:[&[data-state=checked]>span]:translate-x-5`,checked:u,onCheckedChange:Ne})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(cs,{className:"w-4 h-4 text-gray-700"}),e.jsx(_,{className:"text-gray-900",children:"화면 알림 표시"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:'"글이 작성되었습니다" 같은 성공 메시지 표시'})]}),e.jsx(L,{checked:W,onCheckedChange:me})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx(Ft,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-foreground",children:"새 글 알림"}),e.jsx(L,{className:`!min-w-0 !min-h-0 h-4 w-8 md:h-6 md:w-11
                    [&>span]:h-3.5 [&>span]:w-3.5 md:[&>span]:h-5 md:[&>span]:w-5
                    [&[data-state=checked]>span]:translate-x-3.5 md:[&[data-state=checked]>span]:translate-x-5`,checked:k,onCheckedChange:G})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-foreground",children:"답글 알림"}),e.jsx(L,{className:`!min-w-0 !min-h-0 h-4 w-8 md:h-6 md:w-11
                    [&>span]:h-3.5 [&>span]:w-3.5 md:[&>span]:h-5 md:[&>span]:w-5
                    [&[data-state=checked]>span]:translate-x-3.5 md:[&[data-state=checked]>span]:translate-x-5`,checked:D,onCheckedChange:T})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(_,{className:"text-foreground",children:"등불 알림"}),e.jsx(L,{className:`!min-w-0 !min-h-0 h-4 w-8 md:h-6 md:w-11
                    [&>span]:h-3.5 [&>span]:w-3.5 md:[&>span]:h-5 md:[&>span]:w-5
                    [&[data-state=checked]>span]:translate-x-3.5 md:[&[data-state=checked]>span]:translate-x-5`,checked:z,onCheckedChange:se})]})]})]})]}),e.jsxs(y,{className:"bg-card border-border",children:[e.jsx(J,{children:e.jsxs(K,{className:"flex items-center space-x-2",children:[e.jsx(cs,{className:"w-5 h-5"}),e.jsx("span",{children:"AI / 맞춤 설정"})]})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-foreground",children:"AI 자동응답 허용"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"1시간 이상 미응답 글·댓글에 AI가 대신 답변합니다."})]}),e.jsx(L,{disabled:X,checked:Se,onCheckedChange:Ee})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-foreground",children:"맞춤 아침 추천 수신"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"오전 9시 관심사 기반 추천 푸시·고정카드를 받습니다."})]}),e.jsx(L,{disabled:X,checked:Re,onCheckedChange:de})]})]})]}),e.jsxs(y,{className:"bg-card border-border",children:[e.jsx(J,{children:e.jsxs(K,{className:"flex items-center space-x-2",children:[e.jsx(Ht,{className:"w-5 h-5"}),e.jsx("span",{children:"개인정보 보호"})]})}),e.jsx(N,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(_,{className:"text-foreground",children:"자동 저장"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"작성 중인 글을 자동으로 저장"})]}),e.jsx(L,{className:`!min-w-0 !min-h-0 h-4 w-8 md:h-6 md:w-11
                [&>span]:h-3.5 [&>span]:w-3.5 md:[&>span]:h-5 md:[&>span]:w-5
                [&[data-state=checked]>span]:translate-x-3.5 md:[&[data-state=checked]>span]:translate-x-5`,checked:Z,onCheckedChange:be})]})})]}),e.jsxs(y,{className:"bg-card border-border",children:[e.jsx(J,{children:e.jsxs(K,{className:"flex items-center space-x-2 text-gray-900",children:[e.jsx(ta,{className:"w-5 h-5 text-gray-700"}),e.jsx("span",{children:"데이터 관리"})]})}),e.jsxs(N,{className:"space-y-3",children:[e.jsxs(b,{variant:"outline",className:"w-full justify-start",onClick:te,children:[e.jsx(qt,{className:"w-4 h-4 mr-2"}),"캐시 삭제"]}),e.jsxs(b,{variant:"destructive",className:"w-full justify-start bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:V,children:[e.jsx(kt,{className:"w-4 h-4 mr-3"}),e.jsx("div",{className:"text-left",children:e.jsx("p",{className:"font-medium",children:"계정 탈퇴"})})]})]})]}),e.jsxs(y,{className:"bg-card border-border",children:[e.jsx(J,{children:e.jsx(K,{children:"법적 문서"})}),e.jsxs(N,{className:"space-y-3",children:[n&&e.jsx(b,{variant:"outline",className:"w-full justify-start bg-white border-gray-300 text-gray-900 hover:bg-gray-50",onClick:n,children:"이용약관"}),i&&e.jsx(b,{variant:"outline",className:"w-full justify-start bg-white border-gray-300 text-gray-900 hover:bg-gray-50",onClick:i,children:"개인정보 처리방침"}),l&&e.jsx(b,{variant:"outline",className:"w-full justify-start bg-white border-gray-300 text-gray-900 hover:bg-gray-50",onClick:l,children:"커뮤니티 가이드라인"}),d&&e.jsx(b,{variant:"outline",className:"w-full justify-start bg-white border-gray-300 text-gray-900 hover:bg-gray-50",onClick:d,children:"오픈소스 라이선스"}),v&&e.jsx(b,{variant:"outline",className:"w-full justify-start bg-white border-gray-300 text-gray-900 hover:bg-gray-50",onClick:v,children:"이미지·아이콘 출처"})]})]}),e.jsxs(y,{className:"bg-card border-border",children:[e.jsx(J,{children:e.jsx(K,{className:"text-gray-900",children:"앱 정보"})}),e.jsxs(N,{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"버전"}),e.jsx("span",{className:"",children:"1.0.0"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"빌드"}),e.jsx("span",{className:"",children:"2025.01.01"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"개발자"}),e.jsx("span",{className:"",children:"비유노트 팀"})]})]})]})]})]})}function Ra(t){return t<=10?"text-red-400":t<=30?"text-orange-400":t<=70?"text-emerald-400":"text-blue-400"}function Ea(t){return t<=10?"이제 막 첫 등불을 켜기 시작했어요. 질문하고 답변하면서 천천히 신뢰를 쌓아가 봐요.":t<=30?"기본 수준의 신뢰도예요. 이해를 돕는 질문과 비유, 예시가 쌓일수록 점수가 올라가요.":t<=70?"안정적인 신뢰도예요. 비유와 예시로 많은 사람에게 도움을 주고 있어요.":"매우 높은 신뢰도예요. 이곳에서 믿고 보는 길잡이로, 당신의 설명이 길이 되고 있어요."}function dr({userNickname:t,userProfileImage:a="",onProfileImageChange:r,onBack:i,onLogout:n,isDarkMode:l,onToggleDarkMode:f,onShowPrivacy:d,onShowTerms:v,onShowGuidelines:C,onShowOpenSourceLicenses:p,onShowAttributions:E,userPosts:$=[],userReplies:u=[],bookmarkedPosts:g=[],currentTitle:k="",userGuideCount:w=0,trustScore:D=30,profileDescription:F="",onProfileDescriptionChange:z,onAchievementsClick:q,onThemeClick:Z,onTitlesCollectionClick:ce,followerCount:Se=0,followingCount:pe=0,onFollowerCardClick:Re,onFollowingCardClick:ge,onMyPostsCardClick:X,onMyRepliesCardClick:Q,onPostClick:je,onReplyClick:ee,autoOpenSettings:S,onAutoSettingsOpened:U,onManageBlockedUsers:Ne,currentTheme:G,isGuest:T}){const[se,be]=s.useState(F);s.useEffect(()=>{be(F)},[F]);const[Ee,de]=s.useState(!1),[te,V]=s.useState(""),W=80,[Ae,me]=s.useState(!1);s.useEffect(()=>{S&&(me(!0),U&&U())},[S,U]);const c=ut({key:"mypage"}),[x,j]=s.useState(!1),[A,R]=s.useState(!1),[$s,Pe]=s.useState(!1),Fs=s.useCallback(()=>{Pe(!0)},[]),qe=s.useCallback(async()=>{Pe(!1);try{n(),h.success("로그아웃 되었습니다.")}catch{h.error("로그아웃 중 오류가 발생했습니다.")}},[n]),zs=s.useCallback(()=>{Pe(!1)},[]),Us=s.useCallback(o=>{const m=o.target.files?.[0];if(m&&r){if(m.size>5*1024*1024){h.error("파일 크기는 5MB 이하로 선택해주세요.");return}if(!m.type.startsWith("image/")){h.error("이미지 파일만 선택 가능합니다.");return}r(m),h.success("프로필 사진이 변경되었습니다!")}},[r]),Ge=s.useMemo(()=>ht(k),[k]),ae=$,re=u,B=s.useMemo(()=>!ae||ae.length===0?null:ae.reduce((o,m)=>{const O=typeof o?.lanterns=="number"?o.lanterns:0;return(typeof m?.lanterns=="number"?m.lanterns:0)>O?m:o},ae[0]),[ae]),M=s.useMemo(()=>!re||re.length===0?null:re.reduce((o,m)=>{const O=typeof o?.lanterns=="number"?o.lanterns:0;return(typeof m?.lanterns=="number"?m.lanterns:0)>O?m:o},re[0]),[re]),Ws=g,xe=Math.max(0,Math.min(100,D)),Bs=Ra(xe),Hs=Ea(xe),Ve=Math.floor(xe/10),H=Ve/10,Ie=.4+H*.6,Je=.7+H*.3,Ke=Math.max(0,Math.min(255,Math.floor(180+H*75))),Ye=Math.max(0,Math.min(255,Math.floor(150+H*65))),Ze=Math.max(0,Math.min(255,Math.floor(40*(1-H)))),qs=Math.max(0,Math.min(255,Math.floor(220+H*35))),Gs=Math.max(0,Math.min(255,Math.floor(200+H*15))),Vs=0,ye={postsCount:ae.length,guidesReceived:w,commentsCount:re.length,bookmarksCount:Ws.length},Xe=$?[...$].sort((o,m)=>(m.lanterns||0)-(o.lanterns||0)).slice(0,3):[],Qe=u?[...u].sort((o,m)=>(m.lanterns||0)-(o.lanterns||0)).slice(0,3):[],Js=s.useCallback(async()=>{const o=te.trim();if(!o){h.error("프로필 설명을 입력해주세요.");return}if(o.length>W){h.error(`최대 ${W}자까지 입력할 수 있어요.`);return}try{const m=ie.currentUser;if(!m){h.error("로그인 후 이용해주세요.");return}const O=oe(le,"users",m.uid);await hs(O,{profileDescription:o}),be(o),z?.(o),h.success("프로필 설명이 변경되었습니다!"),de(!1),V("")}catch{h.error("프로필 설명을 저장하지 못했어요. 잠시 후 다시 시도해주세요.")}},[te,z]),Ks=s.useCallback(()=>{me(!1)},[]),Ys=s.useCallback(o=>{const m=o.target.value,O=o.nativeEvent?.isComposing;V(O?m:m.slice(0,W))},[]),Zs=s.useCallback(()=>{de(!1)},[]),Xs=s.useCallback(o=>{de(o),o&&V(se)},[se]),Qs=s.useCallback(()=>{me(!0)},[]),et=s.useCallback(()=>{V(o=>o.slice(0,W))},[]),st=s.useCallback(()=>{X?X():j(!0)},[X]),tt=s.useCallback(()=>{Q?Q():R(!0)},[Q]),at=s.useCallback(()=>{j(!1)},[]),rt=s.useCallback(()=>{R(!1)},[]),es=s.useCallback(o=>{j(!1),je?.(o)},[je]),ss=s.useCallback((o,m)=>{R(!1),ee?.(o,m)},[ee]),ts=s.useCallback(o=>{const m=o.currentTarget.getAttribute("data-post-id");m&&es(m)},[es]),as=s.useCallback(o=>{const m=o.currentTarget.getAttribute("data-post-id"),O=o.currentTarget.getAttribute("data-reply-id");if(!m||!O)return;const ve=Number(O);Number.isNaN(ve)||ss(m,ve)},[ss]);return Ae?e.jsx(Sa,{onBack:Ks,isDarkMode:l,onToggleDarkMode:f,onShowPrivacy:d,onShowTerms:v,onShowGuidelines:C,onShowOpenSourceLicenses:p,onShowAttributions:E,onLogout:qe}):e.jsxs("div",{className:"w-full h-full bg-background text-foreground flex flex-col overflow-hidden",children:[e.jsx(Vt,{title:"마이페이지",onBack:i,rightSlot:e.jsx(b,{variant:"ghost",size:"icon",onClick:f,children:l?e.jsx(js,{className:"w-4 h-4"}):e.jsx(gs,{className:"w-4 h-4"})})}),e.jsxs("div",{ref:c,className:"flex-1 scroll-container scrollbar-hide p-4 pb-24 space-y-4",children:[e.jsx("div",{className:"bg-card text-card-foreground flex flex-col gap-6 rounded-xl transition-all border border-border/70 shadow-sm",children:e.jsx(N,{className:"p-6 relative z-10",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`rounded-full overflow-hidden border-4 ${G==="golden-library"?"border-[#d4af37]":"border-white"}`,children:e.jsx(ft,{src:a,alt:t?`${t}님의 프로필`:"프로필 이미지",fallbackText:t?.charAt(0)?.toUpperCase()||"?",nickname:t,className:"w-20 h-20 rounded-full shadow-xl"})}),e.jsxs("div",{className:"absolute -bottom-1 -right-1",children:[e.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"profile-image-upload",onChange:Us}),e.jsx(b,{size:"icon",asChild:!0,className:"w-9 h-9 rounded-full cursor-pointer touch-target",disabled:T,children:e.jsx("label",{htmlFor:"profile-image-upload",children:e.jsx(ea,{className:"w-4 h-4"})})})]})]}),e.jsxs("div",{className:"flex-1 min-h-20 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[G==="greek-temple"&&D>=70&&e.jsx("div",{className:`shrink-0 ${G==="greek-temple"?"laurel-wreath-premium":"laurel-wreath"}`,children:e.jsx(pt,{size:20,isPremium:G==="greek-temple"})}),G==="golden-library"&&D>=70&&e.jsx("div",{className:"shrink-0",children:e.jsx(Jt,{className:"w-5 h-5 text-[#d4af37]",strokeWidth:2.5})}),e.jsx("h2",{className:"text-xl font-semibold truncate",children:t})]}),Ge&&e.jsx(Oe,{variant:"secondary",className:"text-xs shrink-0",children:Ge})]}),e.jsx(b,{variant:"ghost",size:"icon",className:"touch-target",onClick:T?()=>h.info("로그인 후 프로필 설명을 수정할 수 있습니다."):()=>Xs(!0),disabled:T,children:e.jsx(Gt,{className:"w-4 h-4"})})]}),se&&e.jsx("p",{className:"mt-1 text-sm text-muted-foreground whitespace-pre-wrap break-words leading-snug line-clamp-2",children:se})]})]})})}),e.jsx(y,{className:"trust-score-card rounded-xl mt-3 border-border/70 shadow-sm",style:{"--trust-score":xe,"--trust-level":Ve,"--trust-brightness":H,"--trust-opacity-base":Ie,"--trust-opacity-high":Je,"--trust-color-base":`rgba(${Ke}, ${Ye}, ${Ze}, ${Ie})`,"--trust-color-high":`rgba(${qs}, ${Gs}, ${Vs}, ${Je})`,"--trust-color-bright":`rgba(${Ke}, ${Ye}, ${Ze}, ${Ie+.15})`},children:e.jsxs(N,{className:"p-4 flex flex-col items-center text-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Kt,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm font-medium",children:["신뢰도"," ",e.jsxs("span",{className:`font-semibold ${Bs}`,children:[Math.round(xe),"점"]})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground leading-snug",children:Hs})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(y,{className:"cursor-pointer",onClick:Re,children:e.jsxs(N,{className:"p-6 text-center",children:[e.jsx(Yt,{className:"w-6 h-6 mx-auto mb-2 text-amber-500"}),e.jsx("div",{className:"text-lg font-medium",children:Se}),e.jsx("div",{className:"text-xs text-muted-foreground leading-snug",children:"선원"})]})}),e.jsx(y,{className:"cursor-pointer",onClick:ge,children:e.jsxs(N,{className:"p-6 text-center",children:[e.jsx(Zt,{className:"w-6 h-6 mx-auto mb-2 text-amber-500"}),e.jsx("div",{className:"text-lg font-medium",children:pe}),e.jsx("div",{className:"text-xs text-muted-foreground leading-snug",children:"승선한 배"})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(y,{className:"cursor-pointer hover:shadow-md transition-shadow active:scale-[0.98]",onClick:st,children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsx(Ce,{className:"w-6 h-6 mx-auto mb-2 text-blue-500"}),e.jsx("div",{className:"text-lg font-medium",children:ye.postsCount}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"작성한 글"})]})}),e.jsx(y,{className:"cursor-pointer hover:shadow-md transition-shadow active:scale-[0.98]",onClick:tt,children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsx(ne,{className:"w-6 h-6 mx-auto mb-2 text-green-500"}),e.jsx("div",{className:"text-lg font-medium",children:ye.commentsCount}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"답글"})]})}),e.jsx(y,{children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsx(Xt,{className:"w-6 h-6 mx-auto mb-2 text-primary"}),e.jsx("div",{className:"text-lg font-medium",children:ye.guidesReceived}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"길잡이"})]})}),e.jsx(y,{children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsx(gt,{className:"w-6 h-6 mx-auto mb-2 text-yellow-500"}),e.jsx("div",{className:"text-lg font-medium",children:ye.bookmarksCount}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"북마크"})]})})]}),e.jsxs(Lt,{defaultValue:"posts",className:"w-full",children:[e.jsxs($t,{className:"grid w-full grid-cols-2",children:[e.jsxs(ns,{value:"posts",className:"text-xs",children:[e.jsx(Ce,{className:"w-4 h-4 mr-1"}),"내 글"]}),e.jsxs(ns,{value:"replies",className:"text-xs",children:[e.jsx(ne,{className:"w-4 h-4 mr-1"}),"내 답글"]})]}),e.jsx(ls,{value:"posts",className:"space-y-3 mt-4",children:B?e.jsx(y,{className:"hover:shadow-md transition-shadow cursor-pointer list-optimized","data-post-id":B.id,onClick:ts,children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Oe,{variant:"outline",className:"text-xs",children:B.subCategory}),e.jsx("span",{className:"text-xs text-muted-foreground",children:B.timeAgo})]}),e.jsx("h3",{className:"font-medium text-sm",children:B.title}),e.jsx("div",{className:"flex items-center justify-between pt-2 border-t border-border",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(we,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"text-xs text-amber-600",children:B.lanterns})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ne,{className:"w-3 h-3 text-muted-foreground"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:B.comments})]})]})})]})})},B.id):e.jsx(y,{children:e.jsxs(N,{className:"p-8 text-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"absolute inset-0 bg-blue-500/30 dark:bg-blue-400/30 blur-2xl rounded-full"}),e.jsx("div",{className:"relative w-20 h-20 rounded-full bg-blue-100 dark:bg-blue-900/40 flex items-center justify-center border-4 border-blue-400 dark:border-blue-600 shadow-lg mx-auto",children:e.jsx(Ce,{className:"w-12 h-12 text-blue-900 dark:text-blue-200",strokeWidth:2.5})})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"아직 작성한 글이 없습니다. 궁금한 것을 편하게 질문해 보세요."})]})})}),e.jsx(ls,{value:"replies",className:"space-y-3 mt-4",children:M?e.jsx(y,{className:"hover:shadow-md transition-shadow cursor-pointer list-optimized","data-post-id":M.postId,"data-reply-id":M.id,onClick:as,children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs font-medium text-primary truncate max-w-[60%]",children:[M.postAuthor,"님의 글"]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:M.timeAgo})]}),e.jsxs("h4",{className:"text-sm text-muted-foreground",children:['"',M.postTitle,'"']}),e.jsx("p",{className:"text-sm leading-relaxed",children:M.content}),e.jsxs("div",{className:"flex items-center space-x-1 pt-1",children:[e.jsx(we,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"text-xs text-amber-600",children:M.lanterns})]})]})})},M.id):e.jsx(y,{children:e.jsxs(N,{className:"p-8 text-center",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"absolute inset-0 bg-green-500/30 dark:bg-green-400/30 blur-2xl rounded-full"}),e.jsx("div",{className:"relative w-20 h-20 rounded-full bg-green-100 dark:bg-green-900/40 flex items-center justify-center border-4 border-green-400 dark:border-green-600 shadow-lg mx-auto",children:e.jsx(ne,{className:"w-12 h-12 text-green-900 dark:text-green-200",strokeWidth:2.5})})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"아직 작성한 답글이 없습니다. 다른 사람의 질문에 비유와 예시로 답해 보세요."})]})})})]}),e.jsxs("div",{className:"space-y-2 mt-6",children:[ce&&e.jsxs(b,{variant:"ghost",className:"w-full justify-start p-4 h-auto",onClick:ce,children:[e.jsx(jt,{className:"w-5 h-5 mr-3 text-purple-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:"칭호 도감"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"비유노트에서 모은 칭호들을 한눈에 볼 수 있어요."})]})]}),q&&e.jsxs(b,{variant:"ghost",className:"w-full justify-start p-4 h-auto",onClick:q,children:[e.jsx(Nt,{className:"w-5 h-5 mr-3 text-amber-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:"업적"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"질문과 답변으로 쌓인 나의 기록을 확인해 보세요."})]})]}),Z&&e.jsxs(b,{variant:"ghost",className:"w-full justify-start p-4 h-auto",onClick:Z,children:[e.jsx(ps,{className:"w-5 h-5 mr-3 text-purple-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:"테마 설정"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"몰입을 위한 테마를 선택하고 구매할 수 있어요."})]})]}),Ne&&!T&&e.jsxs(b,{variant:"ghost",className:"w-full justify-start p-4 h-auto",onClick:T?()=>h.info("로그인 후 이용 가능합니다."):Ne,disabled:T,children:[e.jsx(bt,{className:"w-5 h-5 mr-3 text-red-500"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:"차단 관리"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"차단한 사용자 목록을 확인하고 해제할 수 있어요."})]})]}),e.jsxs(b,{variant:"ghost",className:"w-full justify-start p-4 h-auto",onClick:Qs,children:[e.jsx(yt,{className:"w-5 h-5 mr-3"}),e.jsx("div",{className:"text-left",children:e.jsx("p",{className:"font-medium",children:"설정"})})]}),e.jsxs(b,{variant:"ghost",className:"w-full justify-start p-4 h-auto text-destructive hover:text-destructive",onClick:Fs,children:[e.jsx(os,{className:"w-5 h-5 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium",children:"로그아웃"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"계정에서 로그아웃합니다"})]})]})]})]}),e.jsx(ds,{open:x,onOpenChange:j,children:e.jsxs(_e,{className:"w-[340px] max-w-[90vw] max-h-[70vh] overflow-hidden flex flex-col",children:[e.jsxs(Me,{children:[e.jsx(Le,{children:"최근 3일간 작성한 글"}),e.jsx($e,{children:"최근 3일 이내에 작성한 게시글 목록입니다."})]}),e.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 py-2",children:Xe.length>0?Xe.map(o=>e.jsx(y,{"data-post-id":o.id,className:"cursor-pointer hover:shadow-md transition-shadow active:scale-[0.98]",onClick:ts,children:e.jsxs(N,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx(Oe,{variant:"outline",className:"text-xs",children:o.subCategory||o.category}),e.jsx("span",{className:"text-xs text-muted-foreground",children:o.timeAgo})]}),e.jsx("h4",{className:"text-sm font-medium line-clamp-2",children:o.title}),e.jsxs("div",{className:"flex items-center space-x-3 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(we,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"text-xs text-amber-600",children:o.lanterns})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ne,{className:"w-3 h-3 text-muted-foreground"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:o.comments})]})]})]})},o.id)):e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(Ce,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground/40"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"최근 3일간 작성한 글이 없습니다"})]})}),e.jsx(b,{variant:"outline",onClick:at,className:"mt-2",children:"닫기"})]})}),e.jsx(ds,{open:A,onOpenChange:R,children:e.jsxs(_e,{className:"w-[340px] max-w-[90vw] max-h-[70vh] overflow-hidden flex flex-col",children:[e.jsxs(Me,{children:[e.jsx(Le,{children:"최근 3일간 작성한 답글"}),e.jsx($e,{children:"최근 3일 이내에 작성한 답글 목록입니다."})]}),e.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 py-2",children:Qe.length>0?Qe.map(o=>e.jsx(y,{"data-post-id":o.postId,"data-reply-id":o.id,className:"cursor-pointer hover:shadow-md transition-shadow active:scale-[0.98]",onClick:as,children:e.jsxs(N,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("span",{className:"text-xs font-medium text-primary truncate max-w-[60%]",children:[o.postAuthor,"님의 글"]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:o.timeAgo})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-1 line-clamp-1",children:['"',o.postTitle,'"']}),e.jsx("p",{className:"text-sm line-clamp-2",children:o.content}),e.jsxs("div",{className:"flex items-center space-x-1 mt-2",children:[e.jsx(we,{className:"w-3 h-3 text-amber-500"}),e.jsx("span",{className:"text-xs text-amber-600",children:o.lanterns})]})]})},o.id)):e.jsxs("div",{className:"py-8 text-center",children:[e.jsx(ne,{className:"w-12 h-12 mx-auto mb-3 text-muted-foreground/40"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"최근 3일간 작성한 답글이 없습니다"})]})}),e.jsx(b,{variant:"outline",onClick:rt,className:"mt-2",children:"닫기"})]})}),$s&&e.jsx("div",{className:"fixed inset-0 z-[999] bg-black/60 backdrop-blur-sm flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-[360px] max-w-full rounded-2xl border border-border/60 bg-card shadow-2xl shadow-black/20 p-6 space-y-5",children:[e.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-accent/50 flex items-center justify-center shrink-0 mb-1",children:e.jsx(os,{className:"w-6 h-6 text-muted-foreground"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-lg font-semibold text-foreground",children:"로그아웃 하시겠어요?"}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"계정에서 로그아웃하면 다시 로그인해야 합니다."})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[e.jsx("button",{className:"flex-1 h-11 rounded-xl border border-input bg-background hover:bg-accent hover:text-accent-foreground text-foreground font-medium transition-colors text-sm",onClick:zs,children:"취소"}),e.jsx("button",{className:"flex-1 h-11 rounded-xl bg-primary text-primary-foreground hover:bg-primary/90 font-medium shadow-lg shadow-primary/20 transition-colors text-sm",onClick:qe,children:"로그아웃"})]})]})}),Ee&&e.jsx("div",{className:"fixed inset-0 z-[999] bg-black/50 backdrop-blur-sm flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-[360px] max-w-full rounded-lg border border-border bg-card p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex flex-col space-y-1.5 text-left",children:[e.jsx("h3",{className:"text-lg font-semibold leading-none tracking-tight",children:"프로필 설명"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"비유노트에서 어떻게 배우고, 설명하고 싶은지 짧게 적어보세요."})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{htmlFor:"description",children:"설명"}),e.jsx(vt,{id:"description",placeholder:"예: 비유와 예시로 다른 사람의 이해를 돕는 걸 좋아합니다.",value:te,onChange:Ys,onCompositionEnd:et,maxLength:W,className:"min-h-[100px]",autoFocus:!0}),e.jsxs("div",{className:"text-right text-xs text-muted-foreground",children:[te.length,"/",W]})]})}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(b,{variant:"outline",onClick:Zs,children:"취소"}),e.jsx(b,{onClick:T?()=>h.info("로그인 후 프로필 설명을 저장할 수 있습니다."):Js,disabled:T,children:"저장"})]})]})})]})}export{dr as MyPageScreen};
