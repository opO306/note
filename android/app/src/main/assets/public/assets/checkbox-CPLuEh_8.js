import{r as a,j as p}from"./index-BbQUyxS2.js";import{b as P,d as z}from"./App-CSSMO0Oh.js";import{c as H,P as I,b as G,a as S,e as K,u as X}from"./index-5LAPAtmD.js";import{u as _}from"./index-3nZT1wFB.js";import{C as V}from"./check-C_WT1q55.js";function $(t,e){return a.useReducer((r,o)=>e[r][o]??r,t)}var w=t=>{const{present:e,children:r}=t,o=J(e),s=typeof r=="function"?r({present:o.isPresent}):a.Children.only(r),n=P(o.ref,Q(s));return typeof r=="function"||o.isPresent?a.cloneElement(s,{ref:n}):null};w.displayName="Presence";function J(t){const[e,r]=a.useState(),o=a.useRef(null),s=a.useRef(t),n=a.useRef("none"),k=t?"mounted":"unmounted",[h,i]=$(k,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const c=N(o.current);n.current=h==="mounted"?c:"none"},[h]),_(()=>{const c=o.current,l=s.current;if(l!==t){const u=n.current,f=N(c);t?i("MOUNT"):f==="none"||c?.display==="none"?i("UNMOUNT"):i(l&&u!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,i]),_(()=>{if(e){let c;const l=e.ownerDocument.defaultView??window,d=f=>{const x=N(o.current).includes(CSS.escape(f.animationName));if(f.target===e&&x&&(i("ANIMATION_END"),!s.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",c=l.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},u=f=>{f.target===e&&(n.current=N(o.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{l.clearTimeout(c),e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else i("ANIMATION_END")},[e,i]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:a.useCallback(c=>{o.current=c?getComputedStyle(c):null,r(c)},[])}}function N(t){return t?.animationName||"none"}function Q(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var y="Checkbox",[Y]=H(y),[Z,A]=Y(y);function ee(t){const{__scopeCheckbox:e,checked:r,children:o,defaultChecked:s,disabled:n,form:k,name:h,onCheckedChange:i,required:c,value:l="on",internal_do_not_use_render:d}=t,[u,f]=G({prop:r,defaultProp:s??!1,onChange:i,caller:y}),[C,x]=a.useState(null),[g,m]=a.useState(null),b=a.useRef(!1),E=C?!!k||!!C.closest("form"):!0,R={checked:u,disabled:n,setChecked:f,control:C,setControl:x,name:h,form:k,value:l,hasConsumerStoppedPropagationRef:b,required:c,defaultChecked:v(s)?!1:s,isFormControl:E,bubbleInput:g,setBubbleInput:m};return p.jsx(Z,{scope:e,...R,children:te(d)?d(R):o})}var O="CheckboxTrigger",T=a.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...o},s)=>{const{control:n,value:k,disabled:h,checked:i,required:c,setControl:l,setChecked:d,hasConsumerStoppedPropagationRef:u,isFormControl:f,bubbleInput:C}=A(O,t),x=P(s,l),g=a.useRef(i);return a.useEffect(()=>{const m=n?.form;if(m){const b=()=>d(g.current);return m.addEventListener("reset",b),()=>m.removeEventListener("reset",b)}},[n,d]),p.jsx(I.button,{type:"button",role:"checkbox","aria-checked":v(i)?"mixed":i,"aria-required":c,"data-state":B(i),"data-disabled":h?"":void 0,disabled:h,value:k,...o,ref:x,onKeyDown:S(e,m=>{m.key==="Enter"&&m.preventDefault()}),onClick:S(r,m=>{d(b=>v(b)?!0:!b),C&&f&&(u.current=m.isPropagationStopped(),u.current||m.stopPropagation())})})});T.displayName=O;var j=a.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:o,checked:s,defaultChecked:n,required:k,disabled:h,value:i,onCheckedChange:c,form:l,...d}=t;return p.jsx(ee,{__scopeCheckbox:r,checked:s,defaultChecked:n,disabled:h,required:k,onCheckedChange:c,name:o,form:l,value:i,internal_do_not_use_render:({isFormControl:u})=>p.jsxs(p.Fragment,{children:[p.jsx(T,{...d,ref:e,__scopeCheckbox:r}),u&&p.jsx(F,{__scopeCheckbox:r})]})})});j.displayName=y;var U="CheckboxIndicator",L=a.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:o,...s}=t,n=A(U,r);return p.jsx(w,{present:o||v(n.checked)||n.checked===!0,children:p.jsx(I.span,{"data-state":B(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});L.displayName=U;var D="CheckboxBubbleInput",F=a.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:o,hasConsumerStoppedPropagationRef:s,checked:n,defaultChecked:k,required:h,disabled:i,name:c,value:l,form:d,bubbleInput:u,setBubbleInput:f}=A(D,t),C=P(r,f),x=K(n),g=X(o);a.useEffect(()=>{const b=u;if(!b)return;const E=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(E,"checked").set,W=!s.current;if(x!==n&&M){const q=new Event("click",{bubbles:W});b.indeterminate=v(n),M.call(b,v(n)?!1:n),b.dispatchEvent(q)}},[u,x,n,s]);const m=a.useRef(v(n)?!1:n);return p.jsx(I.input,{type:"checkbox","aria-hidden":!0,defaultChecked:k??m.current,required:h,disabled:i,name:c,value:l,form:d,...e,tabIndex:-1,ref:C,style:{...e.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});F.displayName=D;function te(t){return typeof t=="function"}function v(t){return t==="indeterminate"}function B(t){return v(t)?"indeterminate":t?"checked":"unchecked"}function ie({className:t,...e}){return p.jsx(j,{"data-slot":"checkbox",className:z("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(L,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:p.jsx(V,{className:"size-3.5"})})})}export{ie as C,w as P};
