const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BamWn4_j.js","./vendor-capacitor-B-BXHHKA.js","./App-CSSMO0Oh.js","./vendor-firebase-C-5pmDAC.js","./vendor-react-1wgkHQEd.js","./App-CEi_s2iG.css","./foregroundHandler-BArt5zCb.js","./firebaseCache-C_csZa1c.js"])))=>i.map(i=>d[i]);
import{C as qu,_ as xn}from"./vendor-capacitor-B-BXHHKA.js";import{r as Xo,g as Yo,a as ju}from"./vendor-react-1wgkHQEd.js";import{_ as mt,C as ht,r as Ze,S as Wu,a as Vu,F as Jo,g as mi,b as Jn,c as It,d as zu,i as Gu,p as Ku,u as Xu,e as Yu,L as Zo,E as hi,f as gi,h as Ju,D as Fn,j as Zu,k as Qu,l as el,m as tl,n as nl,o as rl,q as il,s as sl,v as ol,t as al}from"./vendor-firebase-C-5pmDAC.js";function cl(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var lr={exports:{}},Ut={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs;function ul(){if(fs)return Ut;fs=1;var e=Xo(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var l,d={},p=null,f=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(f=c.ref);for(l in c)r.call(c,l)&&!s.hasOwnProperty(l)&&(d[l]=c[l]);if(a&&a.defaultProps)for(l in c=a.defaultProps,c)d[l]===void 0&&(d[l]=c[l]);return{$$typeof:t,type:a,key:p,ref:f,props:d,_owner:i.current}}return Ut.Fragment=n,Ut.jsx=o,Ut.jsxs=o,Ut}var ps;function ll(){return ps||(ps=1,lr.exports=ul()),lr.exports}var ms=ll(),_i=Xo();const Qo=Yo(_i),Ny=cl({__proto__:null,default:Qo},[_i]);var fn={},hs;function dl(){if(hs)return fn;hs=1;var e=ju();return fn.createRoot=e.createRoot,fn.hydrateRoot=e.hydrateRoot,fn}var fl=dl();const pl=Yo(fl);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="firebasestorage.googleapis.com",ml="storageBucket",hl=120*1e3,gl=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me extends Jo{constructor(t,n,r=0){super(dr(t),`Firebase Storage: ${n} (${dr(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,me.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return dr(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pe;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pe||(pe={}));function dr(e){return"storage/"+e}function _l(){const e="An unknown error occurred, please check the error payload for server response.";return new me(pe.UNKNOWN,e)}function El(){return new me(pe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sl(){return new me(pe.CANCELED,"User canceled the upload/download.")}function yl(e){return new me(pe.INVALID_URL,"Invalid URL '"+e+"'.")}function Tl(e){return new me(pe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function gs(e){return new me(pe.INVALID_ARGUMENT,e)}function ta(){return new me(pe.APP_DELETED,"The Firebase app was deleted.")}function bl(e){return new me(pe.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=ce.makeFromUrl(t,n)}catch{return new ce(t,"")}if(r.path==="")return r;throw Tl(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(H){H.path_=decodeURIComponent(H.path)}const l="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${l}/b/${i}/o${p}`,"i"),m={bucket:1,path:3},E=n===ea?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",k=new RegExp(`^https?://${E}/${i}/${g}`,"i"),ie=[{regex:a,indices:c,postModify:s},{regex:f,indices:m,postModify:u},{regex:k,indices:{bucket:1,path:2},postModify:u}];for(let H=0;H<ie.length;H++){const Ae=ie[H],we=Ae.regex.exec(t);if(we){const y=we[Ae.indices.bucket];let N=we[Ae.indices.path];N||(N=""),r=new ce(y,N),Ae.postModify(r);break}}if(r==null)throw yl(t);return r}}class vl{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...g){u||(u=!0,t.apply(null,g))}function d(g){i=setTimeout(()=>{i=null,e(f,c())},g)}function p(){s&&clearTimeout(s)}function f(g,...k){if(u){p();return}if(g){p(),l.call(null,g,...k);return}if(c()||o){p(),l.call(null,g,...k);return}r<64&&(r*=2);let ie;a===1?(a=2,ie=0):ie=(r+Math.random())*1e3,d(ie)}let m=!1;function E(g){m||(m=!0,p(),!u&&(i!==null?(g||(a=2),clearTimeout(i),d(0)):g||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,E(!0)},n),E}function Rl(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(e){return e!==void 0}function _s(e,t,n,r){if(r<t)throw gs(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw gs(`Invalid value for '${e}'. Expected ${n} or less.`)}function wl(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var $n;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})($n||($n={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t,n,r,i,s,o,a,c,u,l,d,p=!0,f=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=p,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,E)=>{this.resolve_=m,this.reject_=E,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new pn(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===$n.NO_ERROR,c=s.getStatus();if(!a||kl(c,this.additionalRetryCodes_)&&this.retry){const l=s.getErrorCode()===$n.ABORT;r(!1,new pn(!1,null,l));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new pn(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());Al(c)?s(c):s()}catch(c){o(c)}else if(a!==null){const c=_l();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){const c=this.appDelete_?ta():Sl();o(c)}else{const c=El();o(c)}};this.canceled_?n(!1,new pn(!1,null,!0)):this.backoffId_=Il(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Rl(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pn{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Cl(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Pl(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Ol(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Ml(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Ll(e,t,n,r,i,s,o=!0,a=!1){const c=wl(e.urlParams),u=e.url+c,l=Object.assign({},e.headers);return Ol(l,t),Cl(l,n),Pl(l,s),Ml(l,r),new Nl(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function xl(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t,n){this._service=t,n instanceof ce?this._location=n:this._location=ce.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Un(t,n)}get root(){const t=new ce(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xl(this._location.path)}get storage(){return this._service}get parent(){const t=Dl(this._location.path);if(t===null)return null;const n=new ce(this._location.bucket,t);return new Un(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw bl(t)}}function Es(e,t){const n=t?.[ml];return n==null?null:ce.makeFromBucketSpec(n,e)}function Fl(e,t,n,r={}){e.host=`${t}:${n}`;const i=Gu(t);i&&(Ku(`https://${e.host}/b`),Xu("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(e._overrideAuthToken=typeof s=="string"?s:Yu(s,e.app.options.projectId))}class $l{constructor(t,n,r,i,s,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=ea,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hl,this._maxUploadRetryTime=gl,this._requests=new Set,i!=null?this._bucket=ce.makeFromBucketSpec(i,this._host):this._bucket=Es(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ce.makeFromBucketSpec(this._url,t):this._bucket=Es(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){_s("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){_s("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vu(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Un(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new vl(ta());{const o=Ll(t,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const Ss="@firebase/storage",ys="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="storage";function Ul(e=mi(),t){e=Jn(e);const r=It(e,na).getImmediate({identifier:t}),i=zu("storage");return i&&Bl(r,...i),r}function Bl(e,t,n,r={}){Fl(e,t,n,r)}function Hl(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new $l(n,r,i,t,Wu)}function ql(){mt(new ht(na,Hl,"PUBLIC").setMultipleInstances(!0)),Ze(Ss,ys,""),Ze(Ss,ys,"esm2020")}ql();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Map,ra={activated:!1,tokenObservers:[]},jl={initialized:!1,enabled:!1};function O(e){return Fr.get(e)||{...ra}}function Wl(e,t){return Fr.set(e,t),Fr.get(e)}function Zn(){return jl}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="https://content-firebaseappcheck.googleapis.com/v1",Vl="exchangeRecaptchaEnterpriseToken",zl="exchangeDebugToken",Ts={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Gl=1440*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new Fn,this.pending.promise.catch(n=>{}),await Xl(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new Fn,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function Xl(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},V=new hi("appCheck","AppCheck",Yl);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(e=!1){return e?self.grecaptcha?.enterprise:self.grecaptcha}function Ei(e){if(!O(e).activated)throw V.create("use-before-activation",{appName:e.name})}function sa(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=mn(n)+"d:"),r&&(o+=mn(r)+"h:"),o+=mn(i)+"m:"+mn(s)+"s",o}function mn(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Si({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(d){throw V.create("fetch-network-error",{originalErrorMessage:d?.message})}if(o.status!==200)throw V.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw V.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw V.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(c[1])*1e3,l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}function Jl(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${ia}/projects/${n}/apps/${r}:${Vl}?key=${i}`,body:{recaptcha_enterprise_token:t}}}function oa(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${ia}/projects/${n}/apps/${r}:${zl}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="firebase-app-check-database",Ql=1,Vt="firebase-app-check-store",aa="debug-token";let hn=null;function ca(){return hn||(hn=new Promise((e,t)=>{try{const n=indexedDB.open(Zl,Ql);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{t(V.create("storage-open",{originalErrorMessage:r.target.error?.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Vt,{keyPath:"compositeKey"})}}}catch(n){t(V.create("storage-open",{originalErrorMessage:n?.message}))}}),hn)}function ed(e){return la(da(e))}function td(e,t){return ua(da(e),t)}function nd(e){return ua(aa,e)}function rd(){return la(aa)}async function ua(e,t){const r=(await ca()).transaction(Vt,"readwrite"),s=r.objectStore(Vt).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{a(V.create("storage-set",{originalErrorMessage:c.target.error?.message}))}})}async function la(e){const n=(await ca()).transaction(Vt,"readonly"),i=n.objectStore(Vt).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const c=a.target.result;s(c?c.value:void 0)},n.onerror=a=>{o(V.create("storage-get",{originalErrorMessage:a.target.error?.message}))}})}function da(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe=new Zo("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function id(e){if(gi()){let t;try{t=await ed(e)}catch(n){Pe.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function fr(e,t){return gi()?td(e,t).catch(n=>{Pe.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function sd(){let e;try{e=await rd()}catch{}if(e)return e;{const t=crypto.randomUUID();return nd(t).catch(n=>Pe.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return Zn().enabled}async function Ti(){const e=Zn();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function od(){const e=Zu(),t=Zn();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new Fn;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(sd())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad={error:"UNKNOWN_ERROR"};function cd(e){return Ju.encodeString(JSON.stringify(e),!1)}async function $r(e,t=!1,n=!1){const r=e.app;Ei(r);const i=O(r);let s=i.token,o;if(s&&!ct(s)&&(i.token=void 0,s=void 0),!s){const u=await i.cachedTokenPromise;u&&(ct(u)?s=u:await fr(r,void 0))}if(!t&&s&&ct(s))return{token:s.token};let a=!1;if(yi())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=Si(oa(r,await Ti()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);const u=await i.exchangeTokenPromise;return await fr(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Pe.warn(u.message):n&&Pe.error(u),pr(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await O(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Pe.warn(u.message):n&&Pe.error(u),o=u}let c;return s?o?ct(s)?c={token:s.token,internalError:o}:c=pr(o):(c={token:s.token},i.token=s,await fr(r,s)):c=pr(o),a&&ma(r,c),c}async function ud(e){const t=e.app;Ei(t);const{provider:n}=O(t);if(yi()){const r=await Ti(),{token:i}=await Si(oa(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function fa(e,t,n,r){const{app:i}=e,s=O(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&ct(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),vs(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>vs(e))}function pa(e,t){const n=O(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function vs(e){const{app:t}=e,n=O(t);let r=n.tokenRefresher;r||(r=ld(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ld(e){const{app:t}=e;return new Kl(async()=>{const n=O(t);let r;if(n.token?r=await $r(e,!0):r=await $r(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=O(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Ts.RETRIAL_MIN_WAIT,Ts.RETRIAL_MAX_WAIT)}function ma(e,t){const n=O(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function ct(e){return e.expireTimeMillis-Date.now()>0}function pr(e){return{token:cd(ad),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=O(this.app);for(const n of t)pa(this.app,n.next);return Promise.resolve()}}function fd(e,t){return new dd(e,t)}function pd(e){return{getToken:t=>$r(e,t),getLimitedUseToken:()=>ud(e),addTokenListener:t=>fa(e,"INTERNAL",t),removeTokenListener:t=>pa(e.app,t)}}const md="@firebase/app-check",hd="0.11.0",gd="https://www.google.com/recaptcha/enterprise.js";function _d(e,t){const n=new Fn,r=O(e);r.reCAPTCHAState={initialized:n};const i=Ed(e),s=bs(!0);return s?Is(e,t,s,i,n):Td(()=>{const o=bs(!0);if(!o)throw new Error("no recaptcha");Is(e,t,o,i,n)}),n.promise}function Is(e,t,n,r,i){n.ready(()=>{yd(e,t,n,r),i.resolve(n)})}function Ed(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function Sd(e){Ei(e);const n=await O(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=O(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function yd(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{O(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{O(e).reCAPTCHAState.succeeded=!1}}),s=O(e);s.reCAPTCHAState={...s.reCAPTCHAState,widgetId:i}}function Td(e){const t=document.createElement("script");t.src=gd,t.onload=e,document.head.appendChild(t)}class bi{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){vd(this._throttleData);const t=await Sd(this._app).catch(r=>{throw V.create("recaptcha-error")});if(!O(this._app).reCAPTCHAState?.succeeded)throw V.create("recaptcha-error");let n;try{n=await Si(Jl(this._app,t),this._heartbeatServiceProvider)}catch(r){throw r.code?.includes("fetch-status-error")?(this._throttleData=bd(Number(r.customData?.httpStatus),this._throttleData),V.create("initial-throttle",{time:sa(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):r}return this._throttleData=null,n}initialize(t){this._app=t,this._heartbeatServiceProvider=It(t,"heartbeat"),_d(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof bi?this._siteKey===t._siteKey:!1}}function bd(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Gl,httpStatus:e};{const n=t?t.backoffCount:0,r=Qu(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function vd(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw V.create("throttled",{time:sa(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(e=mi(),t){e=Jn(e);const n=It(e,"app-check");if(Zn().initialized||od(),yi()&&Ti().then(i=>{}),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw V.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return Rd(e,t.provider,t.isTokenAutoRefreshEnabled),O(e).isTokenAutoRefreshEnabled&&fa(r,"INTERNAL",()=>{}),r}function Rd(e,t,n=!1){const r=Wl(e,{...ra});r.activated=!0,r.provider=t,r.cachedTokenPromise=id(e).then(i=>(i&&ct(i)&&(r.token=i,ma(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n&&e.automaticDataCollectionEnabled,!e.automaticDataCollectionEnabled&&n&&Pe.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),r.provider.initialize(e)}const Ad="app-check",Rs="app-check-internal";function wd(){mt(new ht(Ad,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return fd(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Rs).initialize()})),mt(new ht(Rs,e=>{const t=e.getProvider("app-check").getImmediate();return pd(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ze(md,hd)}wd();const kd={apiKey:"AIzaSyBYpxHaQ-WDuj-c7pTT4zu7Kf5Kpx7FgUk",authDomain:"dddd-e6a52.firebaseapp.com",projectId:"dddd-e6a52",storageBucket:"dddd-e6a52.firebasestorage.app",messagingSenderId:"852428184810",appId:"1:852428184810:web:c97e9be32fe18600ae4b93"},Rt=el(kd),Cy=tl(Rt),Py=nl(Rt),Oy=rl(Rt,"asia-northeast3");Ul(Rt);let Nd=null;async function Cd(){return Promise.resolve()}async function Pd(){qu.isNativePlatform();{const e="6LeA4B0sAAAAAEf9UN-uyRJlqnH5pozFf0X-Me4C";try{Nd=Id(Rt,{provider:new bi(e),isTokenAutoRefreshEnabled:!0})}catch{}}}var Ur,As,Qn=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},ha=function(e){if(document.readyState==="loading")return"loading";var t=Qn();if(t){if(e<t.domInteractive)return"loading";if(t.domContentLoadedEventStart===0||e<t.domContentLoadedEventStart)return"dom-interactive";if(t.domComplete===0||e<t.domComplete)return"dom-content-loaded"}return"complete"},Od=function(e){var t=e.nodeName;return e.nodeType===1?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},vi=function(e,t){var n="";try{for(;e&&e.nodeType!==9;){var r=e,i=r.id?"#"+r.id:Od(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+i.length>(t||100)-1)return n||i;if(n=n?i+">"+n:i,r.id)break;e=r.parentNode}}catch{}return n},ga=-1,Md=function(){return ga},Zt=function(e){addEventListener("pageshow",(function(t){t.persisted&&(ga=t.timeStamp,e(t))}),!0)},Ii=function(){var e=Qn();return e&&e.activationStart||0},Me=function(e,t){var n=Qn(),r="navigate";return Md()>=0?r="back-forward-cache":n&&(document.prerendering||Ii()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},At=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(i){Promise.resolve().then((function(){t(i.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Le=function(e,t,n,r){var i,s;return function(o){t.value>=0&&(o||r)&&((s=t.value-(i||0))||i===void 0)&&(i=t.value,t.delta=s,t.rating=(function(a,c){return a>c[1]?"poor":a>c[0]?"needs-improvement":"good"})(t.value,n),e(t))}},Ri=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},er=function(e){document.addEventListener("visibilitychange",(function(){document.visibilityState==="hidden"&&e()}))},Ai=function(e){var t=!1;return function(){t||(e(),t=!0)}},ut=-1,ws=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},Bn=function(e){document.visibilityState==="hidden"&&ut>-1&&(ut=e.type==="visibilitychange"?e.timeStamp:0,Ld())},ks=function(){addEventListener("visibilitychange",Bn,!0),addEventListener("prerenderingchange",Bn,!0)},Ld=function(){removeEventListener("visibilitychange",Bn,!0),removeEventListener("prerenderingchange",Bn,!0)},_a=function(){return ut<0&&(ut=ws(),ks(),Zt((function(){setTimeout((function(){ut=ws(),ks()}),0)}))),{get firstHiddenTime(){return ut}}},wi=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Ns=[1800,3e3],Dd=function(e,t){t=t||{},wi((function(){var n,r=_a(),i=Me("FCP"),s=At("paint",(function(o){o.forEach((function(a){a.name==="first-contentful-paint"&&(s.disconnect(),a.startTime<r.firstHiddenTime&&(i.value=Math.max(a.startTime-Ii(),0),i.entries.push(a),n(!0)))}))}));s&&(n=Le(e,i,Ns,t.reportAllChanges),Zt((function(o){i=Me("FCP"),n=Le(e,i,Ns,t.reportAllChanges),Ri((function(){i.value=performance.now()-o.timeStamp,n(!0)}))})))}))},Cs=[.1,.25],xd=function(e,t){(function(n,r){r=r||{},Dd(Ai((function(){var i,s=Me("CLS",0),o=0,a=[],c=function(l){l.forEach((function(d){if(!d.hadRecentInput){var p=a[0],f=a[a.length-1];o&&d.startTime-f.startTime<1e3&&d.startTime-p.startTime<5e3?(o+=d.value,a.push(d)):(o=d.value,a=[d])}})),o>s.value&&(s.value=o,s.entries=a,i())},u=At("layout-shift",c);u&&(i=Le(n,s,Cs,r.reportAllChanges),er((function(){c(u.takeRecords()),i(!0)})),Zt((function(){o=0,s=Me("CLS",0),i=Le(n,s,Cs,r.reportAllChanges),Ri((function(){return i()}))})),setTimeout(i,0))})))})((function(n){var r=(function(i){var s,o={};if(i.entries.length){var a=i.entries.reduce((function(u,l){return u&&u.value>l.value?u:l}));if(a&&a.sources&&a.sources.length){var c=(s=a.sources).find((function(u){return u.node&&u.node.nodeType===1}))||s[0];c&&(o={largestShiftTarget:vi(c.node),largestShiftTime:a.startTime,largestShiftValue:a.value,largestShiftSource:c,largestShiftEntry:a,loadState:ha(a.startTime)})}}return Object.assign(i,{attribution:o})})(n);e(r)}),t)},Ea=0,mr=1/0,gn=0,Fd=function(e){e.forEach((function(t){t.interactionId&&(mr=Math.min(mr,t.interactionId),gn=Math.max(gn,t.interactionId),Ea=gn?(gn-mr)/7+1:0)}))},Sa=function(){return Ur?Ea:performance.interactionCount||0},$d=function(){"interactionCount"in performance||Ur||(Ur=At("event",Fd,{type:"event",buffered:!0,durationThreshold:0}))},oe=[],Ht=new Map,ya=0,Ud=function(){var e=Math.min(oe.length-1,Math.floor((Sa()-ya)/50));return oe[e]},Ta=[],Bd=function(e){if(Ta.forEach((function(i){return i(e)})),e.interactionId||e.entryType==="first-input"){var t=oe[oe.length-1],n=Ht.get(e.interactionId);if(n||oe.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};Ht.set(r.id,r),oe.push(r)}oe.sort((function(i,s){return s.latency-i.latency})),oe.length>10&&oe.splice(10).forEach((function(i){return Ht.delete(i.id)}))}}},ki=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=Ai(e),document.visibilityState==="hidden"?e():(n=t(e),er(e)),n},Ps=[200,500],Hd=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},wi((function(){var n;$d();var r,i=Me("INP"),s=function(a){ki((function(){a.forEach(Bd);var c=Ud();c&&c.latency!==i.value&&(i.value=c.latency,i.entries=c.entries,r())}))},o=At("event",s,{durationThreshold:(n=t.durationThreshold)!==null&&n!==void 0?n:40});r=Le(e,i,Ps,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),er((function(){s(o.takeRecords()),r(!0)})),Zt((function(){ya=Sa(),oe.length=0,Ht.clear(),i=Me("INP"),r=Le(e,i,Ps,t.reportAllChanges)})))})))},dt=[],Ce=[],Br=0,Ni=new WeakMap,ft=new Map,Hr=-1,qd=function(e){dt=dt.concat(e),ba()},ba=function(){Hr<0&&(Hr=ki(jd))},jd=function(){ft.size>10&&ft.forEach((function(o,a){Ht.has(a)||ft.delete(a)}));var e=oe.map((function(o){return Ni.get(o.entries[0])})),t=Ce.length-50;Ce=Ce.filter((function(o,a){return a>=t||e.includes(o)}));for(var n=new Set,r=0;r<Ce.length;r++){var i=Ce[r];va(i.startTime,i.processingEnd).forEach((function(o){n.add(o)}))}var s=dt.length-1-50;dt=dt.filter((function(o,a){return o.startTime>Br&&a>s||n.has(o)})),Hr=-1};Ta.push((function(e){e.interactionId&&e.target&&!ft.has(e.interactionId)&&ft.set(e.interactionId,e.target)}),(function(e){var t,n=e.startTime+e.duration;Br=Math.max(Br,e.processingEnd);for(var r=Ce.length-1;r>=0;r--){var i=Ce[r];if(Math.abs(n-i.renderTime)<=8){(t=i).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:n,entries:[e]},Ce.push(t)),(e.interactionId||e.entryType==="first-input")&&Ni.set(e,t),ba()}));var va=function(e,t){for(var n,r=[],i=0;n=dt[i];i++)if(!(n.startTime+n.duration<e)){if(n.startTime>t)break;r.push(n)}return r},Wd=function(e,t){As||(As=At("long-animation-frame",qd)),Hd((function(n){var r=(function(i){var s=i.entries[0],o=Ni.get(s),a=s.processingStart,c=o.processingEnd,u=o.entries.sort((function(g,k){return g.processingStart-k.processingStart})),l=va(s.startTime,c),d=i.entries.find((function(g){return g.target})),p=d&&d.target||ft.get(s.interactionId),f=[s.startTime+s.duration,c].concat(l.map((function(g){return g.startTime+g.duration}))),m=Math.max.apply(Math,f),E={interactionTarget:vi(p),interactionTargetElement:p,interactionType:s.name.startsWith("key")?"keyboard":"pointer",interactionTime:s.startTime,nextPaintTime:m,processedEventEntries:u,longAnimationFrameEntries:l,inputDelay:a-s.startTime,processingDuration:c-a,presentationDelay:Math.max(m-c,0),loadState:ha(s.startTime)};return Object.assign(i,{attribution:E})})(n);e(r)}),t)},Os=[2500,4e3],hr={},Vd=function(e,t){(function(n,r){r=r||{},wi((function(){var i,s=_a(),o=Me("LCP"),a=function(l){r.reportAllChanges||(l=l.slice(-1)),l.forEach((function(d){d.startTime<s.firstHiddenTime&&(o.value=Math.max(d.startTime-Ii(),0),o.entries=[d],i())}))},c=At("largest-contentful-paint",a);if(c){i=Le(n,o,Os,r.reportAllChanges);var u=Ai((function(){hr[o.id]||(a(c.takeRecords()),c.disconnect(),hr[o.id]=!0,i(!0))}));["keydown","click"].forEach((function(l){addEventListener(l,(function(){return ki(u)}),{once:!0,capture:!0})})),er(u),Zt((function(l){o=Me("LCP"),i=Le(n,o,Os,r.reportAllChanges),Ri((function(){o.value=performance.now()-l.timeStamp,hr[o.id]=!0,i(!0)}))}))}}))})((function(n){var r=(function(i){var s={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:i.value};if(i.entries.length){var o=Qn();if(o){var a=o.activationStart||0,c=i.entries[i.entries.length-1],u=c.url&&performance.getEntriesByType("resource").filter((function(m){return m.name===c.url}))[0],l=Math.max(0,o.responseStart-a),d=Math.max(l,u?(u.requestStart||u.startTime)-a:0),p=Math.max(d,u?u.responseEnd-a:0),f=Math.max(p,c.startTime-a);s={element:vi(c.element),timeToFirstByte:l,resourceLoadDelay:d-l,resourceLoadDuration:p-d,elementRenderDelay:f-p,navigationEntry:o,lcpEntry:c},c.url&&(s.url=c.url),u&&(s.lcpResourceEntry=u)}}return Object.assign(i,{attribution:s})})(n);e(r)}),t)};const Ia="@firebase/installations",Ci="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=1e4,Aa=`w:${Ci}`,wa="FIS_v2",zd="https://firebaseinstallations.googleapis.com/v1",Gd=3600*1e3,Kd="installations",Xd="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qe=new hi(Kd,Xd,Yd);function ka(e){return e instanceof Jo&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na({projectId:e}){return`${zd}/projects/${e}/installations`}function Ca(e){return{token:e.token,requestStatus:2,expiresIn:Zd(e.expiresIn),creationTime:Date.now()}}async function Pa(e,t){const r=(await t.json()).error;return Qe.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Oa({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Jd(e,{refreshToken:t}){const n=Oa(e);return n.append("Authorization",Qd(t)),n}async function Ma(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Zd(e){return Number(e.replace("s","000"))}function Qd(e){return`${wa} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ef({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Na(e),i=Oa(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:wa,appId:e.appId,sdkVersion:Aa},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await Ma(()=>fetch(r,a));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Ca(u.authToken)}}else throw await Pa("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=/^[cdef][\w-]{21}$/,qr="";function rf(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=sf(e);return nf.test(n)?n:qr}catch{return qr}}function sf(e){return tf(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new Map;function xa(e,t){const n=tr(e);Fa(n,t),of(n,t)}function Fa(e,t){const n=Da.get(e);if(n)for(const r of n)r(t)}function of(e,t){const n=af();n&&n.postMessage({key:e,fid:t}),cf()}let ze=null;function af(){return!ze&&"BroadcastChannel"in self&&(ze=new BroadcastChannel("[Firebase] FID Change"),ze.onmessage=e=>{Fa(e.data.key,e.data.fid)}),ze}function cf(){Da.size===0&&ze&&(ze.close(),ze=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="firebase-installations-database",lf=1,et="firebase-installations-store";let gr=null;function Pi(){return gr||(gr=il(uf,lf,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(et)}}})),gr}async function Hn(e,t){const n=tr(e),i=(await Pi()).transaction(et,"readwrite"),s=i.objectStore(et),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&xa(e,t.fid),t}async function $a(e){const t=tr(e),r=(await Pi()).transaction(et,"readwrite");await r.objectStore(et).delete(t),await r.done}async function nr(e,t){const n=tr(e),i=(await Pi()).transaction(et,"readwrite"),s=i.objectStore(et),o=await s.get(n),a=t(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&xa(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oi(e){let t;const n=await nr(e.appConfig,r=>{const i=df(r),s=ff(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===qr?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function df(e){const t=e||{fid:rf(),registrationStatus:0};return Ua(t)}function ff(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Qe.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=pf(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:mf(e)}:{installationEntry:t}}async function pf(e,t){try{const n=await ef(e,t);return Hn(e.appConfig,n)}catch(n){throw ka(n)&&n.customData.serverCode===409?await $a(e.appConfig):await Hn(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function mf(e){let t=await Ms(e.appConfig);for(;t.registrationStatus===1;)await La(100),t=await Ms(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Oi(e);return r||n}return t}function Ms(e){return nr(e,t=>{if(!t)throw Qe.create("installation-not-found");return Ua(t)})}function Ua(e){return hf(e)?{fid:e.fid,registrationStatus:0}:e}function hf(e){return e.registrationStatus===1&&e.registrationTime+Ra<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf({appConfig:e,heartbeatServiceProvider:t},n){const r=_f(e,n),i=Jd(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:Aa,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await Ma(()=>fetch(r,a));if(c.ok){const u=await c.json();return Ca(u)}else throw await Pa("Generate Auth Token",c)}function _f(e,{fid:t}){return`${Na(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mi(e,t=!1){let n;const r=await nr(e.appConfig,s=>{if(!Ba(s))throw Qe.create("not-registered");const o=s.authToken;if(!t&&yf(o))return s;if(o.requestStatus===1)return n=Ef(e,t),s;{if(!navigator.onLine)throw Qe.create("app-offline");const a=bf(s);return n=Sf(e,a),a}});return n?await n:r.authToken}async function Ef(e,t){let n=await Ls(e.appConfig);for(;n.authToken.requestStatus===1;)await La(100),n=await Ls(e.appConfig);const r=n.authToken;return r.requestStatus===0?Mi(e,t):r}function Ls(e){return nr(e,t=>{if(!Ba(t))throw Qe.create("not-registered");const n=t.authToken;return vf(n)?{...t,authToken:{requestStatus:0}}:t})}async function Sf(e,t){try{const n=await gf(e,t),r={...t,authToken:n};return await Hn(e.appConfig,r),n}catch(n){if(ka(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await $a(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Hn(e.appConfig,r)}throw n}}function Ba(e){return e!==void 0&&e.registrationStatus===2}function yf(e){return e.requestStatus===2&&!Tf(e)}function Tf(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Gd}function bf(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function vf(e){return e.requestStatus===1&&e.requestTime+Ra<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(e){const t=e,{installationEntry:n,registrationPromise:r}=await Oi(t);return r?r.catch(console.error):Mi(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rf(e,t=!1){const n=e;return await Af(n),(await Mi(n,t)).token}async function Af(e){const{registrationPromise:t}=await Oi(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(e){if(!e||!e.options)throw _r("App Configuration");if(!e.name)throw _r("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw _r(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function _r(e){return Qe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="installations",kf="installations-internal",Nf=e=>{const t=e.getProvider("app").getImmediate(),n=wf(t),r=It(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Cf=e=>{const t=e.getProvider("app").getImmediate(),n=It(t,Ha).getImmediate();return{getId:()=>If(n),getToken:i=>Rf(n,i)}};function Pf(){mt(new ht(Ha,Nf,"PUBLIC")),mt(new ht(kf,Cf,"PRIVATE"))}Pf();Ze(Ia,Ci);Ze(Ia,Ci,"esm2020");const Ds="@firebase/performance",jr="0.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=jr,Of="FB-PERF-TRACE-START",Mf="FB-PERF-TRACE-STOP",Wr="FB-PERF-TRACE-MEASURE",ja="_wt_",Wa="_fp",Va="_fcp",za="_fid",Ga="_lcp",Lf="lcp_element",Ka="_inp",Df="inp_interactionTarget",Xa="_cls",xf="cls_largestShiftTarget",Ya="@firebase/performance/config",Ja="@firebase/performance/configexpire",Ff="performance",Za="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},U=new hi(Ff,Za,$f);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye=new Zo(Za);ye.logLevel=sl.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Er,Qa;class M{constructor(t){if(this.window=t,!t)throw U.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay),this.onLCP=Vd,this.onINP=Wd,this.onCLS=xd}getUrl(){return this.windowLocation.href.split("?")[0]}mark(t){!this.performance||!this.performance.mark||this.performance.mark(t)}measure(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)}getEntriesByType(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)}getEntriesByName(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!al()?(ye.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):gi()?!0:(ye.info("IndexedDB is not supported by current browser"),!1)}setupObserver(t,n){if(!this.PerformanceObserver)return;new this.PerformanceObserver(i=>{for(const s of i.getEntries())n(s)}).observe({entryTypes:[t]})}static getInstance(){return Er===void 0&&(Er=new M(Qa)),Er}}function Uf(e){Qa=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;function Bf(e){const t=e.getId();return t.then(n=>{ec=n}),t}function Li(){return ec}function Hf(e){const t=e.getToken();return t.then(n=>{}),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(e,t){const n=e.length-t.length;if(n<0||n>1)throw U.create("invalid String merger input");const r=[];for(let i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sr;class q{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=xs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=xs("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12,this.logMaxFlushSize=40}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return Sr===void 0&&(Sr=new q),Sr}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(qt||(qt={}));const qf=["firebase_","google_","ga_"],jf=new RegExp("^[a-zA-Z]\\w*$"),Wf=40,Vr=100;function Vf(){const e=M.getInstance().navigator;return e?.serviceWorker?e.serviceWorker.controller?2:3:1}function zf(){switch(M.getInstance().document.visibilityState){case"visible":return qt.VISIBLE;case"hidden":return qt.HIDDEN;default:return qt.UNKNOWN}}function Gf(){const t=M.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Kf(e){return e.length===0||e.length>Wf?!1:!qf.some(n=>e.startsWith(n))&&!!e.match(jf)}function Xf(e){return e.length!==0&&e.length<=Vr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(e){const t=e.options?.appId;if(!t)throw U.create("no app id");return t}function Yf(e){const t=e.options?.projectId;if(!t)throw U.create("no project id");return t}function Jf(e){const t=e.options?.apiKey;if(!t)throw U.create("no api key");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="0.0.1",G={loggingEnabled:!0},Qf="FIREBASE_INSTALLATIONS_AUTH";function ep(e,t){const n=tp();return n?(Fs(n),Promise.resolve()):ip(e,t).then(Fs).then(r=>np(r),()=>{})}function tp(){const e=M.getInstance().localStorage;if(!e)return;const t=e.getItem(Ja);if(!t||!sp(t))return;const n=e.getItem(Ya);if(n)try{return JSON.parse(n)}catch{return}}function np(e){const t=M.getInstance().localStorage;!e||!t||(t.setItem(Ya,JSON.stringify(e)),t.setItem(Ja,String(Date.now()+q.getInstance().configTimeToLive*60*60*1e3)))}const rp="Could not fetch config, will use default configs";function ip(e,t){return Hf(e.installations).then(n=>{const r=Yf(e.app),i=Jf(e.app),s=`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,o=new Request(s,{method:"POST",headers:{Authorization:`${Qf} ${n}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:tc(e.app),app_version:qa,sdk_version:Zf})});return fetch(o).then(a=>{if(a.ok)return a.json();throw U.create("RC response not ok")})}).catch(()=>{ye.info(rp)})}function Fs(e){if(!e)return e;const t=q.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=G.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):G.logSource&&(t.logSource=G.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:G.logEndPointUrl&&(t.logEndPointUrl=G.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:G.transportKey&&(t.transportKey=G.transportKey),n.fpr_vc_network_request_sampling_rate!==void 0?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):G.networkRequestsSamplingRate!==void 0&&(t.networkRequestsSamplingRate=G.networkRequestsSamplingRate),n.fpr_vc_trace_sampling_rate!==void 0?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):G.tracesSamplingRate!==void 0&&(t.tracesSamplingRate=G.tracesSamplingRate),n.fpr_log_max_flush_size?t.logMaxFlushSize=Number(n.fpr_log_max_flush_size):G.logMaxFlushSize&&(t.logMaxFlushSize=G.logMaxFlushSize),t.logTraceAfterSampling=$s(t.tracesSamplingRate),t.logNetworkAfterSampling=$s(t.networkRequestsSamplingRate),e}function sp(e){return Number(e)>Date.now()}function $s(e){return Math.random()<=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Di=1,yr;function nc(e){return Di=2,yr=yr||ap(e),yr}function op(){return Di===3}function ap(e){return cp().then(()=>Bf(e.installations)).then(t=>ep(e,t)).then(()=>Us(),()=>Us())}function cp(){const e=M.getInstance().document;return new Promise(t=>{if(e&&e.readyState!=="complete"){const n=()=>{e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function Us(){Di=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=10*1e3,up=5.5*1e3,lp=1e3,ic=3,dp=65536,fp=new TextEncoder;let In=ic,Q=[],Bs=!1;function pp(){Bs||(xi(up),Bs=!0)}function xi(e){setTimeout(()=>{In<=0||(Q.length>0&&mp(),xi(rc))},e)}function mp(){const e=Q.splice(0,lp),t=zr(e);hp(t).then(()=>{In=ic}).catch(()=>{Q=[...e,...Q],In--,ye.info(`Tries left: ${In}.`),xi(rc)})}function zr(e){const t=e.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:q.getInstance().logSource,log_event:t};return JSON.stringify(n)}function hp(e){const t=q.getInstance().getFlTransportFullUrl();return fp.encode(e).length<=dp&&navigator.sendBeacon&&navigator.sendBeacon(t,e)?Promise.resolve():fetch(t,{method:"POST",body:e})}function gp(e){if(!e.eventTime||!e.message)throw U.create("invalid cc log");Q=[...Q,e]}function _p(e){return(...t)=>{const n=e(...t);gp({message:n,eventTime:Date.now()})}}function Ep(){const e=q.getInstance().getFlTransportFullUrl();for(;Q.length>0;){const t=Q.splice(-q.getInstance().logMaxFlushSize),n=zr(t);if(!(navigator.sendBeacon&&navigator.sendBeacon(e,n))){Q=[...Q,...t];break}}if(Q.length>0){const t=zr(Q);fetch(e,{method:"POST",body:t}).catch(()=>{ye.info("Failed flushing queued events.")})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jt;function sc(e,t){jt||(jt={send:_p(Tp),flush:Ep}),jt.send(e,t)}function _n(e){const t=q.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||M.getInstance().requiredApisAvailable()&&(op()?Tr(e):nc(e.performanceController).then(()=>Tr(e),()=>Tr(e)))}function Sp(){jt&&jt.flush()}function Tr(e){if(!Li())return;const t=q.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||sc(e,1)}function yp(e){const t=q.getInstance();if(!t.instrumentationEnabled)return;const n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n===r||n===i||!t.loggingEnabled||!t.logNetworkAfterSampling||sc(e,0)}function Tp(e,t){return t===0?bp(e):vp(e)}function bp(e){const t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:oc(e.performanceController.app),network_request_metric:t};return JSON.stringify(n)}function vp(e){const t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);const n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);const r={application_info:oc(e.performanceController.app),trace_metric:t};return JSON.stringify(r)}function oc(e){return{google_app_id:tc(e),app_instance_id:Li(),web_app_info:{sdk_version:qa,page_url:M.getInstance().getUrl(),service_worker_status:Vf(),visibility_state:zf(),effective_connection_type:Gf()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(e,t){const n=t;if(!n||n.responseStart===void 0)return;const r=M.getInstance().getTimeOrigin(),i=Math.floor((n.startTime+r)*1e3),s=n.responseStart?Math.floor((n.responseStart-n.startTime)*1e3):void 0,o=Math.floor((n.responseEnd-n.startTime)*1e3),a=n.name&&n.name.split("?")[0],c={performanceController:e,url:a,responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o};yp(c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=100,Rp="_",Ap=[Wa,Va,za,Ga,Xa,Ka];function wp(e,t){return e.length===0||e.length>Ip?!1:t&&t.startsWith(ja)&&Ap.indexOf(e)>-1||!e.startsWith(Rp)}function kp(e){const t=Math.floor(e);return t<e&&ye.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t,n,r=!1,i){this.performanceController=t,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=M.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${Of}-${this.randomId}-${this.name}`,this.traceStopMark=`${Mf}-${this.randomId}-${this.name}`,this.traceMeasure=i||`${Wr}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw U.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw U.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),_n(this)}record(t,n,r){if(t<=0)throw U.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw U.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes={...r.attributes}),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));_n(this)}incrementMetric(t,n=1){this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)}putMetric(t,n){if(wp(t,this.name))this.counters[t]=kp(n??0);else throw U.create("invalid custom metric name",{customMetricName:t})}getMetric(t){return this.counters[t]||0}putAttribute(t,n){const r=Kf(t),i=Xf(n);if(r&&i){this.customAttributes[t]=n;return}if(!r)throw U.create("invalid attribute name",{attributeName:t});if(!i)throw U.create("invalid attribute value",{attributeValue:n})}getAttribute(t){return this.customAttributes[t]}removeAttribute(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]}getAttributes(){return{...this.customAttributes}}setStartTime(t){this.startTimeUs=t}setDuration(t){this.durationUs=t}calculateTraceMetrics(){const t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(t,n,r,i,s){const o=M.getInstance().getUrl();if(!o)return;const a=new gt(t,ja+o,!0),c=Math.floor(M.getInstance().getTimeOrigin()*1e3);a.setStartTime(c),n&&n[0]&&(a.setDuration(Math.floor(n[0].duration*1e3)),a.putMetric("domInteractive",Math.floor(n[0].domInteractive*1e3)),a.putMetric("domContentLoadedEventEnd",Math.floor(n[0].domContentLoadedEventEnd*1e3)),a.putMetric("loadEventEnd",Math.floor(n[0].loadEventEnd*1e3)));const u="first-paint",l="first-contentful-paint";if(r){const d=r.find(f=>f.name===u);d&&d.startTime&&a.putMetric(Wa,Math.floor(d.startTime*1e3));const p=r.find(f=>f.name===l);p&&p.startTime&&a.putMetric(Va,Math.floor(p.startTime*1e3)),s&&a.putMetric(za,Math.floor(s*1e3))}this.addWebVitalMetric(a,Ga,Lf,i.lcp),this.addWebVitalMetric(a,Xa,xf,i.cls),this.addWebVitalMetric(a,Ka,Df,i.inp),_n(a),Sp()}static addWebVitalMetric(t,n,r,i){i&&(t.putMetric(n,Math.floor(i.value*1e3)),i.elementAttribution&&(i.elementAttribution.length>Vr?t.putAttribute(r,i.elementAttribution.substring(0,Vr)):t.putAttribute(r,i.elementAttribution)))}static createUserTimingTrace(t,n){const r=new gt(t,n,!1,n);_n(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rn={},qs=!1,ac;function js(e){Li()&&(setTimeout(()=>Cp(e),0),setTimeout(()=>Np(e),0),setTimeout(()=>Pp(e),0))}function Np(e){const t=M.getInstance(),n=t.getEntriesByType("resource");for(const r of n)Hs(e,r);t.setupObserver("resource",r=>Hs(e,r))}function Cp(e){const t=M.getInstance();"onpagehide"in window?t.document.addEventListener("pagehide",()=>br(e)):t.document.addEventListener("unload",()=>br(e)),t.document.addEventListener("visibilitychange",()=>{t.document.visibilityState==="hidden"&&br(e)}),t.onFirstInputDelay&&t.onFirstInputDelay(n=>{ac=n}),t.onLCP(n=>{Rn.lcp={value:n.value,elementAttribution:n.attribution?.element}}),t.onCLS(n=>{Rn.cls={value:n.value,elementAttribution:n.attribution?.largestShiftTarget}}),t.onINP(n=>{Rn.inp={value:n.value,elementAttribution:n.attribution?.interactionTarget}})}function Pp(e){const t=M.getInstance(),n=t.getEntriesByType("measure");for(const r of n)Ws(e,r);t.setupObserver("measure",r=>Ws(e,r))}function Ws(e,t){const n=t.name;n.substring(0,Wr.length)!==Wr&&gt.createUserTimingTrace(e,n)}function br(e){if(!qs){qs=!0;const t=M.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");setTimeout(()=>{gt.createOobTrace(e,n,r,Rn,ac)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(t,n){this.app=t,this.installations=n,this.initialized=!1}_init(t){this.initialized||(t?.dataCollectionEnabled!==void 0&&(this.dataCollectionEnabled=t.dataCollectionEnabled),t?.instrumentationEnabled!==void 0&&(this.instrumentationEnabled=t.instrumentationEnabled),M.getInstance().requiredApisAvailable()?ol().then(n=>{n&&(pp(),nc(this).then(()=>js(this),()=>js(this)),this.initialized=!0)}).catch(n=>{ye.info(`Environment doesn't support IndexedDB: ${n}`)}):ye.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(t){q.getInstance().instrumentationEnabled=t}get instrumentationEnabled(){return q.getInstance().instrumentationEnabled}set dataCollectionEnabled(t){q.getInstance().dataCollectionEnabled=t}get dataCollectionEnabled(){return q.getInstance().dataCollectionEnabled}}const Mp="[DEFAULT]";function Lp(e=mi()){return e=Jn(e),It(e,"performance").getImmediate()}function Dp(e,t){return e=Jn(e),new gt(e,t)}const xp=(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(n.name!==Mp)throw U.create("FB not default");if(typeof window>"u")throw U.create("no window");Uf(window);const i=new Op(n,r);return i._init(t),i};function Fp(){mt(new ht("performance",xp,"PUBLIC")),Ze(Ds,jr),Ze(Ds,jr,"esm2020")}Fp();let Gr=null;function $p(){try{Gr=Lp(Rt)}catch{}}async function My(e,t){if(!Gr)return t();const n=Dp(Gr,e);n.start();try{const r=await t();return n.stop(),r}catch(r){throw n.stop(),r}}const _=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,v=globalThis,Ge="10.32.1";function rt(){return rr(v),v}function rr(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Ge,t[Ge]=t[Ge]||{}}function wt(e,t,n=v){const r=n.__SENTRY__=n.__SENTRY__||{},i=r[Ge]=r[Ge]||{};return i[e]||(i[e]=t())}const Up=["debug","info","warn","error","log","assert","trace"],Bp="Sentry Logger ",qn={};function kt(e){if(!("console"in v))return e();const t=v.console,n={},r=Object.keys(qn);r.forEach(i=>{const s=qn[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function Hp(){$i().enabled=!0}function qp(){$i().enabled=!1}function cc(){return $i().enabled}function jp(...e){Fi("log",...e)}function Wp(...e){Fi("warn",...e)}function Vp(...e){Fi("error",...e)}function Fi(e,...t){_&&cc()&&kt(()=>{v.console[e](`${Bp}[${e}]:`,...t)})}function $i(){return _?wt("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const h={enable:Hp,disable:qp,isEnabled:cc,log:jp,warn:Wp,error:Vp},uc=50,tt="?",Vs=/\(error: (.*)\)/,zs=/captureMessage|captureException/;function lc(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let c=o[a];c.length>1024&&(c=c.slice(0,1024));const u=Vs.test(c)?c.replace(Vs,"$1"):c;if(!u.match(/\S*Error: /)){for(const l of t){const d=l(u);if(d){s.push(d);break}}if(s.length>=uc+i)break}}return Gp(s.slice(i))}}function zp(e){return Array.isArray(e)?lc(...e):e}function Gp(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(En(t).function||"")&&t.pop(),t.reverse(),zs.test(En(t).function||"")&&(t.pop(),zs.test(En(t).function||"")&&t.pop()),t.slice(0,uc).map(n=>({...n,filename:n.filename||En(t).filename,function:n.function||tt}))}function En(e){return e[e.length-1]||{}}const vr="<anonymous>";function Te(e){try{return!e||typeof e!="function"?vr:e.name||vr}catch{return vr}}function Gs(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function dc(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const An={},Ks={};function $e(e,t){An[e]=An[e]||[],An[e].push(t)}function Ue(e,t){if(!Ks[e]){Ks[e]=!0;try{t()}catch(n){_&&h.error(`Error while instrumenting ${e}`,n)}}}function ee(e,t){const n=e&&An[e];if(n)for(const r of n)try{r(t)}catch(i){_&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Te(r)}
Error:`,i)}}let Ir=null;function fc(e){const t="error";$e(t,e),Ue(t,Kp)}function Kp(){Ir=v.onerror,v.onerror=function(e,t,n,r,i){return ee("error",{column:r,error:i,line:n,msg:e,url:t}),Ir?Ir.apply(this,arguments):!1},v.onerror.__SENTRY_INSTRUMENTED__=!0}let Rr=null;function pc(e){const t="unhandledrejection";$e(t,e),Ue(t,Xp)}function Xp(){Rr=v.onunhandledrejection,v.onunhandledrejection=function(e){return ee("unhandledrejection",e),Rr?Rr.apply(this,arguments):!0},v.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const mc=Object.prototype.toString;function Ui(e){switch(mc.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return be(e,Error)}}function Nt(e,t){return mc.call(e)===`[object ${t}]`}function hc(e){return Nt(e,"ErrorEvent")}function Xs(e){return Nt(e,"DOMError")}function Yp(e){return Nt(e,"DOMException")}function Ee(e){return Nt(e,"String")}function Bi(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function _t(e){return e===null||Bi(e)||typeof e!="object"&&typeof e!="function"}function zt(e){return Nt(e,"Object")}function ir(e){return typeof Event<"u"&&be(e,Event)}function Jp(e){return typeof Element<"u"&&be(e,Element)}function Zp(e){return Nt(e,"RegExp")}function Ct(e){return!!(e?.then&&typeof e.then=="function")}function Qp(e){return zt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function be(e,t){try{return e instanceof t}catch{return!1}}function gc(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function Hi(e){return typeof Request<"u"&&be(e,Request)}const qi=v,em=80;function ne(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||em;for(;n&&s++<r&&(u=tm(n,l),!(u==="html"||s>1&&o+i.length*c+u.length>=d));)i.push(u),o+=u.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function tm(e,t){const n=e,r=[];if(!n?.tagName)return"";if(qi.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t?.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i?.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Ee(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function Qt(){try{return qi.document.location.href}catch{return""}}function _c(e){if(!qi.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function K(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const i=n(r);typeof i=="function"&&Ec(i,r);try{e[t]=i}catch{_&&h.log(`Failed to replace method "${t}" in object`,e)}}function X(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{_&&h.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Ec(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,X(e,"__sentry_original__",t)}catch{}}function ji(e){return e.__sentry_original__}function Sc(e){if(Ui(e))return{message:e.message,name:e.name,stack:e.stack,...Js(e)};if(ir(e)){const t={type:e.type,target:Ys(e.target),currentTarget:Ys(e.currentTarget),...Js(e)};return typeof CustomEvent<"u"&&be(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Ys(e){try{return Jp(e)?ne(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Js(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function nm(e){const t=Object.keys(Sc(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}function Kr(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Zs(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{gc(i)?n.push(dc(i)):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function wn(e,t,n=!1){return Ee(e)?Zp(t)?t.test(e):Ee(t)?n?e===t:e.includes(t):!1:!1}function Oe(e,t=[],n=!1){return t.some(r=>wn(e,r,n))}function rm(){const e=v;return e.crypto||e.msCrypto}let Ar;function im(){return Math.random()*16}function te(e=rm()){try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return Ar||(Ar="10000000100040008000"+1e11),Ar.replace(/[018]/g,t=>(t^(im()&15)>>t/4).toString(16))}function yc(e){return e.exception?.values?.[0]}function Ve(e){const{message:t,event_id:n}=e;if(t)return t;const r=yc(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Xr(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function Et(e,t){const n=yc(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i?.data,...t.data};n.mechanism.data=s}}function Qs(e){if(sm(e))return!0;try{X(e,"__sentry_captured__",!0)}catch{}return!1}function sm(e){try{return e.__sentry_captured__}catch{}}const Tc=1e3;function it(){return Date.now()/Tc}function om(){const{performance:e}=v;if(!e?.now||!e.timeOrigin)return it;const t=e.timeOrigin;return()=>(t+e.now())/Tc}let eo;function D(){return(eo??(eo=om()))()}let wr;function am(){const{performance:e}=v;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing?.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,u=c<t;return s||u?i<=c?[e.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[r,"dateNow"]}function Y(){return wr||(wr=am()),wr[0]}function cm(e){const t=D(),n={sid:te(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>lm(n)};return e&&St(n,e),n}function St(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||D(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:te()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function um(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),St(e,n)}function lm(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function en(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=en(r[i],t[i],n-1));return r}function ve(){return te()}function Se(){return te().substring(16)}const Yr="_sentrySpan";function yt(e,t){t?X(e,Yr,t):delete e[Yr]}function jn(e){return e[Yr]}const dm=100;class Ie{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ve(),sampleRand:Math.random()}}clone(){const t=new Ie;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,yt(t,jn(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&St(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof Ie?n.getScopeData():zt(n)?t:void 0,{tags:i,attributes:s,extra:o,user:a,contexts:c,level:u,fingerprint:l=[],propagationContext:d}=r||{};return this._tags={...this._tags,...i},this._attributes={...this._attributes,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),l.length&&(this._fingerprint=l),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,yt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ve(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:dm;if(r<=0)return this;const i={timestamp:it(),...t,message:t.message?Kr(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:jn(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=en(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n?.event_id||te();if(!this._client)return _&&h.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r?.event_id||te();if(!this._client)return _&&h.warn("No client configured on scope - will not capture message!"),i;const s=r?.syntheticException??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n?.event_id||te();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(_&&h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function fm(){return wt("defaultCurrentScope",()=>new Ie)}function pm(){return wt("defaultIsolationScope",()=>new Ie)}class mm{constructor(t,n){let r;t?r=t:r=new Ie;let i;n?i=n:i=new Ie,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return Ct(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Tt(){const e=rt(),t=rr(e);return t.stack=t.stack||new mm(fm(),pm())}function hm(e){return Tt().withScope(e)}function gm(e,t){const n=Tt();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function to(e){return Tt().withScope(()=>e(Tt().getIsolationScope()))}function _m(){return{withIsolationScope:to,withScope:hm,withSetScope:gm,withSetIsolationScope:(e,t)=>to(t),getCurrentScope:()=>Tt().getScope(),getIsolationScope:()=>Tt().getIsolationScope()}}function Pt(e){const t=rr(e);return t.acs?t.acs:_m()}function w(){const e=rt();return Pt(e).getCurrentScope()}function Be(){const e=rt();return Pt(e).getIsolationScope()}function Em(){return wt("globalScope",()=>new Ie)}function sr(...e){const t=rt(),n=Pt(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function A(){return w().getClient()}function Sm(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:i}=t,s={trace_id:n,span_id:i||Se()};return r&&(s.parent_span_id=r),s}const fe="sentry.source",Wi="sentry.sample_rate",bc="sentry.previous_trace_sample_rate",Re="sentry.op",L="sentry.origin",Gt="sentry.idle_span_finish_reason",tn="sentry.measurement_unit",nn="sentry.measurement_value",no="sentry.custom_span_name",Vi="sentry.profile_id",Ot="sentry.exclusive_time",ym="sentry.link.type",Tm=0,zi=1,P=2;function bm(e){if(e<400&&e>=100)return{code:zi};if(e>=400&&e<500)switch(e){case 401:return{code:P,message:"unauthenticated"};case 403:return{code:P,message:"permission_denied"};case 404:return{code:P,message:"not_found"};case 409:return{code:P,message:"already_exists"};case 413:return{code:P,message:"failed_precondition"};case 429:return{code:P,message:"resource_exhausted"};case 499:return{code:P,message:"cancelled"};default:return{code:P,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:P,message:"unimplemented"};case 503:return{code:P,message:"unavailable"};case 504:return{code:P,message:"deadline_exceeded"};default:return{code:P,message:"internal_error"}}return{code:P,message:"internal_error"}}function vc(e,t){e.setAttribute("http.response.status_code",t);const n=bm(t);n.message!=="unknown_error"&&e.setStatus(n)}const Ic="_sentryScope",Rc="_sentryIsolationScope";function vm(e){try{const t=v.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function Im(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function Rm(e,t,n){e&&(X(e,Rc,vm(n)),X(e,Ic,t))}function Wn(e){const t=e;return{scope:t[Ic],isolationScope:Im(t[Rc])}}const Gi="sentry-",Am=/^sentry-/,wm=8192;function Ac(e){const t=Nm(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(Am)){const o=i.slice(Gi.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function km(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${Gi}${r}`]=i),n),{});return Cm(t)}function Nm(e){if(!(!e||!Ee(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=ro(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):ro(e)}function ro(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),i=t.slice(n+1);return[r,i].map(s=>{try{return decodeURIComponent(s.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Cm(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>wm?(_&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const Pm=/^o(\d+)\./,Om=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Mm(e){return e==="http"||e==="https"}function Mt(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function Lm(e){const t=Om.exec(e);if(!t){kt(()=>{});return}const[n,r,i="",s="",o="",a=""]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return wc({host:s,pass:i,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function wc(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Dm(e){if(!_)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(h.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Mm(r)?t&&isNaN(parseInt(t,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function xm(e){return e.match(Pm)?.[1]}function Fm(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=xm(n)),r}function $m(e){const t=typeof e=="string"?Lm(e):wc(e);if(!(!t||!Dm(t)))return t}function Kt(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const kc=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Um(e){if(!e)return;const t=e.match(kc);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Bm(e,t){const n=Um(e),r=Ac(t);if(!n?.traceId)return{traceId:ve(),sampleRand:Math.random()};const i=Hm(n,r);r&&(r.sample_rand=i.toString());const{traceId:s,parentSpanId:o,parentSampled:a}=n;return{traceId:s,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:i}}function Nc(e=ve(),t=Se(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Cc(e=ve(),t=Se(),n){return`00-${e}-${t}-${n?"01":"00"}`}function Hm(e,t){const n=Kt(t?.sample_rand);if(n!==void 0)return n;const r=Kt(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const Pc=0,Ki=1;let io=!1;function qm(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a,links:c}=I(e);return{parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a,links:c}}function jm(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:I(e).parent_span_id,s=Wn(e).scope,o=r?s?.getPropagationContext().propagationSpanId||Se():t;return{parent_span_id:i,span_id:o,trace_id:n}}function Wm(e){const{traceId:t,spanId:n}=e.spanContext(),r=He(e);return Nc(t,n,r)}function Vm(e){const{traceId:t,spanId:n}=e.spanContext(),r=He(e);return Cc(t,n,r)}function Oc(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...i},attributes:s})=>({span_id:t,trace_id:n,sampled:r===Ki,attributes:s,...i}))}function Ke(e){return typeof e=="number"?so(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?so(e.getTime()):D()}function so(e){return e>9999999999?e/1e3:e}function I(e){if(Gm(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(zm(e)){const{attributes:r,startTime:i,name:s,endTime:o,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:s,parent_span_id:u,start_timestamp:Ke(i),timestamp:Ke(o)||void 0,status:Mc(a),op:r[Re],origin:r[L],links:Oc(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function zm(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Gm(e){return typeof e.getSpanJSON=="function"}function He(e){const{traceFlags:t}=e.spanContext();return t===Ki}function Mc(e){if(!(!e||e.code===Tm))return e.code===zi?"ok":e.message||"internal_error"}const Xe="_sentryChildSpans",Jr="_sentryRootSpan";function Lc(e,t){const n=e[Jr]||e;X(t,Jr,n),e[Xe]?e[Xe].add(t):X(e,Xe,new Set([t]))}function Km(e,t){e[Xe]&&e[Xe].delete(t)}function kn(e){const t=new Set;function n(r){if(!t.has(r)&&He(r)){t.add(r);const i=r[Xe]?Array.from(r[Xe]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function j(e){return e[Jr]||e}function J(){const e=rt(),t=Pt(e);return t.getActiveSpan?t.getActiveSpan():jn(w())}function Zr(){io||(kt(()=>{}),io=!0)}let oo=!1;function Xm(){if(oo)return;function e(){const t=J(),n=t&&j(t);if(n){const r="internal_error";_&&h.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:P,message:r})}}e.tag="sentry_tracingErrorCallback",oo=!0,fc(e),pc(e)}function ue(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||A()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function ao(e){h.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function Vn(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(Jm(n)){if(wn(e.description,n))return _&&ao(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?wn(e.description,n.name):!0,i=n.op?e.op&&wn(e.op,n.op):!0;if(r&&i)return _&&ao(e),!0}return!1}function Ym(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const i of e)i.parent_span_id===r&&(i.parent_span_id=n)}function Jm(e){return typeof e=="string"||e instanceof RegExp}const Xi="production",Dc="_frozenDsc";function Nn(e,t){X(e,Dc,t)}function xc(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i={environment:n.environment||Xi,release:n.release,public_key:r,trace_id:e,org_id:Fm(t)};return t.emit("createDsc",i),i}function Fc(e,t){const n=t.getPropagationContext();return n.dsc||xc(n.traceId,e)}function De(e){const t=A();if(!t)return{};const n=j(e),r=I(n),i=r.data,s=n.spanContext().traceState,o=s?.get("sentry.sample_rate")??i[Wi]??i[bc];function a(m){return(typeof o=="number"||typeof o=="string")&&(m.sample_rate=`${o}`),m}const c=n[Dc];if(c)return a(c);const u=s?.get("sentry.dsc"),l=u&&Ac(u);if(l)return a(l);const d=xc(e.spanContext().traceId,t),p=i[fe],f=r.description;return p!=="url"&&f&&(d.transaction=f),ue()&&(d.sampled=String(He(n)),d.sample_rand=s?.get("sentry.sample_rand")??Wn(n).scope?.getPropagationContext().sampleRand.toString()),a(d),t.emit("createDsc",d,n),d}class xe{constructor(t={}){this._traceId=t.traceId||ve(),this._spanId=t.spanId||Se()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Pc}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function _e(e,t=100,n=1/0){try{return Qr("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function $c(e,t=3,n=100*1024){const r=_e(e,t);return th(r)>n?$c(e,t-1,n):r}function Qr(e,t,n=1/0,r=1/0,i=nh()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=Zm(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const f=u.toJSON();return Qr("",f,c-1,r,i)}catch{}const l=Array.isArray(t)?[]:{};let d=0;const p=Sc(t);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(d>=r){l[f]="[MaxProperties ~]";break}const m=p[f];l[f]=Qr(f,m,c-1,r,i),d++}return o(t),l}function Zm(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(gc(t))return dc(t);if(Qp(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Te(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Qm(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Qm(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function eh(e){return~-encodeURI(e).split(/%..|./).length}function th(e){return eh(JSON.stringify(e))}function nh(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function st(e,t=[]){return[e,t]}function rh(e,t){const[n,r]=e;return[n,[...r,t]]}function co(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function ei(e){const t=rr(v);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function ih(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[ei(r),s]:r.push(typeof s=="string"?ei(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(_e(a))}i(c)}}return typeof r=="string"?r:sh(r)}function sh(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function oh(e){return[{type:"span"},e]}function ah(e){const t=typeof e.data=="string"?ei(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const ch={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function uo(e){return ch[e]}function Uc(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function uh(e,t,n,r){const i=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Mt(r)},...i&&{trace:i}}}function lh(e,t){if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function dh(e,t,n,r){const i=Uc(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Mt(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return st(s,[o])}function fh(e,t,n,r){const i=Uc(n),s=e.type&&e.type!=="replay_event"?e.type:"event";lh(e,n?.sdk);const o=uh(e,i,r,t);return delete e.sdkProcessingMetadata,st(o,[[{type:s},e]])}function ph(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=De(e[0]),i=t?.getDsn(),s=t?.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:Mt(i)}},{beforeSendSpan:a,ignoreSpans:c}=t?.getOptions()||{},u=c?.length?e.filter(f=>!Vn(I(f),c)):e,l=e.length-u.length;l&&t?.recordDroppedEvent("before_send","span",l);const d=a?f=>{const m=I(f),E=a(m);return E||(Zr(),m)}:I,p=[];for(const f of u){const m=d(f);m&&p.push(oh(m))}return st(o,p)}function mh(e){if(!_)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=I(e),{spanId:i}=e.spanContext(),s=He(e),o=j(e),a=o===e,c=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:l,description:d}=I(o);u.push(`root ID: ${o.spanContext().spanId}`),l&&u.push(`root op: ${l}`),d&&u.push(`root description: ${d}`)}h.log(`${c}
  ${u.join(`
  `)}`)}function hh(e){if(!_)return;const{description:t="< unknown name >",op:n="< unknown op >"}=I(e),{spanId:r}=e.spanContext(),s=j(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;h.log(o)}function gh(e,t,n,r=J()){const i=r&&j(r);i&&(_&&h.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[nn]:t,[tn]:n}))}function lo(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[tn],s=r[nn];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const fo=1e3;class or{constructor(t={}){this._traceId=t.traceId||ve(),this._spanId=t.spanId||Se(),this._startTime=t.startTimestamp||D(),this._links=t.links,this._attributes={},this.setAttributes({[L]:"manual",[Re]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Ki:Pc}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Ke(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(fe,"custom"),this}end(t){this._endTime||(this._endTime=Ke(t),hh(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Re],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Mc(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[L],profile_id:this._attributes[Vi],exclusive_time:this._attributes[Ot],measurements:lo(this._events),is_segment:this._isStandaloneSpan&&j(this)===this||void 0,segment_id:this._isStandaloneSpan?j(this).spanContext().spanId:void 0,links:Oc(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){_&&h.log("[Tracing] Adding an event to span:",t);const i=po(n)?n:r||D(),s=po(n)?{}:n||{},o={name:t,time:Ke(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=A();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===j(this)))return;if(this._isStandaloneSpan){this._sampled?Eh(ph([this],t)):(_&&h.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(Wn(this).scope||w()).captureEvent(r)}_convertSpanToTransaction(){if(!mo(I(this)))return;this._name||(_&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=Wn(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const s=kn(this).filter(l=>l!==this&&!_h(l)).map(l=>I(l)).filter(mo),o=this._attributes[fe];delete this._attributes[no],s.forEach(l=>{delete l.data[no]});const a={contexts:{trace:qm(this)},spans:s.length>fo?s.sort((l,d)=>l.start_timestamp-d.start_timestamp).slice(0,fo):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:De(this)},request:r,...o&&{transaction_info:{source:o}}},c=lo(this._events);return c&&Object.keys(c).length&&(_&&h.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function po(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function mo(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function _h(e){return e instanceof or&&e.isStandaloneSpan()}function Eh(e){const t=A();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function Sh(e,t,n=()=>{},r=()=>{}){let i;try{i=e()}catch(s){throw t(s),n(),s}return yh(i,t,n,r)}function yh(e,t,n,r){return Ct(e)?e.then(i=>(n(),r(i),i),i=>{throw t(i),n(),i}):(n(),r(e),e)}function Th(e,t,n){if(!ue(e))return[!1];let r,i;typeof e.tracesSampler=="function"?(i=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?i=t.parentSampled:typeof e.tracesSampleRate<"u"&&(i=e.tracesSampleRate,r=!0);const s=Kt(i);if(s===void 0)return _&&h.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),[!1];if(!s)return _&&h.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,r];const o=n<s;return o||_&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[o,s,r]}const Bc="__SENTRY_SUPPRESS_TRACING__";function bh(e,t){const n=Ji();if(n.startSpan)return n.startSpan(e,t);const r=qc(e),{forceTransaction:i,parentSpan:s,scope:o}=e,a=o?.clone();return sr(a,()=>Ih(s)(()=>{const u=w(),l=jc(u,s),p=e.onlyIfParent&&!l?new xe:Hc({parentSpan:l,spanArguments:r,forceTransaction:i,scope:u});return yt(u,p),Sh(()=>t(p),()=>{const{status:f}=I(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:P,message:"internal_error"})},()=>{p.end()})}))}function Lt(e){const t=Ji();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=qc(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>sr(e.scope,o):i!==void 0?o=>Yi(i,o):o=>o())(()=>{const o=w(),a=jc(o,i);return e.onlyIfParent&&!a?new xe:Hc({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function Yi(e,t){const n=Ji();return n.withActiveSpan?n.withActiveSpan(e,t):sr(r=>(yt(r,e||void 0),t(r)))}function Hc({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ue()){const o=new xe;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...De(o)};Nn(o,a)}return o}const i=Be();let s;if(e&&!n)s=vh(e,r,t),Lc(e,s);else if(e){const o=De(e),{traceId:a,spanId:c}=e.spanContext(),u=He(e);s=ho({traceId:a,parentSpanId:c,...t},r,u),Nn(s,o)}else{const{traceId:o,dsc:a,parentSpanId:c,sampled:u}={...i.getPropagationContext(),...r.getPropagationContext()};s=ho({traceId:o,parentSpanId:c,...t},r,u),a&&Nn(s,a)}return mh(s),Rm(s,r,i),s}function qc(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Ke(e.startTime),delete r.startTime,r}return n}function Ji(){const e=rt();return Pt(e)}function ho(e,t,n){const r=A(),i=r?.getOptions()||{},{name:s=""}=e,o={spanAttributes:{...e.attributes},spanName:s,parentSampled:n};r?.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,c=o.spanAttributes,u=t.getPropagationContext(),[l,d,p]=t.getScopeData().sdkProcessingMetadata[Bc]?[!1]:Th(i,{name:s,parentSampled:a,attributes:c,parentSampleRate:Kt(u.dsc?.sample_rate)},u.sampleRand),f=new or({...e,attributes:{[fe]:"custom",[Wi]:d!==void 0&&p?d:void 0,...c},sampled:l});return!l&&r&&(_&&h.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function vh(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[Bc]?!1:He(e),o=s?new or({...n,parentSpanId:r,traceId:i,sampled:s}):new xe({traceId:i});Lc(e,o);const a=A();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function jc(e,t){if(t)return t;if(t===null)return;const n=jn(e);if(!n)return;const r=A();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?j(n):n}function Ih(e){return e!==void 0?t=>Yi(e,t):t=>t()}const Cn={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Rh="heartbeatFailed",Ah="idleTimeout",wh="finalTimeout",kh="externalFinish";function Wc(e,t={}){const n=new Map;let r=!1,i,s=kh,o=!t.disableAutoFinish;const a=[],{idleTimeout:c=Cn.idleTimeout,finalTimeout:u=Cn.finalTimeout,childSpanTimeout:l=Cn.childSpanTimeout,beforeSpanEnd:d,trimIdleSpanEndTimestamp:p=!0}=t,f=A();if(!f||!ue()){const y=new xe,N={sample_rate:"0",sampled:"false",...De(y)};return Nn(y,N),y}const m=w(),E=J(),g=Nh(e);g.end=new Proxy(g.end,{apply(y,N,ot){if(d&&d(g),N instanceof xe)return;const[dn,...le]=ot,Ft=dn||D(),he=Ke(Ft),x=kn(g).filter(b=>b!==g),qe=I(g);if(!x.length||!p)return we(he),Reflect.apply(y,N,[he,...le]);const de=f.getOptions().ignoreSpans,ke=x?.reduce((b,$)=>{const z=I($);return!z.timestamp||de&&Vn(z,de)?b:b?Math.max(b,z.timestamp):z.timestamp},void 0),R=qe.start_timestamp,F=Math.min(R?R+u/1e3:1/0,Math.max(R||-1/0,Math.min(he,ke||1/0)));return we(F),Reflect.apply(y,N,[F,...le])}});function k(){i&&(clearTimeout(i),i=void 0)}function B(y){k(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=Ah,g.end(y))},c)}function ie(y){i=setTimeout(()=>{!r&&o&&(s=Rh,g.end(y))},l)}function H(y){k(),n.set(y,!0);const N=D();ie(N+l/1e3)}function Ae(y){if(n.has(y)&&n.delete(y),n.size===0){const N=D();B(N+c/1e3)}}function we(y){r=!0,n.clear(),a.forEach(x=>x()),yt(m,E);const N=I(g),{start_timestamp:ot}=N;if(!ot)return;N.data[Gt]||g.setAttribute(Gt,s);const le=N.status;(!le||le==="unknown")&&g.setStatus({code:zi}),h.log(`[Tracing] Idle span "${N.op}" finished`);const Ft=kn(g).filter(x=>x!==g);let he=0;Ft.forEach(x=>{x.isRecording()&&(x.setStatus({code:P,message:"cancelled"}),x.end(y),_&&h.log("[Tracing] Cancelling span since span ended early",JSON.stringify(x,void 0,2)));const qe=I(x),{timestamp:de=0,start_timestamp:ke=0}=qe,R=ke<=y,F=(u+c)/1e3,b=de-ke<=F;if(_){const $=JSON.stringify(x,void 0,2);R?b||h.log("[Tracing] Discarding span since it finished after idle span final timeout",$):h.log("[Tracing] Discarding span since it happened after idle span was finished",$)}(!b||!R)&&(Km(g,x),he++)}),he>0&&g.setAttribute("sentry.idle_span_discarded_spans",he)}return a.push(f.on("spanStart",y=>{if(r||y===g||I(y).timestamp||y instanceof or&&y.isStandaloneSpan())return;kn(g).includes(y)&&H(y.spanContext().spanId)})),a.push(f.on("spanEnd",y=>{r||Ae(y.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",y=>{y===g&&(o=!0,B(),n.size&&ie())})),t.disableAutoFinish||B(),setTimeout(()=>{r||(g.setStatus({code:P,message:"deadline_exceeded"}),s=wh,g.end())},u),g}function Nh(e){const t=Lt(e);return yt(w(),t),_&&h.log("[Tracing] Started span is an idle span"),t}const kr=0,go=1,_o=2;function ar(e){return new Xt(t=>{t(e)})}function Zi(e){return new Xt((t,n)=>{n(e)})}class Xt{constructor(t){this._state=kr,this._handlers=[],this._runExecutor(t)}then(t,n){return new Xt((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Xt((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}_executeHandlers(){if(this._state===kr)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===go&&n[1](this._value),this._state===_o&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(s,o)=>{if(this._state===kr){if(Ct(o)){o.then(r,i);return}this._state=s,this._value=o,this._executeHandlers()}},r=s=>{n(go,s)},i=s=>{n(_o,s)};try{t(r,i)}catch(s){i(s)}}}function Ch(e,t,n,r=0){try{const i=ti(t,n,e,r);return Ct(i)?i:ar(i)}catch(i){return Zi(i)}}function ti(e,t,n,r){const i=n[r];if(!e||!i)return e;const s=i({...e},t);return _&&s===null&&h.log(`Event processor "${i.id||"?"}" dropped event`),Ct(s)?s.then(o=>ti(o,t,n,r+1)):ti(s,t,n,r+1)}function Ph(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;Oh(e,t),r&&Dh(e,r),xh(e,n),Mh(e,i),Lh(e,s)}function Eo(e,t){const{extra:n,tags:r,attributes:i,user:s,contexts:o,level:a,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:l,eventProcessors:d,attachments:p,propagationContext:f,transactionName:m,span:E}=t;Bt(e,"extra",n),Bt(e,"tags",r),Bt(e,"attributes",i),Bt(e,"user",s),Bt(e,"contexts",o),e.sdkProcessingMetadata=en(e.sdkProcessingMetadata,c,2),a&&(e.level=a),m&&(e.transactionName=m),E&&(e.span=E),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...f}}function Bt(e,t,n){e[t]=en(e[t],n,1)}function Oh(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function Mh(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Lh(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Dh(e,t){e.contexts={trace:jm(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:De(t),...e.sdkProcessingMetadata};const n=j(t),r=I(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function xh(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let We,So,yo,Ne;function Fh(e){const t=v._sentryDebugIds,n=v._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],i=n?Object.keys(n):[];if(Ne&&r.length===So&&i.length===yo)return Ne;So=r.length,yo=i.length,Ne={},We||(We={});const s=(o,a)=>{for(const c of o){const u=a[c],l=We?.[c];if(l&&Ne&&u)Ne[l[0]]=u,We&&(We[c]=[l[0],u]);else if(u){const d=e(c);for(let p=d.length-1;p>=0;p--){const m=d[p]?.filename;if(m&&Ne&&We){Ne[m]=u,We[c]=[m,u];break}}}}};return t&&s(r,t),n&&s(i,n),Ne}function $h(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||te(),timestamp:t.timestamp||it()},u=n.integrations||e.integrations.map(g=>g.name);Uh(c,e),qh(c,u),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&Bh(c,e.stackParser);const l=Wh(r,n.captureContext);n.mechanism&&Et(c,n.mechanism);const d=i?i.getEventProcessors():[],p=Em().getScopeData();if(s){const g=s.getScopeData();Eo(p,g)}if(l){const g=l.getScopeData();Eo(p,g)}const f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),Ph(c,p);const m=[...d,...p.eventProcessors];return Ch(m,c,n).then(g=>(g&&Hh(g),typeof o=="number"&&o>0?jh(g,o,a):g))}function Uh(e,t){const{environment:n,release:r,dist:i,maxValueLength:s}=t;e.environment=e.environment||n||Xi,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i);const o=e.request;o?.url&&s&&(o.url=Kr(o.url,s)),s&&e.exception?.values?.forEach(a=>{a.value&&(a.value=Kr(a.value,s))})}function Bh(e,t){const n=Fh(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(i=>{i.filename&&(i.debug_id=n[i.filename])})})}function Hh(e){const t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,i])=>{n.push({type:"sourcemap",code_file:r,debug_id:i})})}function qh(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function jh(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:_e(i.data,t,n)}}))},...e.user&&{user:_e(e.user,t,n)},...e.contexts&&{contexts:_e(e.contexts,t,n)},...e.extra&&{extra:_e(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=_e(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:_e(i.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=_e(e.contexts.flags,3,n)),r}function Wh(e,t){if(!t)return e;const n=e?e.clone():new Ie;return n.update(t),n}function Vh(e,t){return w().captureException(e,void 0)}function Vc(e,t){return w().captureEvent(e,t)}function zh(e,t){Be().setContext(e,t)}function Gh(){const e=A();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function To(e){const t=Be(),n=w(),{userAgent:r}=v.navigator||{},i=cm({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),s=t.getSession();return s?.status==="ok"&&St(s,{status:"exited"}),zc(),t.setSession(i),i}function zc(){const e=Be(),n=w().getSession()||e.getSession();n&&um(n),Gc(),e.setSession()}function Gc(){const e=Be(),t=A(),n=e.getSession();n&&t&&t.captureSession(n)}function bo(e=!1){if(e){zc();return}Gc()}const Kh="7";function Xh(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Yh(e){return`${Xh(e)}${e.projectId}/envelope/`}function Jh(e,t){const n={sentry_version:Kh};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Zh(e,t,n){return t||`${Yh(e)}?${Jh(e,n)}`}const vo=[];function Qh(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function eg(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const i=n(t);r=Array.isArray(i)?i:[i]}else r=t;return Qh(r)}function tg(e,t){const n={};return t.forEach(r=>{r&&Kc(e,r,n)}),n}function Io(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function Kc(e,t,n){if(n[t.name]){_&&h.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!vo.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),vo.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}_&&h.log(`Integration installed: ${t.name}`)}function ng(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function rg(e,t,n,r){const i={};return t?.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=Mt(r)),st(i,[ng(e)])}function Xc(e,t){const n=t??ig(e)??[];if(n.length===0)return;const r=e.getOptions(),i=rg(n,r._metadata,r.tunnel,e.getDsn());Yc().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(i)}function ig(e){return Yc().get(e)}function Yc(){return wt("clientToLogBufferMap",()=>new WeakMap)}function sg(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function og(e,t,n,r){const i={};return t?.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=Mt(r)),st(i,[sg(e)])}function Jc(e,t){const n=t??ag(e)??[];if(n.length===0)return;const r=e.getOptions(),i=og(n,r._metadata,r.tunnel,e.getDsn());Zc().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(i)}function ag(e){return Zc().get(e)}function Zc(){return wt("clientToMetricBufferMap",()=>new WeakMap)}const Qi=Symbol.for("SentryBufferFullError");function es(e=100){const t=new Set;function n(){return t.size<e}function r(o){t.delete(o)}function i(o){if(!n())return Zi(Qi);const a=o();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function s(o){if(!t.size)return ar(!0);const a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return a;const c=[a,new Promise(u=>setTimeout(()=>u(!1),o))];return Promise.race(c)}return{get $(){return Array.from(t)},add:i,drain:s}}const cg=60*1e3;function ug(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?cg:r-t}function lg(e,t){return e[t]||e.all||0}function dg(e,t,n=Date.now()){return lg(e,t)>n}function fg(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n?.["x-sentry-rate-limits"],o=n?.["retry-after"];if(s)for(const a of s.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),p=(isNaN(d)?60:d)*1e3;if(!u)i.all=r+p;else for(const f of u.split(";"))f==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(i[f]=r+p):i[f]=r+p}else o?i.all=r+ug(o,r):t===429&&(i.all=r+60*1e3);return i}const Qc=64;function pg(e,t,n=es(e.bufferSize||Qc)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(co(o,(d,p)=>{const f=uo(p);dg(r,f)?e.recordDroppedEvent("ratelimit_backoff",f):a.push(d)}),a.length===0)return Promise.resolve({});const c=st(o[0],a),u=d=>{co(c,(p,f)=>{e.recordDroppedEvent(d,uo(f))})},l=()=>t({body:ih(c)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&_&&h.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=fg(r,d),d),d=>{throw u("network_error"),_&&h.error("Encountered error running transport request:",d),d});return n.add(l).then(d=>d,d=>{if(d===Qi)return _&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw d})}return{send:s,flush:i}}function mg(e,t,n){const r=[{type:"client_report"},{timestamp:it(),discarded_events:e}];return st(t?{dsn:t}:{},[r])}function eu(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function hg(e){const{trace_id:t,parent_span_id:n,span_id:r,status:i,origin:s,data:o,op:a}=e.contexts?.trace??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:o?.[Vi],exclusive_time:o?.[Ot],measurements:e.measurements,is_segment:!0}}function gg(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Vi]:e.profile_id},...e.exclusive_time&&{[Ot]:e.exclusive_time}}}},measurements:e.measurements}}const Ro="Not capturing exception because it's already been captured.",Ao="Discarded session because of missing or non-string release",tu=Symbol.for("SentryInternalError"),nu=Symbol.for("SentryDoNotSendEventError"),_g=5e3;function Pn(e){return{message:e,[tu]:!0}}function Nr(e){return{message:e,[nu]:!0}}function wo(e){return!!e&&typeof e=="object"&&tu in e}function ko(e){return!!e&&typeof e=="object"&&nu in e}function No(e,t,n,r,i){let s=0,o,a=!1;e.on(n,()=>{s=0,clearTimeout(o),a=!1}),e.on(t,c=>{s+=r(c),s>=8e5?i(e):a||(a=!0,o=setTimeout(()=>{i(e)},_g))}),e.on("flush",()=>{i(e)})}class Eg{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=es(t.transportOptions?.bufferSize??Qc),t.dsn?this._dsn=$m(t.dsn):_&&h.warn("No DSN provided, client will not send events."),this._dsn){const r=Zh(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&No(this,"afterCaptureLog","flushLogs",bg,Xc),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&No(this,"afterCaptureMetric","flushMetrics",Tg,Jc)}captureException(t,n,r){const i=te();if(Qs(t))return _&&h.log(Ro),i;const s={event_id:i,...n};return this._process(()=>this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r)).then(o=>o),"error"),s.event_id}captureMessage(t,n,r,i){const s={event_id:te(),...r},o=Bi(t)?t:String(t),a=_t(t),c=a?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(()=>c.then(u=>this._captureEvent(u,s,i)),a?"unknown":"error"),s.event_id}captureEvent(t,n,r){const i=te();if(n?.originalException&&Qs(n.originalException))return _&&h.log(Ro),i;const s={event_id:i,...n},o=t.sdkProcessingMetadata||{},a=o.capturedSpanScope,c=o.capturedSpanIsolationScope,u=Co(t.type);return this._process(()=>this._captureEvent(t,s,a||r,c),u),s.event_id}captureSession(t){this.sendSession(t),St(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),i=await n.flush(t);return r&&i}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Kc(this,t,this._integrations),n||Io(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=fh(t,this._dsn,this._options._metadata,this._options.tunnel);for(const i of n.attachments||[])r=rh(r,ah(i));this.sendEnvelope(r).then(i=>this.emit("afterSendEvent",t,i))}sendSession(t){const{release:n,environment:r=Xi}=this._options;if("aggregates"in t){const s=t.attrs||{};if(!s.release&&!n){_&&h.warn(Ao);return}s.release=s.release||n,s.environment=s.environment||r,t.attrs=s}else{if(!t.release&&!n){_&&h.warn(Ao);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const i=dh(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(i)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const i=`${t}:${n}`;_&&h.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,i=(...s)=>n(...s);return r.add(i),()=>{r.delete(i)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return _&&h.error("Error while sending envelope:",n),{}}return _&&h.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=tg(this,t),Io(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",i=!1;const s=n.exception?.values;if(s){i=!0,r=!1;for(const c of s)if(c.mechanism?.handled===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(St(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o?.length&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),$h(s,t,n,r,this,i).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Sm(r),...a.contexts};const c=Fc(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=w(),i=Be()){return _&&ni(t)&&h.log(`Captured error event \`${eu(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,i).then(s=>s.event_id,s=>{_&&(ko(s)?h.log(s.message):wo(s)?h.warn(s.message):h.warn(s))})}_processEvent(t,n,r,i){const s=this.getOptions(),{sampleRate:o}=s,a=ru(t),c=ni(t),l=`before send for type \`${t.type||"error"}\``,d=typeof o>"u"?void 0:Kt(o);if(c&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),Zi(Nr(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const p=Co(t.type);return this._prepareEvent(t,n,r,i).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",p),Nr("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return f;const E=yg(this,s,f,n);return Sg(E,l)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",p),a){const k=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",k)}throw Nr(`${l} returned \`null\`, will not send event.`)}const m=r.getSession()||i.getSession();if(c&&m&&this._updateSessionFromEvent(m,f),a){const g=f.sdkProcessingMetadata?.spanCountBeforeProcessing||0,k=f.spans?f.spans.length:0,B=g-k;B>0&&this.recordDroppedEvent("before_send","span",B)}const E=f.transaction_info;if(a&&E&&f.transaction!==t.transaction){const g="custom";f.transaction_info={...E,source:g}}return this.sendEvent(f,n),f}).then(null,f=>{throw ko(f)||wo(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),Pn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===Qi&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){_&&h.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){_&&h.log("No outcomes to send");return}if(!this._dsn){_&&h.log("No dsn provided, will not send outcomes");return}_&&h.log("Sending outcomes:",t);const n=mg(t,this._options.tunnel&&Mt(this._dsn));this.sendEnvelope(n)}}function Co(e){return e==="replay_event"?"replay":e||"error"}function Sg(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Ct(e))return e.then(r=>{if(!zt(r)&&r!==null)throw Pn(n);return r},r=>{throw Pn(`${t} rejected with ${r}`)});if(!zt(e)&&e!==null)throw Pn(n);return e}function yg(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o,ignoreSpans:a}=t;let c=n;if(ni(c)&&i)return i(c,r);if(ru(c)){if(o||a){const u=hg(c);if(a?.length&&Vn(u,a))return null;if(o){const l=o(u);l?c=en(n,gg(l)):Zr()}if(c.spans){const l=[],d=c.spans;for(const f of d){if(a?.length&&Vn(f,a)){Ym(d,f);continue}if(o){const m=o(f);m?l.push(m):(Zr(),l.push(f))}else l.push(f)}const p=c.spans.length-l.length;p&&e.recordDroppedEvent("before_send","span",p),c.spans=l}}if(s){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return s(c,r)}}return c}function ni(e){return e.type===void 0}function ru(e){return e.type==="transaction"}function Tg(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+iu(e.attributes)}function bg(e){let t=0;return e.message&&(t+=e.message.length*2),t+iu(e.attributes)}function iu(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*Po(n[0]):_t(n)?t+=Po(n):t+=100}),t}function Po(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function vg(e,t){t.debug===!0&&(_?h.enable():kt(()=>{})),w().update(t.initialScope);const r=new e(t);return Ig(r),r.init(),r}function Ig(e){w().setClient(e)}const Rg="thismessage:/";function su(e){return"isRelative"in e}function ou(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?Rg:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const i=new URL(e,r);return n?{isRelative:n,pathname:i.pathname,search:i.search,hash:i.hash}:i}catch{}}function Ag(e){if(su(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Ye(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function wg(e){return e.split(/[?#]/,1)[0]}function kg(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function au(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Ge})),version:Ge}),e._metadata=i}function cu(e={}){const t=e.client||A();if(!Gh()||!t)return{};const n=rt(),r=Pt(n);if(r.getTraceData)return r.getTraceData(e);const i=e.scope||w(),s=e.span||J(),o=s?Wm(s):Ng(i),a=s?De(s):Fc(t,i),c=km(a);if(!kc.test(o))return h.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const l={"sentry-trace":o,baggage:c};return e.propagateTraceparent&&(l.traceparent=s?Vm(s):Cg(i)),l}function Ng(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Nc(t,r,n)}function Cg(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Cc(t,r,n)}const Pg=100;function nt(e,t){const n=A(),r=Be();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=Pg}=n.getOptions();if(s<=0)return;const a={timestamp:it(),...e},c=i?kt(()=>i(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,s))}let Oo;const Og="FunctionToString",Mo=new WeakMap,Mg=(()=>({name:Og,setupOnce(){Oo=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ji(this),n=Mo.has(A())&&t!==void 0?t:this;return Oo.apply(n,e)}}catch{}},setup(e){Mo.set(e,!0)}})),Lg=Mg,Dg=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],xg="EventFilters",Fg=(e={})=>{let t;return{name:xg,setup(n){const r=n.getOptions();t=Lo(e,r)},processEvent(n,r,i){if(!t){const s=i.getOptions();t=Lo(e,s)}return Ug(n,t)?null:n}}},$g=((e={})=>({...Fg(e),name:"InboundFilters"}));function Lo(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Dg],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function Ug(e,t){if(e.type){if(e.type==="transaction"&&Hg(e,t.ignoreTransactions))return _&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ve(e)}`),!0}else{if(Bg(e,t.ignoreErrors))return _&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ve(e)}`),!0;if(Vg(e))return _&&h.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ve(e)}`),!0;if(qg(e,t.denyUrls))return _&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ve(e)}.
Url: ${zn(e)}`),!0;if(!jg(e,t.allowUrls))return _&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ve(e)}.
Url: ${zn(e)}`),!0}return!1}function Bg(e,t){return t?.length?eu(e).some(n=>Oe(n,t)):!1}function Hg(e,t){if(!t?.length)return!1;const n=e.transaction;return n?Oe(n,t):!1}function qg(e,t){if(!t?.length)return!1;const n=zn(e);return n?Oe(n,t):!1}function jg(e,t){if(!t?.length)return!0;const n=zn(e);return n?Oe(n,t):!0}function Wg(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function zn(e){try{const n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?Wg(n):null}catch{return _&&h.error(`Cannot extract url for event ${Ve(e)}`),null}}function Vg(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function zg(e,t,n,r,i,s){if(!i.exception?.values||!s||!be(s.originalException,Error))return;const o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;o&&(i.exception.values=ri(e,t,r,s.originalException,n,i.exception.values,o,0))}function ri(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let c=[...s];if(be(r[i],Error)){Do(o,a);const u=e(t,r[i]),l=c.length;xo(u,i,l,a),c=ri(e,t,n,r[i],i,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(be(u,Error)){Do(o,a);const d=e(t,u),p=c.length;xo(d,`errors[${l}]`,p,a),c=ri(e,t,n,u,i,[d,...c],d,p)}}),c}function Do(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function xo(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Gg(e){const t="console";$e(t,e),Ue(t,Kg)}function Kg(){"console"in v&&Up.forEach(function(e){e in v.console&&K(v.console,e,function(t){return qn[e]=t,function(...n){ee("console",{args:n,level:e}),qn[e]?.apply(v.console,n)}})})}function Xg(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Yg="Dedupe",Jg=(()=>{let e;return{name:Yg,processEvent(t){if(t.type)return t;try{if(Qg(t,e))return _&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),Zg=Jg;function Qg(e,t){return t?!!(e_(e,t)||t_(e,t)):!1}function e_(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!lu(e,t)||!uu(e,t))}function t_(e,t){const n=Fo(t),r=Fo(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!lu(e,t)||!uu(e,t))}function uu(e,t){let n=Gs(e),r=Gs(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function lu(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Fo(e){return e.exception?.values?.[0]}function n_(e,t,n,r,i){if(!e.fetchData)return;const{method:s,url:o}=e.fetchData,a=ue()&&t(o);if(e.endTimestamp&&a){const f=e.fetchData.__span;if(!f)return;const m=r[f];m&&(s_(m,e),r_(m,e,i),delete r[f]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof i=="object"?i:{spanOrigin:i},l=!!J(),d=a&&l?Lt(a_(o,s,c)):new xe;if(e.fetchData.__span=d.spanContext().spanId,r[d.spanContext().spanId]=d,n(e.fetchData.url)){const f=e.args[0],m=e.args[1]||{},E=i_(f,m,ue()&&l?d:void 0,u);E&&(e.args[1]=m,m.headers=E)}const p=A();if(p){const f={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};p.emit("beforeOutgoingRequestSpan",d,f)}return d}function r_(e,t,n){(typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0)?.(e,{headers:t.response?.headers,error:t.error})}function i_(e,t,n,r){const i=cu({span:n,propagateTraceparent:r}),s=i["sentry-trace"],o=i.baggage,a=i.traceparent;if(!s)return;const c=t.headers||(Hi(e)?e.headers:void 0);if(c)if(o_(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",s),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),o){const l=u.get("baggage");l?Sn(l)||u.set("baggage",`${l},${o}`):u.set("baggage",o)}return u}else if(Array.isArray(c)){const u=[...c];c.find(d=>d[0]==="sentry-trace")||u.push(["sentry-trace",s]),r&&a&&!c.find(d=>d[0]==="traceparent")&&u.push(["traceparent",a]);const l=c.find(d=>d[0]==="baggage"&&Sn(d[1]));return o&&!l&&u.push(["baggage",o]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,l="traceparent"in c?c.traceparent:void 0,d="baggage"in c?c.baggage:void 0,p=d?Array.isArray(d)?[...d]:[d]:[],f=d&&(Array.isArray(d)?d.find(E=>Sn(E)):Sn(d));o&&!f&&p.push(o);const m={...c,"sentry-trace":u??s,baggage:p.length>0?p.join(","):void 0};return r&&a&&!l&&(m.traceparent=a),m}else return{...i}}function s_(e,t){if(t.response){vc(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:P,message:"internal_error"});e.end()}function Sn(e){return e.split(",").some(t=>t.trim().startsWith(Gi))}function o_(e){return typeof Headers<"u"&&be(e,Headers)}function a_(e,t,n){const r=ou(e);return{name:r?`${t} ${Ag(r)}`:t,attributes:c_(e,r,t,n)}}function c_(e,t,n,r){const i={url:e,type:"fetch","http.method":n,[L]:r,[Re]:"http.client"};return t&&(su(t)||(i["http.url"]=t.href,i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}function du(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Yt=v;function u_(){return"history"in Yt&&!!Yt.history}function l_(){if(!("fetch"in Yt))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function ii(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function d_(){if(typeof EdgeRuntime=="string")return!0;if(!l_())return!1;if(ii(Yt.fetch))return!0;let e=!1;const t=Yt.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=ii(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){_&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function fu(e,t){const n="fetch";$e(n,e),Ue(n,()=>pu(void 0,t))}function f_(e){const t="fetch-body-resolved";$e(t,e),Ue(t,()=>pu(m_))}function pu(e,t=!1){t&&!d_()||K(v,"fetch",function(n){return function(...r){const i=new Error,{method:s,url:o}=h_(r),a={args:r,fetchData:{method:s,url:o},startTimestamp:D()*1e3,virtualError:i,headers:g_(r)};return e||ee("fetch",{...a}),n.apply(v,r).then(async c=>(e?e(c):ee("fetch",{...a,endTimestamp:D()*1e3,response:c}),c),c=>{if(ee("fetch",{...a,endTimestamp:D()*1e3,error:c}),Ui(c)&&c.stack===void 0&&(c.stack=i.stack,X(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function p_(e,t){if(e?.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(o)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function m_(e){let t;try{t=e.clone()}catch{return}p_(t,()=>{ee("fetch-body-resolved",{endTimestamp:D()*1e3,response:e})})}function On(e,t){return!!e&&typeof e=="object"&&!!e[t]}function $o(e){return typeof e=="string"?e:e?On(e,"url")?e.url:e.toString?e.toString():"":""}function h_(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:$o(n),method:On(r,"method")?String(r.method).toUpperCase():Hi(n)&&On(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:$o(t),method:On(t,"method")?String(t.method).toUpperCase():"GET"}}function g_(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Hi(t))return new Headers(t.headers)}catch{}}function __(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function E_(){return"npm"}function S_(){return!__()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function y_(){return typeof window<"u"&&(!S_()||T_())}function T_(){return v.process?.type==="renderer"}const T=v;let si=0;function mu(){return si>0}function b_(){si++,setTimeout(()=>{si--})}function bt(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(ji(e))return e}catch{return e}const r=function(...i){try{const s=i.map(o=>bt(o,t));return e.apply(this,s)}catch(s){throw b_(),sr(o=>{o.addEventProcessor(a=>(t.mechanism&&(Xr(a,void 0),Et(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),Vh(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}Ec(r,e),X(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function ts(){const e=Qt(),{referrer:t}=T.document||{},{userAgent:n}=T.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function ns(e,t){const n=rs(e,t),r={type:w_(t),value:k_(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function v_(e,t,n,r){const s=A()?.getOptions().normalizeDepth,o=M_(t),a={__serialized__:$c(t,s)};if(o)return{exception:{values:[ns(e,o)]},extra:a};const c={exception:{values:[{type:ir(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:P_(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=rs(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Cr(e,t){return{exception:{values:[ns(e,t)]}}}function rs(e,t){const n=t.stacktrace||t.stack||"",r=R_(t),i=A_(t);try{return e(n,r,i)}catch{}return[]}const I_=/Minified React error #\d+;/i;function R_(e){return e&&I_.test(e.message)?1:0}function A_(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function hu(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function w_(e){const t=e?.name;return!t&&hu(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function k_(e){const t=e?.message;return hu(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function N_(e,t,n,r){const i=n?.syntheticException||void 0,s=is(e,t,i,r);return Et(s),s.level="error",n?.event_id&&(s.event_id=n.event_id),ar(s)}function C_(e,t,n="info",r,i){const s=r?.syntheticException||void 0,o=oi(e,t,s,i);return o.level=n,r?.event_id&&(o.event_id=r.event_id),ar(o)}function is(e,t,n,r,i){let s;if(hc(t)&&t.error)return Cr(e,t.error);if(Xs(t)||Yp(t)){const o=t;if("stack"in t)s=Cr(e,t);else{const a=o.name||(Xs(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;s=oi(e,c,n,r),Xr(s,c)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return Ui(t)?Cr(e,t):zt(t)||ir(t)?(s=v_(e,t,n,i),Et(s,{synthetic:!0}),s):(s=oi(e,t,n,r),Xr(s,`${t}`),Et(s,{synthetic:!0}),s)}function oi(e,t,n,r){const i={};if(r&&n){const s=rs(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]}),Et(i,{synthetic:!0})}if(Bi(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function P_(e,{isUnhandledRejection:t}){const n=nm(e),r=t?"promise rejection":"exception";return hc(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:ir(e)?`Event \`${O_(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function O_(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function M_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class L_ extends Eg{constructor(t){const n=D_(t),r=T.SENTRY_SDK_SOURCE||E_();au(n,"browser",["browser"],r),n._metadata?.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:i,sendClientReports:s,enableLogs:o,_experiments:a,enableMetrics:c}=this._options,u=c??a?.enableMetrics??!0;T.document&&(s||o||u)&&T.document.addEventListener("visibilitychange",()=>{T.document.visibilityState==="hidden"&&(s&&this._flushOutcomes(),o&&Xc(this),u&&Jc(this))}),i&&this.on("beforeSendSession",kg)}eventFromException(t,n){return N_(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return C_(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,i)}}function D_(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:T.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const rn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,S=v,x_=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",sn=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i??0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=x_(t.value,n),e(t)))}},on=(e=!0)=>{const t=S.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Dt=()=>on()?.activationStart??0;function Je(e,t,n){S.document&&S.addEventListener(e,t,n)}function ss(e,t,n){S.document&&S.removeEventListener(e,t,n)}let pt=-1;const gu=new Set,F_=()=>S.document?.visibilityState==="hidden"&&!S.document?.prerendering?0:1/0,Mn=e=>{if($_(e)&&pt>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of gu)t();isFinite(pt)||(pt=e.type==="visibilitychange"?e.timeStamp:0,ss("prerenderingchange",Mn,!0))}},an=()=>{if(S.document&&pt<0){const e=Dt();pt=(S.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??F_(),Je("visibilitychange",Mn,!0),Je("pagehide",Mn,!0),Je("prerenderingchange",Mn,!0)}return{get firstHiddenTime(){return pt},onHidden(e){gu.add(e)}}};function $_(e){return e.type==="pagehide"||S.document?.visibilityState==="hidden"}const U_=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,cn=(e,t=-1)=>{const n=on();let r="navigate";return n&&(S.document?.prerendering||Dt()>0?r="prerender":S.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:U_(),navigationType:r}},Pr=new WeakMap;function os(e,t){return Pr.get(e)||Pr.set(e,new t),Pr.get(e)}class Gn{constructor(){Gn.prototype.__init.call(this),Gn.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}}const xt=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},as=e=>{let t=!1;return()=>{t||(e(),t=!0)}},cr=e=>{S.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},B_=[1800,3e3],H_=(e,t={})=>{cr(()=>{const n=an(),r=cn("FCP");let i;const o=xt("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Dt(),0),r.entries.push(c),i(!0)))});o&&(i=sn(e,r,B_,t.reportAllChanges))})},q_=[.1,.25],j_=(e,t={})=>{H_(as(()=>{const n=cn("CLS",0);let r;const i=an(),s=os(t,Gn),o=c=>{for(const u of c)s._processEntry(u);s._sessionValue>n.value&&(n.value=s._sessionValue,n.entries=s._sessionEntries,r())},a=xt("layout-shift",o);a&&(r=sn(e,n,q_,t.reportAllChanges),i.onHidden(()=>{o(a.takeRecords()),r(!0)}),S?.setTimeout?.(r))}))};let _u=0,Or=1/0,yn=0;const W_=e=>{e.forEach(t=>{t.interactionId&&(Or=Math.min(Or,t.interactionId),yn=Math.max(yn,t.interactionId),_u=yn?(yn-Or)/7+1:0)})};let ai;const Eu=()=>ai?_u:performance.interactionCount||0,V_=()=>{"interactionCount"in performance||ai||(ai=xt("event",W_,{type:"event",buffered:!0,durationThreshold:0}))},Mr=10;let Su=0;const z_=()=>Eu()-Su;class Kn{constructor(){Kn.prototype.__init.call(this),Kn.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Su=Eu(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(z_()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Mr||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((i,s)=>s._latency-i._latency),this._longestInteractionList.length>Mr){const i=this._longestInteractionList.splice(Mr);for(const s of i)this._longestInteractionMap.delete(s.id)}this._onAfterProcessingINPCandidate?.(r)}}}const yu=e=>{const t=n=>{(n.type==="pagehide"||S.document?.visibilityState==="hidden")&&e(n)};Je("visibilitychange",t,!0),Je("pagehide",t,!0)},Tu=e=>{const t=S.requestIdleCallback||S.setTimeout;S.document?.visibilityState==="hidden"?e():(e=as(e),Je("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),ss("visibilitychange",e,{capture:!0})}),yu(e))},G_=[200,500],K_=40,X_=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=an();cr(()=>{V_();const r=cn("INP");let i;const s=os(t,Kn),o=c=>{Tu(()=>{for(const l of c)s._processEntry(l);const u=s._estimateP98LongestInteraction();u&&u._latency!==r.value&&(r.value=u._latency,r.entries=u.entries,i())})},a=xt("event",o,{durationThreshold:t.durationThreshold??K_});i=sn(e,r,G_,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{o(a.takeRecords()),i(!0)}))})};class Y_{_processEntry(t){this._onBeforeProcessingEntry?.(t)}}const J_=[2500,4e3],Z_=(e,t={})=>{cr(()=>{const n=an(),r=cn("LCP");let i;const s=os(t,Y_),o=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)s._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-Dt(),0),r.entries=[u],i())},a=xt("largest-contentful-paint",o);if(a){i=sn(e,r,J_,t.reportAllChanges);const c=as(()=>{o(a.takeRecords()),a.disconnect(),i(!0)}),u=l=>{l.isTrusted&&(Tu(c),ss(l.type,u,{capture:!0}))};for(const l of["keydown","click","visibilitychange"])Je(l,u,{capture:!0})}})},Q_=[800,1800],ci=e=>{S.document?.prerendering?cr(()=>ci(e)):S.document?.readyState!=="complete"?addEventListener("load",()=>ci(e),!0):setTimeout(e)},eE=(e,t={})=>{const n=cn("TTFB"),r=sn(e,n,Q_,t.reportAllChanges);ci(()=>{const i=on();i&&(n.value=Math.max(i.responseStart-Dt(),0),n.entries=[i],r(!0))})},Wt={},Xn={};let bu,vu,Iu,Ru;function Au(e,t=!1){return ur("cls",e,rE,bu,t)}function wu(e,t=!1){return ur("lcp",e,iE,vu,t)}function tE(e){return ur("ttfb",e,sE,Iu)}function nE(e){return ur("inp",e,oE,Ru)}function vt(e,t){return ku(e,t),Xn[e]||(aE(e),Xn[e]=!0),Nu(e,t)}function un(e,t){const n=Wt[e];if(n?.length)for(const r of n)try{r(t)}catch(i){rn&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Te(r)}
Error:`,i)}}function rE(){return j_(e=>{un("cls",{metric:e}),bu=e},{reportAllChanges:!0})}function iE(){return Z_(e=>{un("lcp",{metric:e}),vu=e},{reportAllChanges:!0})}function sE(){return eE(e=>{un("ttfb",{metric:e}),Iu=e})}function oE(){return X_(e=>{un("inp",{metric:e}),Ru=e})}function ur(e,t,n,r,i=!1){ku(e,t);let s;return Xn[e]||(s=n(),Xn[e]=!0),r&&t({metric:r}),Nu(e,t,i?s:void 0)}function aE(e){const t={};e==="event"&&(t.durationThreshold=0),xt(e,n=>{un(e,{entries:n})},t)}function ku(e,t){Wt[e]=Wt[e]||[],Wt[e].push(t)}function Nu(e,t,n){return()=>{n&&n();const r=Wt[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function cE(e){return"duration"in e}function Lr(e){return typeof e=="number"&&isFinite(e)}function Fe(e,t,n,{...r}){const i=I(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Yi(e,()=>{const s=Lt({startTime:t,...r});return s&&s.end(n),s})}function cs(e){const t=A();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:o,environment:a,sendDefaultPii:c}=t.getOptions(),l=t.getIntegrationByName("Replay")?.getReplayId(),d=w(),p=d.getUser(),f=p!==void 0?p.email||p.id||p.ip_address:void 0;let m;try{m=d.getScopeData().contexts.profile.profile_id}catch{}const E={release:o,environment:a,user:f||void 0,profile_id:m||void 0,replay_id:l||void 0,transaction:r,"user_agent.original":S.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...i};return Lt({name:n,attributes:E,startTime:s,experimental:{standalone:!0}})}function ln(){return S.addEventListener&&S.performance}function C(e){return e/1e3}function uE(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function Cu(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Pu(e,t){let n,r=!1;function i(a){!r&&n&&t(a,n),r=!0}yu(()=>{i("pagehide")});const s=e.on("beforeStartNavigationSpan",(a,c)=>{c?.isRedirect||(i("navigation"),s(),o())}),o=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,o()})}function lE(e){let t=0,n;if(!Cu("layout-shift"))return;const r=Au(({metric:i})=>{const s=i.entries[i.entries.length-1];s&&(t=i.value,n=s)},!0);Pu(e,(i,s)=>{dE(t,n,s,i),r()})}function dE(e,t,n,r){rn&&h.log(`Sending CLS span (${e})`);const i=t?C((Y()||0)+t.startTime):D(),s=w().getScopeData().transactionName,o=t?ne(t.sources[0]?.node):"Layout shift",a={[L]:"auto.http.browser.cls",[Re]:"ui.webvital.cls",[Ot]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,l)=>{a[`cls.source.${l+1}`]=ne(u.node)});const c=cs({name:o,transaction:s,attributes:a,startTime:i});c&&(c.addEvent("cls",{[tn]:"",[nn]:e}),c.end(i))}function fE(e){let t=0,n;if(!Cu("largest-contentful-paint"))return;const r=wu(({metric:i})=>{const s=i.entries[i.entries.length-1];s&&(t=i.value,n=s)},!0);Pu(e,(i,s)=>{pE(t,n,s,i),r()})}function pE(e,t,n,r){rn&&h.log(`Sending LCP span (${e})`);const i=C((Y()||0)+(t?.startTime||0)),s=w().getScopeData().transactionName,o=t?ne(t.element):"Largest contentful paint",a={[L]:"auto.http.browser.lcp",[Re]:"ui.webvital.lcp",[Ot]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=ne(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=cs({name:o,transaction:s,attributes:a,startTime:i});c&&(c.addEvent("lcp",{[tn]:"millisecond",[nn]:e}),c.end(i))}function Z(e){return e&&((Y()||performance.timeOrigin)+e)/1e3}function Ou(e){const t={};if(e.nextHopProtocol!=null){const{name:n,version:r}=uE(e.nextHopProtocol);t["network.protocol.version"]=r,t["network.protocol.name"]=n}return Y()||ln()?.timeOrigin?mE({...t,"http.request.redirect_start":Z(e.redirectStart),"http.request.redirect_end":Z(e.redirectEnd),"http.request.worker_start":Z(e.workerStart),"http.request.fetch_start":Z(e.fetchStart),"http.request.domain_lookup_start":Z(e.domainLookupStart),"http.request.domain_lookup_end":Z(e.domainLookupEnd),"http.request.connect_start":Z(e.connectStart),"http.request.secure_connection_start":Z(e.secureConnectionStart),"http.request.connection_end":Z(e.connectEnd),"http.request.request_start":Z(e.requestStart),"http.request.response_start":Z(e.responseStart),"http.request.response_end":Z(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function mE(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const hE=2147483647;let Uo=0,ae={},W,Yn;function gE({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=ln();if(r&&Y()){r.mark&&S.performance.mark("sentry-tracing-init");const i=t?fE(n):TE(),s=bE(),o=e?lE(n):yE();return()=>{i?.(),s(),o?.()}}return()=>{}}function _E(){vt("longtask",({entries:e})=>{const t=J();if(!t)return;const{op:n,start_timestamp:r}=I(t);for(const i of e){const s=C(Y()+i.startTime),o=C(i.duration);n==="navigation"&&r&&s<r||Fe(t,s,s+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[L]:"auto.ui.browser.metrics"}})}})}function EE(){new PerformanceObserver(t=>{const n=J();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=C(Y()+r.startTime),{start_timestamp:s,op:o}=I(n);if(o==="navigation"&&s&&i<s)continue;const a=C(r.duration),c={[L]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:l,invokerType:d,sourceURL:p,sourceFunctionName:f,sourceCharPosition:m}=u;c["browser.script.invoker"]=l,c["browser.script.invoker_type"]=d,p&&(c["code.filepath"]=p),f&&(c["code.function"]=f),m!==-1&&(c["browser.script.source_char_position"]=m),Fe(n,i,i+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function SE(){vt("event",({entries:e})=>{const t=J();if(t){for(const n of e)if(n.name==="click"){const r=C(Y()+n.startTime),i=C(n.duration),s={name:ne(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[L]:"auto.ui.browser.metrics"}},o=_c(n.target);o&&(s.attributes["ui.component_name"]=o),Fe(t,r,r+i,s)}}})}function yE(){return Au(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ae.cls={value:e.value,unit:""},Yn=t)},!0)}function TE(){return wu(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ae.lcp={value:e.value,unit:"millisecond"},W=t)},!0)}function bE(){return tE(({metric:e})=>{e.entries[e.entries.length-1]&&(ae.ttfb={value:e.value,unit:"millisecond"})})}function vE(e,t){const n=ln(),r=Y();if(!n?.getEntries||!r)return;const i=C(r),s=n.getEntries(),{op:o,start_timestamp:a}=I(e);s.slice(Uo).forEach(c=>{const u=C(c.startTime),l=C(Math.max(0,c.duration));if(!(o==="navigation"&&a&&i+u<a))switch(c.entryType){case"navigation":{wE(e,c,i);break}case"mark":case"paint":case"measure":{RE(e,c,u,l,i,t.ignorePerformanceApiSpans);const d=an(),p=c.startTime<d.firstHiddenTime;c.name==="first-paint"&&p&&(ae.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&p&&(ae.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{CE(e,c,c.name,u,l,i,t.ignoreResourceSpans);break}}}),Uo=Math.max(s.length-1,0),PE(e),o==="pageload"&&(LE(ae),t.recordClsOnPageloadSpan||delete ae.cls,t.recordLcpOnPageloadSpan||delete ae.lcp,Object.entries(ae).forEach(([c,u])=>{gh(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",i),e.setAttribute("performance.activationStart",Dt()),OE(e,t)),W=void 0,Yn=void 0,ae={}}function IE(e){if(e?.entryType==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function RE(e,t,n,r,i,s){if(IE(t)||["mark","measure"].includes(t.entryType)&&Oe(t.name,s))return;const o=on(!1),a=C(o?o.requestStart:0),c=i+Math.max(n,a),u=i+n,l=u+r,d={[L]:"auto.resource.browser.metrics"};c!==u&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=c),AE(d,t),c<=l&&Fe(e,c,l,{name:t.name,op:t.entryType,attributes:d})}function AE(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,i]of Object.entries(n))if(i&&_t(i))e[`sentry.browser.measure.detail.${r}`]=i;else if(i!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(i)}catch{}return}if(_t(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function wE(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Tn(e,t,r,n)}),Tn(e,t,"secureConnection",n,"TLS/SSL"),Tn(e,t,"fetch",n,"cache"),Tn(e,t,"domainLookup",n,"DNS"),NE(e,t,n)}function Tn(e,t,n,r,i=n){const s=kE(n),o=t[s],a=t[`${n}Start`];!a||!o||Fe(e,r+C(a),r+C(o),{op:`browser.${i}`,name:t.name,attributes:{[L]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function kE(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function NE(e,t,n){const r=n+C(t.requestStart),i=n+C(t.responseEnd),s=n+C(t.responseStart);t.responseEnd&&(Fe(e,r,i,{op:"browser.request",name:t.name,attributes:{[L]:"auto.ui.browser.metrics"}}),Fe(e,s,i,{op:"browser.response",name:t.name,attributes:{[L]:"auto.ui.browser.metrics"}}))}function CE(e,t,n,r,i,s,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o?.includes(a))return;const c={[L]:"auto.resource.browser.metrics"},u=Ye(n);u.protocol&&(c["url.scheme"]=u.protocol.split(":").pop()),u.host&&(c["server.address"]=u.host),c["url.same_origin"]=n.includes(S.location.origin),ME(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const l={...c,...Ou(t)},d=s+r,p=d+i;Fe(e,d,p,{name:n.replace(S.location.origin,""),op:a,attributes:l})}function PE(e){const t=S.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Lr(n.rtt)&&(ae["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Lr(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Lr(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function OE(e,t){W&&t.recordLcpOnPageloadSpan&&(W.element&&e.setAttribute("lcp.element",ne(W.element)),W.id&&e.setAttribute("lcp.id",W.id),W.url&&e.setAttribute("lcp.url",W.url.trim().slice(0,200)),W.loadTime!=null&&e.setAttribute("lcp.loadTime",W.loadTime),W.renderTime!=null&&e.setAttribute("lcp.renderTime",W.renderTime),e.setAttribute("lcp.size",W.size)),Yn?.sources&&t.recordClsOnPageloadSpan&&Yn.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,ne(n.node)))}function ME(e,t,n){n.forEach(([r,i])=>{const s=e[r];s!=null&&(typeof s=="number"&&s<hE||typeof s=="string")&&(t[i]=s)})}function LE(e){const t=on(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function DE(){return ln()&&Y()?vt("element",xE):()=>{}}const xE=({entries:e})=>{const t=J(),n=t?j(t):void 0,r=n?I(n).description:w().getScopeData().transactionName;e.forEach(i=>{const s=i;if(!s.identifier)return;const o=s.name,a=s.renderTime,c=s.loadTime,[u,l]=c?[C(c),"load-time"]:a?[C(a),"render-time"]:[D(),"entry-emission"],d=o==="image-paint"?C(Math.max(0,(a??0)-(c??0))):0,p={[L]:"auto.ui.browser.elementtiming",[Re]:"ui.elementtiming",[fe]:"component","sentry.span_start_time_source":l,"sentry.transaction_name":r,"element.id":s.id,"element.type":s.element?.tagName?.toLowerCase()||"unknown","element.size":s.naturalWidth&&s.naturalHeight?`${s.naturalWidth}x${s.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":s.url||void 0,"element.identifier":s.identifier,"element.paint_type":o};bh({name:`element[${s.identifier}]`,attributes:p,startTime:u,onlyIfParent:!0},f=>{f.end(u+d)})})},FE=1e3;let Bo,ui,li;function $E(e){$e("dom",e),Ue("dom",UE)}function UE(){if(!S.document)return;const e=ee.bind(null,"dom"),t=Ho(e,!0);S.document.addEventListener("click",t,!1),S.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const i=S[n]?.prototype;i?.hasOwnProperty?.("addEventListener")&&(K(i,"addEventListener",function(s){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},l=u[o]=u[o]||{refCount:0};if(!l.handler){const d=Ho(e);l.handler=d,s.call(this,o,d,c)}l.refCount++}catch{}return s.call(this,o,a,c)}}),K(i,"removeEventListener",function(s){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},l=u[o];l&&(l.refCount--,l.refCount<=0&&(s.call(this,o,l.handler,c),l.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,o,a,c)}}))})}function BE(e){if(e.type!==ui)return!1;try{if(!e.target||e.target._sentryId!==li)return!1}catch{}return!0}function HE(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Ho(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=qE(n);if(HE(n.type,r))return;X(n,"_sentryCaptured",!0),r&&!r._sentryId&&X(r,"_sentryId",te());const i=n.type==="keypress"?"input":n.type;BE(n)||(e({event:n,name:i,global:t}),ui=n.type,li=r?r._sentryId:void 0),clearTimeout(Bo),Bo=S.setTimeout(()=>{li=void 0,ui=void 0},FE)}}function qE(e){try{return e.target}catch{return null}}let bn;function us(e){const t="history";$e(t,e),Ue(t,jE)}function jE(){if(S.addEventListener("popstate",()=>{const t=S.location.href,n=bn;if(bn=t,n===t)return;ee("history",{from:n,to:t})}),!u_())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const i=bn,s=WE(String(r));if(bn=s,i===s)return t.apply(this,n);ee("history",{from:i,to:s})}return t.apply(this,n)}}K(S.history,"pushState",e),K(S.history,"replaceState",e)}function WE(e){try{return new URL(e,S.location.origin).toString()}catch{return e}}const Ln={};function VE(e){const t=Ln[e];if(t)return t;let n=S[e];if(ii(n))return Ln[e]=n.bind(S);const r=S.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s?.[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){rn&&h.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(Ln[e]=n.bind(S))}function zE(e){Ln[e]=void 0}const lt="__sentry_xhr_v3__";function Mu(e){$e("xhr",e),Ue("xhr",GE)}function GE(){if(!S.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,s=D()*1e3,o=Ee(r[0])?r[0].toUpperCase():void 0,a=KE(r[1]);if(!o||!a)return t.apply(n,r);n[lt]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[lt];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const l={endTimestamp:D()*1e3,startTimestamp:s,xhr:n,virtualError:i};ee("xhr",l)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,l,d){return c(),u.apply(l,d)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,l,d){const[p,f]=d,m=l[lt];return m&&Ee(p)&&Ee(f)&&(m.request_headers[p.toLowerCase()]=f),u.apply(l,d)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[lt];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:D()*1e3,xhr:n};return ee("xhr",s),t.apply(n,r)}})}function KE(e){if(Ee(e))return e;try{return e.toString()}catch{}}function XE(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return rn&&h.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[i,s]=r.split(": ");return s&&(n[i.toLowerCase()]=s),n},{}):{}}const Dr=[],Dn=new Map,at=new Map,YE=60;function JE(){if(ln()&&Y()){const t=ZE();return()=>{t()}}return()=>{}}const di={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function ZE(){return nE(QE)}const QE=({metric:e})=>{if(e.value==null)return;const t=C(e.value);if(t>YE)return;const n=e.entries.find(m=>m.duration===e.value&&di[m.name]);if(!n)return;const{interactionId:r}=n,i=di[n.name],s=C(Y()+n.startTime),o=J(),a=o?j(o):void 0,c=r!=null?Dn.get(r):void 0,u=c?.span||a,l=u?I(u).description:w().getScopeData().transactionName,d=c?.elementName||ne(n.target),p={[L]:"auto.http.browser.inp",[Re]:`ui.interaction.${i}`,[Ot]:n.duration},f=cs({name:d,transaction:l,attributes:p,startTime:s});f&&(f.addEvent("inp",{[tn]:"millisecond",[nn]:e.value}),f.end(s+t))};function eS(){const e=Object.keys(di);y_()&&e.forEach(i=>{S.addEventListener(i,t,{capture:!0,passive:!0})});function t(i){const s=i.target;if(!s)return;const o=ne(s),a=Math.round(i.timeStamp);if(at.set(a,o),at.size>50){const c=at.keys().next().value;c!==void 0&&at.delete(c)}}function n(i){const s=Math.round(i.startTime);let o=at.get(s);if(!o)for(let a=-5;a<=5;a++){const c=at.get(s+a);if(c){o=c;break}}return o||"<unknown>"}const r=({entries:i})=>{const s=J(),o=s&&j(s);i.forEach(a=>{if(!cE(a))return;const c=a.interactionId;if(c==null||Dn.has(c))return;const u=a.target?ne(a.target):n(a);if(Dr.length>10){const l=Dr.shift();Dn.delete(l)}Dr.push(c),Dn.set(c,{span:o,elementName:u})})};vt("event",r),vt("first-input",r)}const tS=40;function nS(e,t=VE("fetch")){let n=0,r=0;async function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const c=await t(e.url,a);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw zE("fetch"),c}finally{n-=o,r--}}return pg(e,i,es(e.bufferSize||tS))}const re=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,rS=30,iS=50;function fi(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?tt:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const sS=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,oS=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,aS=/\((\S*)(?::(\d+))(?::(\d+))\)/,cS=/at (.+?) ?\(data:(.+?),/,uS=e=>{const t=e.match(cS);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=sS.exec(e);if(n){const[,i,s,o]=n;return fi(i,tt,+s,+o)}const r=oS.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=aS.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[s,o]=Lu(r[1]||tt,r[2]);return fi(o,s,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},lS=[rS,uS],dS=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,fS=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,pS=e=>{const t=dS.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=fS.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||tt;return[i,r]=Lu(i,r),fi(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},mS=[iS,pS],hS=[lS,mS],gS=lc(...hS),Lu=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:tt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},vn=1024,_S="Breadcrumbs",ES=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:_S,setup(n){t.console&&Gg(bS(n)),t.dom&&$E(TS(n,t.dom)),t.xhr&&Mu(vS(n)),t.fetch&&fu(IS(n)),t.history&&us(RS(n)),t.sentry&&n.on("beforeSendEvent",yS(n))}}}),SS=ES;function yS(e){return function(n){A()===e&&nt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ve(n)},{event:n})}}function TS(e,t){return function(r){if(A()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>vn&&(re&&h.warn(`\`dom.maxStringLength\` cannot exceed ${vn}, but a value of ${a} was configured. Sentry will use ${vn} instead.`),a=vn),typeof o=="string"&&(o=[o]);try{const u=r.event,l=AS(u)?u.target:u;i=ne(l,{keyAttrs:o,maxStringLength:a}),s=_c(l)}catch{i="<unknown>"}if(i.length===0)return;const c={category:`ui.${r.name}`,message:i};s&&(c.data={"ui.component_name":s}),nt(c,{event:r.event,name:r.name,global:r.global})}}function bS(e){return function(n){if(A()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Xg(n.level),message:Zs(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Zs(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;nt(r,{input:n.args,level:n.level})}}function vS(e){return function(n){if(A()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[lt];if(!r||!i||!s)return;const{method:o,url:a,status_code:c,body:u}=s,l={method:o,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:i},p={category:"xhr",data:l,type:"http",level:du(c)};e.emit("beforeOutgoingRequestBreadcrumb",p,d),nt(p,d)}}function IS(e){return function(n){if(A()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i},a={category:"fetch",data:s,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),nt(a,o)}else{const s=n.response,o={...n.fetchData,status_code:s?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,s?.status;const a={input:n.args,response:s,startTimestamp:r,endTimestamp:i},c={category:"fetch",data:o,type:"http",level:du(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),nt(c,a)}}}function RS(e){return function(n){if(A()!==e)return;let r=n.from,i=n.to;const s=Ye(T.location.href);let o=r?Ye(r):void 0;const a=Ye(i);o?.path||(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),nt({category:"navigation",data:{from:r,to:i}})}}function AS(e){return!!e&&!!e.target}const wS=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],kS="BrowserApiErrors",NS=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:kS,setupOnce(){t.setTimeout&&K(T,"setTimeout",qo),t.setInterval&&K(T,"setInterval",qo),t.requestAnimationFrame&&K(T,"requestAnimationFrame",PS),t.XMLHttpRequest&&"XMLHttpRequest"in T&&K(XMLHttpRequest.prototype,"send",OS);const n=t.eventTarget;n&&(Array.isArray(n)?n:wS).forEach(i=>MS(i,t))}}}),CS=NS;function qo(e){return function(...t){const n=t[0];return t[0]=bt(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Te(e)}`}}),e.apply(this,t)}}function PS(e){return function(t){return e.apply(this,[bt(t,{mechanism:{data:{handler:Te(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function OS(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&K(n,i,function(s){const o={mechanism:{data:{handler:Te(s)},handled:!1,type:`auto.browser.browserapierrors.xhr.${i}`}},a=ji(s);return a&&(o.mechanism.data.handler=Te(a)),bt(s,o)})}),e.apply(this,t)}}function MS(e,t){const r=T[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(K(r,"addEventListener",function(i){return function(s,o,a){try{LS(o)&&(o.handleEvent=bt(o.handleEvent,{mechanism:{data:{handler:Te(o),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&DS(this,s,o),i.apply(this,[s,bt(o,{mechanism:{data:{handler:Te(o),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),a])}}),K(r,"removeEventListener",function(i){return function(s,o,a){try{const c=o.__sentry_wrapped__;c&&i.call(this,s,c,a)}catch{}return i.call(this,s,o,a)}}))}function LS(e){return typeof e.handleEvent=="function"}function DS(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const xS=()=>({name:"BrowserSession",setupOnce(){if(typeof T.document>"u"){re&&h.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}To({ignoreDuration:!0}),bo(),us(({from:e,to:t})=>{e!==void 0&&e!==t&&(To({ignoreDuration:!0}),bo())})}}),FS="GlobalHandlers",$S=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:FS,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(BS(n),jo("onerror")),t.onunhandledrejection&&(HS(n),jo("onunhandledrejection"))}}}),US=$S;function BS(e){fc(t=>{const{stackParser:n,attachStacktrace:r}=Du();if(A()!==e||mu())return;const{msg:i,url:s,line:o,column:a,error:c}=t,u=WS(is(n,c||i,void 0,r,!1),s,o,a);u.level="error",Vc(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function HS(e){pc(t=>{const{stackParser:n,attachStacktrace:r}=Du();if(A()!==e||mu())return;const i=qS(t),s=_t(i)?jS(i):is(n,i,void 0,r,!0);s.level="error",Vc(s,{originalException:i,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function qS(e){if(_t(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function jS(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function WS(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=r,l=n,d=VS(t)??Qt();return c.length===0&&c.push({colno:u,filename:d,function:tt,in_app:!0,lineno:l}),e}function jo(e){re&&h.log(`Global Handler attached: ${e}`)}function Du(){return A()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function VS(e){if(!(!Ee(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e}}const zS=()=>({name:"HttpContext",preprocessEvent(e){if(!T.navigator&&!T.location&&!T.document)return;const t=ts(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),GS="cause",KS=5,XS="LinkedErrors",YS=((e={})=>{const t=e.limit||KS,n=e.key||GS;return{name:XS,preprocessEvent(r,i,s){const o=s.getOptions();zg(ns,o.stackParser,n,t,r,i)}}}),JS=YS;function ZS(){return QS()?(re&&kt(()=>{}),!0):!1}function QS(){if(typeof T.window>"u")return!1;const e=T;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const n=Qt(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(T===T.top&&r.some(s=>n.startsWith(`${s}://`)))}function ey(e){return[$g(),Lg(),CS(),SS(),US(),JS(),Zg(),zS(),xS()]}function ty(e={}){const t=!e.skipBrowserExtensionCheck&&ZS();let n=e.defaultIntegrations==null?ey():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:zp(e.stackParser||gS),integrations:eg({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||nS};return vg(L_,r)}function ny(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function xu(e){try{return new URL(e,T.location.origin).href}catch{return}}function ry(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Fu(e){try{return new Headers(e)}catch{return}}const Wo=new WeakMap,xr=new Map,$u={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function iy(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:a,onRequestSpanStart:c,onRequestSpanEnd:u}={...$u,...t},l=typeof s=="function"?s:m=>!0,d=m=>sy(m,a),p={},f=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(m=>(m.type==="transaction"&&m.spans&&m.spans.forEach(E=>{if(E.op==="http.client"){const g=xr.get(E.span_id);g&&(E.timestamp=g/1e3,xr.delete(E.span_id))}}),m)),i&&f_(m=>{if(m.response){const E=Wo.get(m.response);E&&m.endTimestamp&&xr.set(E,m.endTimestamp)}}),fu(m=>{const E=n_(m,l,d,p,{propagateTraceparent:f,onRequestSpanEnd:u});if(m.response&&m.fetchData.__span&&Wo.set(m.response,m.fetchData.__span),E){const g=xu(m.fetchData.url),k=g?Ye(g).host:void 0;E.setAttributes({"http.url":g,"server.address":k}),o&&Vo(E),c?.(E,{headers:m.headers})}})),r&&Mu(m=>{const E=oy(m,l,d,p,f,u);E&&(o&&Vo(E),c?.(E,{headers:Fu(m.xhr.__sentry_xhr_v3__?.request_headers)}))})}function Vo(e){const{url:t}=I(e).data;if(!t||typeof t!="string")return;const n=vt("resource",({entries:r})=>{r.forEach(i=>{ry(i)&&i.name.endsWith(t)&&(e.setAttributes(Ou(i)),setTimeout(n))})})}function sy(e,t){const n=Qt();if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?Oe(r.toString(),t)||s&&Oe(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?Oe(e,t):r}}function oy(e,t,n,r,i,s){const o=e.xhr,a=o?.[lt];if(!o||o.__sentry_own_request__||!a)return;const{url:c,method:u}=a,l=ue()&&t(c);if(e.endTimestamp&&l){const k=o.__sentry_xhr_span_id__;if(!k)return;const B=r[k];B&&a.status_code!==void 0&&(vc(B,a.status_code),B.end(),s?.(B,{headers:Fu(XE(o)),error:e.error}),delete r[k]);return}const d=xu(c),p=Ye(d||c),f=wg(c),m=!!J(),E=l&&m?Lt({name:`${u} ${f}`,attributes:{url:c,type:"xhr","http.method":u,"http.url":d,"server.address":p?.host,[L]:"auto.http.browser",[Re]:"http.client",...p?.search&&{"http.query":p?.search},...p?.hash&&{"http.fragment":p?.hash}}}):new xe;o.__sentry_xhr_span_id__=E.spanContext().spanId,r[o.__sentry_xhr_span_id__]=E,n(c)&&ay(o,ue()&&m?E:void 0,i);const g=A();return g&&g.emit("beforeOutgoingRequestSpan",E,e),E}function ay(e,t,n){const{"sentry-trace":r,baggage:i,traceparent:s}=cu({span:t,propagateTraceparent:n});r&&cy(e,r,i,s)}function cy(e,t,n,r){const i=e.__sentry_xhr_v3__?.request_headers;if(!(i?.["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!i?.traceparent&&e.setRequestHeader("traceparent",r),n){const s=i?.baggage;(!s||!ny(s))&&e.setRequestHeader("baggage",n)}}catch{}}function uy(){T.document?T.document.addEventListener("visibilitychange",()=>{const e=J();if(!e)return;const t=j(e);if(T.document.hidden&&t){const n="cancelled",{op:r,status:i}=I(t);re&&h.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:P,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):re&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const ly=3600,Uu="sentry_previous_trace",dy="sentry.previous_trace";function fy(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let i=r?hy():void 0;e.on("spanStart",o=>{if(j(o)!==o)return;const a=w().getPropagationContext();i=py(i,o,a),r&&my(i)});let s=!0;n&&e.on("beforeSampling",o=>{if(!i)return;const a=w(),c=a.getPropagationContext();if(s&&c.parentSpanId){s=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(i.sampleRate),sampled:String(pi(i.spanContext))},sampleRand:i.sampleRand}),o.parentSampled=pi(i.spanContext),o.parentSampleRate=i.sampleRate,o.spanAttributes={...o.spanAttributes,[bc]:i.sampleRate}})}function py(e,t,n){const r=I(t);function i(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[Wi])}catch{return 0}}const s={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:i(),sampleRand:n.sampleRand};if(!e)return s;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=ly&&(re&&h.log(`Adding previous_trace \`${JSON.stringify(o)}\` link to span \`${JSON.stringify({op:r.op,...t.spanContext()})}\``),t.addLink({context:o,attributes:{[ym]:"previous_trace"}}),t.setAttribute(dy,`${o.traceId}-${o.spanId}-${pi(o)?1:0}`)),s)}function my(e){try{T.sessionStorage.setItem(Uu,JSON.stringify(e))}catch(t){re&&h.warn("Could not store previous trace in sessionStorage",t)}}function hy(){try{const e=T.sessionStorage?.getItem(Uu);return JSON.parse(e)}catch{return}}function pi(e){return e.traceFlags===1}const gy="BrowserTracing",_y={...Cn,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...$u},Ey=((e={})=>{const t={name:void 0,source:void 0},n=T.document,{enableInp:r,enableElementTiming:i,enableLongTask:s,enableLongAnimationFrame:o,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:l,idleTimeout:d,finalTimeout:p,childSpanTimeout:f,markBackgroundSpan:m,traceFetch:E,traceXHR:g,trackFetchStreamPerformance:k,shouldCreateSpanForRequest:B,enableHTTPTimings:ie,ignoreResourceSpans:H,ignorePerformanceApiSpans:Ae,instrumentPageLoad:we,instrumentNavigation:y,detectRedirects:N,linkPreviousTrace:ot,consistentTraceSampling:dn,enableReportPageLoaded:le,onRequestSpanStart:Ft,onRequestSpanEnd:he}={..._y,...e};let x,qe,de;function ke(R,F,b=!0){const $=F.op==="pageload",z=F.name,se=l?l(F):F,je=se.attributes||{};if(z!==se.name&&(je[fe]="custom",se.attributes=je),!b){const $t=it();Lt({...se,startTime:$t}).end($t);return}t.name=se.name,t.source=je[fe];const ge=Wc(se,{idleTimeout:d,finalTimeout:p,childSpanTimeout:f,disableAutoFinish:$,beforeSpanEnd:$t=>{x?.(),vE($t,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:H,ignorePerformanceApiSpans:Ae}),Go(R,void 0);const ds=w(),Hu=ds.getPropagationContext();ds.setPropagationContext({...Hu,traceId:ge.spanContext().traceId,sampled:He(ge),dsc:De($t)}),$&&(de=void 0)},trimIdleSpanEndTimestamp:!le});$&&le&&(de=ge),Go(R,ge);function ls(){n&&["interactive","complete"].includes(n.readyState)&&R.emit("idleSpanEnableAutoFinish",ge)}$&&!le&&n&&(n.addEventListener("readystatechange",()=>{ls()}),ls())}return{name:gy,setup(R){if(Xm(),x=gE({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:R}),r&&JE(),i&&DE(),o&&v.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?EE():s&&_E(),a&&SE(),N&&n){const b=()=>{qe=D()};addEventListener("click",b,{capture:!0}),addEventListener("keydown",b,{capture:!0,passive:!0})}function F(){const b=Jt(R);b&&!I(b).timestamp&&(re&&h.log(`[Tracing] Finishing current active span with op: ${I(b).op}`),b.setAttribute(Gt,"cancelled"),b.end())}R.on("startNavigationSpan",(b,$)=>{if(A()!==R)return;if($?.isRedirect){re&&h.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),ke(R,{op:"navigation.redirect",...b},!1);return}qe=void 0,F(),Be().setPropagationContext({traceId:ve(),sampleRand:Math.random(),propagationSpanId:ue()?void 0:Se()});const z=w();z.setPropagationContext({traceId:ve(),sampleRand:Math.random(),propagationSpanId:ue()?void 0:Se()}),z.setSDKProcessingMetadata({normalizedRequest:void 0}),ke(R,{op:"navigation",...b,parentSpan:null,forceTransaction:!0})}),R.on("startPageLoadSpan",(b,$={})=>{if(A()!==R)return;F();const z=$.sentryTrace||zo("sentry-trace"),se=$.baggage||zo("baggage"),je=Bm(z,se),ge=w();ge.setPropagationContext(je),ue()||(ge.getPropagationContext().propagationSpanId=Se()),ge.setSDKProcessingMetadata({normalizedRequest:ts()}),ke(R,{op:"pageload",...b})}),R.on("endPageloadSpan",()=>{le&&de&&(de.setAttribute(Gt,"reportPageLoaded"),de.end())})},afterAllSetup(R){let F=Qt();if(ot!=="off"&&fy(R,{linkPreviousTrace:ot,consistentTraceSampling:dn}),T.location){if(we){const b=Y();Sy(R,{name:T.location.pathname,startTime:b?b/1e3:void 0,attributes:{[fe]:"url",[L]:"auto.pageload.browser"}})}y&&us(({to:b,from:$})=>{if($===void 0&&F?.indexOf(b)!==-1){F=void 0;return}F=void 0;const z=ou(b),se=Jt(R),je=se&&N&&by(se,qe);yy(R,{name:z?.pathname||T.location.pathname,attributes:{[fe]:"url",[L]:"auto.navigation.browser"}},{url:b,isRedirect:je})})}m&&uy(),a&&Ty(R,d,p,f,t),r&&eS(),iy(R,{traceFetch:E,traceXHR:g,trackFetchStreamPerformance:k,tracePropagationTargets:R.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:B,enableHTTPTimings:ie,onRequestSpanStart:Ft,onRequestSpanEnd:he})}}});function Sy(e,t,n){e.emit("startPageLoadSpan",t,n),w().setTransactionName(t.name);const r=Jt(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function yy(e,t,n){const{url:r,isRedirect:i}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:i}),e.emit("startNavigationSpan",t,{isRedirect:i});const s=w();return s.setTransactionName(t.name),r&&!i&&s.setSDKProcessingMetadata({normalizedRequest:{...ts(),url:r}}),Jt(e)}function zo(e){return T.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function Ty(e,t,n,r,i){const s=T.document;let o;const a=()=>{const c="ui.action.click",u=Jt(e);if(u){const l=I(u).op;if(["navigation","pageload"].includes(l)){re&&h.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(Gt,"interactionInterrupted"),o.end(),o=void 0),!i.name){re&&h.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}o=Wc({name:i.name,op:c,attributes:{[fe]:i.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};s&&addEventListener("click",a,{capture:!0})}const Bu="_sentry_idleSpan";function Jt(e){return e[Bu]}function Go(e,t){X(e,Bu,t)}const Ko=1.5;function by(e,t){const n=I(e),r=it(),i=n.start_timestamp;return!(r-i>Ko||t&&r-t<=Ko)}function vy(e){const t={...e};return au(t,"react"),zh("react",{version:_i.version}),ty(t)}vy({dsn:"https://2a980add45c1a46d6284b4aff8acc727@o4510675590381568.ingest.us.sentry.io/4510675597000704",integrations:[Ey()],tracePropagationTargets:["localhost",/^https:\/\/yourserver\.io\/api/],tracesSampleRate:1,environment:"production"});async function Iy(){const{Capacitor:e}=await xn(async()=>{const{Capacitor:n}=await import("./vendor-capacitor-B-BXHHKA.js").then(r=>r.i);return{Capacitor:n}},[],import.meta.url);if(!e.isNativePlatform())return;const{GoogleAuth:t}=await xn(async()=>{const{GoogleAuth:n}=await import("./index-BamWn4_j.js");return{GoogleAuth:n}},__vite__mapDeps([0,1]),import.meta.url);t.initialize({clientId:"852428184810-1spcnsuu8so9t982h6gb34upc35ifv53.apps.googleusercontent.com",scopes:["profile","email"],grantOfflineAccess:!1})}async function Ry(){if(await Iy(),typeof window<"u"){const n=()=>{const i=document.documentElement,s=getComputedStyle(i),o=s.getPropertyValue("--safe-area-inset-bottom").trim(),a=parseFloat(o)||0,c=window.outerHeight||window.innerHeight,u=window.innerHeight,l=Math.max(0,c-u);l>0&&(a===0||l>a)?i.style.setProperty("--safe-area-inset-bottom",`${l}px`):a===0&&l===0&&i.style.setProperty("--safe-area-inset-bottom","48px");const d=s.getPropertyValue("--safe-area-inset-top").trim(),p=parseFloat(d)||0;let f=0;if(window.visualViewport&&window.visualViewport.offsetTop!==void 0)f=Math.max(0,window.visualViewport.offsetTop);else if(window.screen&&window.screen.height){const m=window.screen.height,E=window.innerHeight,g=m-E,k=Math.max(0,g-l);f=Math.min(Math.max(k,24),48)}f>0&&(p===0||f>p)?i.style.setProperty("--safe-area-inset-top",`${f}px`):p===0&&i.style.setProperty("--safe-area-inset-top","24px")},r=()=>{requestAnimationFrame(()=>{requestAnimationFrame(n)})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r(),window.addEventListener("resize",n),window.addEventListener("orientationchange",()=>{setTimeout(n,200)})}await Cd(),Pd().catch(()=>{});const e=await xn(()=>import("./App-CSSMO0Oh.js").then(n=>n.A),__vite__mapDeps([2,1,3,4,5]),import.meta.url);try{$p()}catch{}try{const{initForegroundHandler:n}=await xn(async()=>{const{initForegroundHandler:r}=await import("./foregroundHandler-BArt5zCb.js");return{initForegroundHandler:r}},__vite__mapDeps([6,1,7,4,3]),import.meta.url);n()}catch{}const{default:t}=e;pl.createRoot(document.getElementById("root")).render(ms.jsx(Qo.StrictMode,{children:ms.jsx(t,{})}))}Ry();"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{}).catch(e=>{})});export{Qo as R,Cy as a,Ny as b,Rt as c,Py as d,Oy as f,ms as j,_i as r,My as t};
