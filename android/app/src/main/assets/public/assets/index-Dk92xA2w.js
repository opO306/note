const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./web-BqBRuY4Y.js","./vendor-capacitor-rvH5hiNU.js","./App-Bs6YIlvy.js","./vendor-firebase-C8ERkm_B.js","./vendor-react-1wgkHQEd.js","./App-CEi_s2iG.css","./foregroundHandler-B7edinrL.js","./firebaseCache-C_csZa1c.js"])))=>i.map(i=>d[i]);
import{C as Wu,r as Vu,_ as Fr}from"./vendor-capacitor-rvH5hiNU.js";import{r as Xo,g as Yo,a as zu}from"./vendor-react-1wgkHQEd.js";import{_ as mt,C as ht,r as Ze,S as Gu,a as Ku,F as Jo,g as Yn,b as Jn,c as It,d as Xu,i as Yu,p as Ju,u as Zu,e as Qu,L as Zo,E as hs,f as gs,h as el,D as xn,j as tl,k as nl,l as rl,m as sl,n as Qo,o as il,q as ol,s as al,t as cl,v as ul,w as ll,G as dl,x as fl}from"./vendor-firebase-C8ERkm_B.js";function pl(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var lr={exports:{}},Ut={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fi;function ml(){if(fi)return Ut;fi=1;var e=Xo(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var l,d={},p=null,f=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(f=c.ref);for(l in c)r.call(c,l)&&!i.hasOwnProperty(l)&&(d[l]=c[l]);if(a&&a.defaultProps)for(l in c=a.defaultProps,c)d[l]===void 0&&(d[l]=c[l]);return{$$typeof:t,type:a,key:p,ref:f,props:d,_owner:s.current}}return Ut.Fragment=n,Ut.jsx=o,Ut.jsxs=o,Ut}var pi;function hl(){return pi||(pi=1,lr.exports=ml()),lr.exports}var mi=hl(),_s=Xo();const ea=Yo(_s),xy=pl({__proto__:null,default:ea},[_s]);var fn={},hi;function gl(){if(hi)return fn;hi=1;var e=zu();return fn.createRoot=e.createRoot,fn.hydrateRoot=e.hydrateRoot,fn}var _l=gl();const El=Yo(_l);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="firebasestorage.googleapis.com",Sl="storageBucket",yl=120*1e3,Tl=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he extends Jo{constructor(t,n,r=0){super(dr(t),`Firebase Storage: ${n} (${dr(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,he.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return dr(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pe;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pe||(pe={}));function dr(e){return"storage/"+e}function bl(){const e="An unknown error occurred, please check the error payload for server response.";return new he(pe.UNKNOWN,e)}function vl(){return new he(pe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Il(){return new he(pe.CANCELED,"User canceled the upload/download.")}function Rl(e){return new he(pe.INVALID_URL,"Invalid URL '"+e+"'.")}function Al(e){return new he(pe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function gi(e){return new he(pe.INVALID_ARGUMENT,e)}function na(){return new he(pe.APP_DELETED,"The Firebase app was deleted.")}function kl(e){return new he(pe.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=ce.makeFromUrl(t,n)}catch{return new ce(t,"")}if(r.path==="")return r;throw Al(t)}static makeFromUrl(t,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(H){H.path_=decodeURIComponent(H.path)}const l="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${l}/b/${s}/o${p}`,"i"),m={bucket:1,path:3},E=n===ta?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",C=new RegExp(`^https?://${E}/${s}/${g}`,"i"),se=[{regex:a,indices:c,postModify:i},{regex:f,indices:m,postModify:u},{regex:C,indices:{bucket:1,path:2},postModify:u}];for(let H=0;H<se.length;H++){const Ae=se[H],ke=Ae.regex.exec(t);if(ke){const y=ke[Ae.indices.bucket];let w=ke[Ae.indices.path];w||(w=""),r=new ce(y,w),Ae.postModify(r);break}}if(r==null)throw Rl(t);return r}}class wl{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(e,t,n){let r=1,s=null,i=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...g){u||(u=!0,t.apply(null,g))}function d(g){s=setTimeout(()=>{s=null,e(f,c())},g)}function p(){i&&clearTimeout(i)}function f(g,...C){if(u){p();return}if(g){p(),l.call(null,g,...C);return}if(c()||o){p(),l.call(null,g,...C);return}r<64&&(r*=2);let se;a===1?(a=2,se=0):se=(r+Math.random())*1e3,d(se)}let m=!1;function E(g){m||(m=!0,p(),!u&&(s!==null?(g||(a=2),clearTimeout(s),d(0)):g||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,E(!0)},n),E}function Cl(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(e){return e!==void 0}function _i(e,t,n,r){if(r<t)throw gi(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw gi(`Invalid value for '${e}'. Expected ${n} or less.`)}function Ol(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Fn;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Fn||(Fn={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,n,r,s,i,o,a,c,u,l,d,p=!0,f=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=p,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,E)=>{this.resolve_=m,this.reject_=E,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new pn(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Fn.NO_ERROR,c=i.getStatus();if(!a||Ml(c,this.additionalRetryCodes_)&&this.retry){const l=i.getErrorCode()===Fn.ABORT;r(!1,new pn(!1,null,l));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new pn(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());Pl(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=bl();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(s.canceled){const c=this.appDelete_?na():Il();o(c)}else{const c=vl();o(c)}};this.canceled_?n(!1,new pn(!1,null,!0)):this.backoffId_=Nl(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Cl(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class pn{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Dl(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function xl(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Fl(e,t){t&&(e["X-Firebase-GMPID"]=t)}function $l(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Ul(e,t,n,r,s,i,o=!0,a=!1){const c=Ol(e.urlParams),u=e.url+c,l=Object.assign({},e.headers);return Fl(l,t),Dl(l,n),xl(l,i),$l(l,r),new Ll(u,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function Hl(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t,n){this._service=t,n instanceof ce?this._location=n:this._location=ce.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new $n(t,n)}get root(){const t=new ce(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hl(this._location.path)}get storage(){return this._service}get parent(){const t=Bl(this._location.path);if(t===null)return null;const n=new ce(this._location.bucket,t);return new $n(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw kl(t)}}function Ei(e,t){const n=t?.[Sl];return n==null?null:ce.makeFromBucketSpec(n,e)}function ql(e,t,n,r={}){e.host=`${t}:${n}`;const s=Yu(t);s&&(Ju(`https://${e.host}/b`),Zu("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Qu(i,e.app.options.projectId))}class jl{constructor(t,n,r,s,i,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=ta,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=yl,this._maxUploadRetryTime=Tl,this._requests=new Set,s!=null?this._bucket=ce.makeFromBucketSpec(s,this._host):this._bucket=Ei(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=ce.makeFromBucketSpec(this._url,t):this._bucket=Ei(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){_i("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){_i("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ku(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new $n(this,t)}_makeRequest(t,n,r,s,i=!0){if(this._deleted)return new wl(na());{const o=Ul(t,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,s).getPromise()}}const Si="@firebase/storage",yi="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="storage";function Wl(e=Yn(),t){e=Jn(e);const r=It(e,ra).getImmediate({identifier:t}),s=Xu("storage");return s&&Vl(r,...s),r}function Vl(e,t,n,r={}){ql(e,t,n,r)}function zl(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new jl(n,r,s,t,Gu)}function Gl(){mt(new ht(ra,zl,"PUBLIC").setMultipleInstances(!0)),Ze(Si,yi,""),Ze(Si,yi,"esm2020")}Gl();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new Map,sa={activated:!1,tokenObservers:[]},Kl={initialized:!1,enabled:!1};function O(e){return $r.get(e)||{...sa}}function Xl(e,t){return $r.set(e,t),$r.get(e)}function Zn(){return Kl}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="https://content-firebaseappcheck.googleapis.com/v1",Yl="exchangeRecaptchaEnterpriseToken",Jl="exchangeDebugToken",Ti={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Zl=1440*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,n,r,s,i){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=s,s>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new xn,this.pending.promise.catch(n=>{}),await ed(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new xn,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function ed(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},V=new hs("appCheck","AppCheck",td);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(e=!1){return e?self.grecaptcha?.enterprise:self.grecaptcha}function Es(e){if(!O(e).activated)throw V.create("use-before-activation",{appName:e.name})}function oa(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),s=Math.floor((t-n*3600*24-r*3600)/60),i=t-n*3600*24-r*3600-s*60;let o="";return n&&(o+=mn(n)+"d:"),r&&(o+=mn(r)+"h:"),o+=mn(s)+"m:"+mn(i)+"s",o}function mn(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ss({url:e,body:t},n){const r={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const i={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,i)}catch(d){throw V.create("fetch-network-error",{originalErrorMessage:d?.message})}if(o.status!==200)throw V.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw V.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw V.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(c[1])*1e3,l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}function nd(e,t){const{projectId:n,appId:r,apiKey:s}=e.options;return{url:`${ia}/projects/${n}/apps/${r}:${Yl}?key=${s}`,body:{recaptcha_enterprise_token:t}}}function aa(e,t){const{projectId:n,appId:r,apiKey:s}=e.options;return{url:`${ia}/projects/${n}/apps/${r}:${Jl}?key=${s}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="firebase-app-check-database",sd=1,Vt="firebase-app-check-store",ca="debug-token";let hn=null;function ua(){return hn||(hn=new Promise((e,t)=>{try{const n=indexedDB.open(rd,sd);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{t(V.create("storage-open",{originalErrorMessage:r.target.error?.message}))},n.onupgradeneeded=r=>{const s=r.target.result;switch(r.oldVersion){case 0:s.createObjectStore(Vt,{keyPath:"compositeKey"})}}}catch(n){t(V.create("storage-open",{originalErrorMessage:n?.message}))}}),hn)}function id(e){return da(fa(e))}function od(e,t){return la(fa(e),t)}function ad(e){return la(ca,e)}function cd(){return da(ca)}async function la(e,t){const r=(await ua()).transaction(Vt,"readwrite"),i=r.objectStore(Vt).put({compositeKey:e,value:t});return new Promise((o,a)=>{i.onsuccess=c=>{o()},r.onerror=c=>{a(V.create("storage-set",{originalErrorMessage:c.target.error?.message}))}})}async function da(e){const n=(await ua()).transaction(Vt,"readonly"),s=n.objectStore(Vt).get(e);return new Promise((i,o)=>{s.onsuccess=a=>{const c=a.target.result;i(c?c.value:void 0)},n.onerror=a=>{o(V.create("storage-get",{originalErrorMessage:a.target.error?.message}))}})}function fa(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe=new Zo("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(e){if(gs()){let t;try{t=await id(e)}catch(n){Pe.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function fr(e,t){return gs()?od(e,t).catch(n=>{Pe.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function ld(){let e;try{e=await cd()}catch{}if(e)return e;{const t=crypto.randomUUID();return ad(t).catch(n=>Pe.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(){return Zn().enabled}async function Ts(){const e=Zn();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function dd(){const e=tl(),t=Zn();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new xn;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(ld())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd={error:"UNKNOWN_ERROR"};function pd(e){return el.encodeString(JSON.stringify(e),!1)}async function Ur(e,t=!1,n=!1){const r=e.app;Es(r);const s=O(r);let i=s.token,o;if(i&&!ct(i)&&(s.token=void 0,i=void 0),!i){const u=await s.cachedTokenPromise;u&&(ct(u)?i=u:await fr(r,void 0))}if(!t&&i&&ct(i))return{token:i.token};let a=!1;if(ys())try{s.exchangeTokenPromise||(s.exchangeTokenPromise=Ss(aa(r,await Ts()),e.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),a=!0);const u=await s.exchangeTokenPromise;return await fr(r,u),s.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Pe.warn(u.message):n&&Pe.error(u),pr(u)}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),a=!0),i=await O(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Pe.warn(u.message):n&&Pe.error(u),o=u}let c;return i?o?ct(i)?c={token:i.token,internalError:o}:c=pr(o):(c={token:i.token},s.token=i,await fr(r,i)):c=pr(o),a&&ha(r,c),c}async function md(e){const t=e.app;Es(t);const{provider:n}=O(t);if(ys()){const r=await Ts(),{token:s}=await Ss(aa(t,r),e.heartbeatServiceProvider);return{token:s}}else{const{token:r}=await n.getToken();return{token:r}}}function pa(e,t,n,r){const{app:s}=e,i=O(s),o={next:n,error:r,type:t};if(i.tokenObservers=[...i.tokenObservers,o],i.token&&ct(i.token)){const a=i.token;Promise.resolve().then(()=>{n({token:a.token}),vi(e)}).catch(()=>{})}i.cachedTokenPromise.then(()=>vi(e))}function ma(e,t){const n=O(e),r=n.tokenObservers.filter(s=>s.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function vi(e){const{app:t}=e,n=O(t);let r=n.tokenRefresher;r||(r=hd(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function hd(e){const{app:t}=e;return new Ql(async()=>{const n=O(t);let r;if(n.token?r=await Ur(e,!0):r=await Ur(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=O(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const s=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,s),Math.max(0,r-Date.now())}else return 0},Ti.RETRIAL_MIN_WAIT,Ti.RETRIAL_MAX_WAIT)}function ha(e,t){const n=O(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function ct(e){return e.expireTimeMillis-Date.now()>0}function pr(e){return{token:pd(fd),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=O(this.app);for(const n of t)ma(this.app,n.next);return Promise.resolve()}}function _d(e,t){return new gd(e,t)}function Ed(e){return{getToken:t=>Ur(e,t),getLimitedUseToken:()=>md(e),addTokenListener:t=>pa(e,"INTERNAL",t),removeTokenListener:t=>ma(e.app,t)}}const Sd="@firebase/app-check",yd="0.11.0",Td="https://www.google.com/recaptcha/enterprise.js";function bd(e,t){const n=new xn,r=O(e);r.reCAPTCHAState={initialized:n};const s=vd(e),i=bi(!0);return i?Ii(e,t,i,s,n):Ad(()=>{const o=bi(!0);if(!o)throw new Error("no recaptcha");Ii(e,t,o,s,n)}),n.promise}function Ii(e,t,n,r,s){n.ready(()=>{Rd(e,t,n,r),s.resolve(n)})}function vd(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function Id(e){Es(e);const n=await O(e).reCAPTCHAState.initialized.promise;return new Promise((r,s)=>{const i=O(e).reCAPTCHAState;n.ready(()=>{r(n.execute(i.widgetId,{action:"fire_app_check"}))})})}function Rd(e,t,n,r){const s=n.render(r,{sitekey:t,size:"invisible",callback:()=>{O(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{O(e).reCAPTCHAState.succeeded=!1}}),i=O(e);i.reCAPTCHAState={...i.reCAPTCHAState,widgetId:s}}function Ad(e){const t=document.createElement("script");t.src=Td,t.onload=e,document.head.appendChild(t)}class bs{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){wd(this._throttleData);const t=await Id(this._app).catch(r=>{throw V.create("recaptcha-error")});if(!O(this._app).reCAPTCHAState?.succeeded)throw V.create("recaptcha-error");let n;try{n=await Ss(nd(this._app,t),this._heartbeatServiceProvider)}catch(r){throw r.code?.includes("fetch-status-error")?(this._throttleData=kd(Number(r.customData?.httpStatus),this._throttleData),V.create("initial-throttle",{time:oa(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):r}return this._throttleData=null,n}initialize(t){this._app=t,this._heartbeatServiceProvider=It(t,"heartbeat"),bd(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof bs?this._siteKey===t._siteKey:!1}}function kd(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Zl,httpStatus:e};{const n=t?t.backoffCount:0,r=nl(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function wd(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw V.create("throttled",{time:oa(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(e=Yn(),t){e=Jn(e);const n=It(e,"app-check");if(Zn().initialized||dd(),ys()&&Ts().then(s=>{}),n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(i.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&i.provider.isEqual(t.provider))return s;throw V.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return Cd(e,t.provider,t.isTokenAutoRefreshEnabled),O(e).isTokenAutoRefreshEnabled&&pa(r,"INTERNAL",()=>{}),r}function Cd(e,t,n=!1){const r=Xl(e,{...sa});r.activated=!0,r.provider=t,r.cachedTokenPromise=ud(e).then(s=>(s&&ct(s)&&(r.token=s,ha(e,{token:s.token})),s)),r.isTokenAutoRefreshEnabled=n&&e.automaticDataCollectionEnabled,!e.automaticDataCollectionEnabled&&n&&Pe.warn("`isTokenAutoRefreshEnabled` is true but `automaticDataCollectionEnabled` was set to false during `initializeApp()`. This blocks automatic token refresh."),r.provider.initialize(e)}const Pd="app-check",Ri="app-check-internal";function Od(){mt(new ht(Pd,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return _d(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Ri).initialize()})),mt(new ht(Ri,e=>{const t=e.getProvider("app-check").getImmediate();return Ed(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Ze(Sd,yd)}Od();const Md={apiKey:"AIzaSyBYpxHaQ-WDuj-c7pTT4zu7Kf5Kpx7FgUk",authDomain:"dddd-e6a52.firebaseapp.com",projectId:"dddd-e6a52",storageBucket:"dddd-e6a52.firebasestorage.app",messagingSenderId:"852428184810",appId:"1:852428184810:web:c97e9be32fe18600ae4b93",measurementId:"G-RH3Y682M53"},Rt=rl().length?Yn():sl(Md),Fy=Qo(Rt),$y=il(Rt);Wl(Rt);const Uy=ol(Rt);function Ld(){if(!Wu.isNativePlatform())return Nd(Rt,{provider:new bs("6LeA4B0sAAAAAEf9UN-uyRJlqnH5pozFf0X-Me4C"),isTokenAutoRefreshEnabled:!0})}var Br,Ai,Qn=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},ga=function(e){if(document.readyState==="loading")return"loading";var t=Qn();if(t){if(e<t.domInteractive)return"loading";if(t.domContentLoadedEventStart===0||e<t.domContentLoadedEventStart)return"dom-interactive";if(t.domComplete===0||e<t.domComplete)return"dom-content-loaded"}return"complete"},Dd=function(e){var t=e.nodeName;return e.nodeType===1?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},vs=function(e,t){var n="";try{for(;e&&e.nodeType!==9;){var r=e,s=r.id?"#"+r.id:Dd(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+s.length>(t||100)-1)return n||s;if(n=n?s+">"+n:s,r.id)break;e=r.parentNode}}catch{}return n},_a=-1,xd=function(){return _a},Zt=function(e){addEventListener("pageshow",(function(t){t.persisted&&(_a=t.timeStamp,e(t))}),!0)},Is=function(){var e=Qn();return e&&e.activationStart||0},Me=function(e,t){var n=Qn(),r="navigate";return xd()>=0?r="back-forward-cache":n&&(document.prerendering||Is()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},At=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(s){Promise.resolve().then((function(){t(s.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Le=function(e,t,n,r){var s,i;return function(o){t.value>=0&&(o||r)&&((i=t.value-(s||0))||s===void 0)&&(s=t.value,t.delta=i,t.rating=(function(a,c){return a>c[1]?"poor":a>c[0]?"needs-improvement":"good"})(t.value,n),e(t))}},Rs=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},er=function(e){document.addEventListener("visibilitychange",(function(){document.visibilityState==="hidden"&&e()}))},As=function(e){var t=!1;return function(){t||(e(),t=!0)}},ut=-1,ki=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},Un=function(e){document.visibilityState==="hidden"&&ut>-1&&(ut=e.type==="visibilitychange"?e.timeStamp:0,Fd())},wi=function(){addEventListener("visibilitychange",Un,!0),addEventListener("prerenderingchange",Un,!0)},Fd=function(){removeEventListener("visibilitychange",Un,!0),removeEventListener("prerenderingchange",Un,!0)},Ea=function(){return ut<0&&(ut=ki(),wi(),Zt((function(){setTimeout((function(){ut=ki(),wi()}),0)}))),{get firstHiddenTime(){return ut}}},ks=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Ni=[1800,3e3],$d=function(e,t){t=t||{},ks((function(){var n,r=Ea(),s=Me("FCP"),i=At("paint",(function(o){o.forEach((function(a){a.name==="first-contentful-paint"&&(i.disconnect(),a.startTime<r.firstHiddenTime&&(s.value=Math.max(a.startTime-Is(),0),s.entries.push(a),n(!0)))}))}));i&&(n=Le(e,s,Ni,t.reportAllChanges),Zt((function(o){s=Me("FCP"),n=Le(e,s,Ni,t.reportAllChanges),Rs((function(){s.value=performance.now()-o.timeStamp,n(!0)}))})))}))},Ci=[.1,.25],Ud=function(e,t){(function(n,r){r=r||{},$d(As((function(){var s,i=Me("CLS",0),o=0,a=[],c=function(l){l.forEach((function(d){if(!d.hadRecentInput){var p=a[0],f=a[a.length-1];o&&d.startTime-f.startTime<1e3&&d.startTime-p.startTime<5e3?(o+=d.value,a.push(d)):(o=d.value,a=[d])}})),o>i.value&&(i.value=o,i.entries=a,s())},u=At("layout-shift",c);u&&(s=Le(n,i,Ci,r.reportAllChanges),er((function(){c(u.takeRecords()),s(!0)})),Zt((function(){o=0,i=Me("CLS",0),s=Le(n,i,Ci,r.reportAllChanges),Rs((function(){return s()}))})),setTimeout(s,0))})))})((function(n){var r=(function(s){var i,o={};if(s.entries.length){var a=s.entries.reduce((function(u,l){return u&&u.value>l.value?u:l}));if(a&&a.sources&&a.sources.length){var c=(i=a.sources).find((function(u){return u.node&&u.node.nodeType===1}))||i[0];c&&(o={largestShiftTarget:vs(c.node),largestShiftTime:a.startTime,largestShiftValue:a.value,largestShiftSource:c,largestShiftEntry:a,loadState:ga(a.startTime)})}}return Object.assign(s,{attribution:o})})(n);e(r)}),t)},Sa=0,mr=1/0,gn=0,Bd=function(e){e.forEach((function(t){t.interactionId&&(mr=Math.min(mr,t.interactionId),gn=Math.max(gn,t.interactionId),Sa=gn?(gn-mr)/7+1:0)}))},ya=function(){return Br?Sa:performance.interactionCount||0},Hd=function(){"interactionCount"in performance||Br||(Br=At("event",Bd,{type:"event",buffered:!0,durationThreshold:0}))},oe=[],Ht=new Map,Ta=0,qd=function(){var e=Math.min(oe.length-1,Math.floor((ya()-Ta)/50));return oe[e]},ba=[],jd=function(e){if(ba.forEach((function(s){return s(e)})),e.interactionId||e.entryType==="first-input"){var t=oe[oe.length-1],n=Ht.get(e.interactionId);if(n||oe.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};Ht.set(r.id,r),oe.push(r)}oe.sort((function(s,i){return i.latency-s.latency})),oe.length>10&&oe.splice(10).forEach((function(s){return Ht.delete(s.id)}))}}},ws=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=As(e),document.visibilityState==="hidden"?e():(n=t(e),er(e)),n},Pi=[200,500],Wd=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},ks((function(){var n;Hd();var r,s=Me("INP"),i=function(a){ws((function(){a.forEach(jd);var c=qd();c&&c.latency!==s.value&&(s.value=c.latency,s.entries=c.entries,r())}))},o=At("event",i,{durationThreshold:(n=t.durationThreshold)!==null&&n!==void 0?n:40});r=Le(e,s,Pi,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),er((function(){i(o.takeRecords()),r(!0)})),Zt((function(){Ta=ya(),oe.length=0,Ht.clear(),s=Me("INP"),r=Le(e,s,Pi,t.reportAllChanges)})))})))},dt=[],Ce=[],Hr=0,Ns=new WeakMap,ft=new Map,qr=-1,Vd=function(e){dt=dt.concat(e),va()},va=function(){qr<0&&(qr=ws(zd))},zd=function(){ft.size>10&&ft.forEach((function(o,a){Ht.has(a)||ft.delete(a)}));var e=oe.map((function(o){return Ns.get(o.entries[0])})),t=Ce.length-50;Ce=Ce.filter((function(o,a){return a>=t||e.includes(o)}));for(var n=new Set,r=0;r<Ce.length;r++){var s=Ce[r];Ia(s.startTime,s.processingEnd).forEach((function(o){n.add(o)}))}var i=dt.length-1-50;dt=dt.filter((function(o,a){return o.startTime>Hr&&a>i||n.has(o)})),qr=-1};ba.push((function(e){e.interactionId&&e.target&&!ft.has(e.interactionId)&&ft.set(e.interactionId,e.target)}),(function(e){var t,n=e.startTime+e.duration;Hr=Math.max(Hr,e.processingEnd);for(var r=Ce.length-1;r>=0;r--){var s=Ce[r];if(Math.abs(n-s.renderTime)<=8){(t=s).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:n,entries:[e]},Ce.push(t)),(e.interactionId||e.entryType==="first-input")&&Ns.set(e,t),va()}));var Ia=function(e,t){for(var n,r=[],s=0;n=dt[s];s++)if(!(n.startTime+n.duration<e)){if(n.startTime>t)break;r.push(n)}return r},Gd=function(e,t){Ai||(Ai=At("long-animation-frame",Vd)),Wd((function(n){var r=(function(s){var i=s.entries[0],o=Ns.get(i),a=i.processingStart,c=o.processingEnd,u=o.entries.sort((function(g,C){return g.processingStart-C.processingStart})),l=Ia(i.startTime,c),d=s.entries.find((function(g){return g.target})),p=d&&d.target||ft.get(i.interactionId),f=[i.startTime+i.duration,c].concat(l.map((function(g){return g.startTime+g.duration}))),m=Math.max.apply(Math,f),E={interactionTarget:vs(p),interactionTargetElement:p,interactionType:i.name.startsWith("key")?"keyboard":"pointer",interactionTime:i.startTime,nextPaintTime:m,processedEventEntries:u,longAnimationFrameEntries:l,inputDelay:a-i.startTime,processingDuration:c-a,presentationDelay:Math.max(m-c,0),loadState:ga(i.startTime)};return Object.assign(s,{attribution:E})})(n);e(r)}),t)},Oi=[2500,4e3],hr={},Kd=function(e,t){(function(n,r){r=r||{},ks((function(){var s,i=Ea(),o=Me("LCP"),a=function(l){r.reportAllChanges||(l=l.slice(-1)),l.forEach((function(d){d.startTime<i.firstHiddenTime&&(o.value=Math.max(d.startTime-Is(),0),o.entries=[d],s())}))},c=At("largest-contentful-paint",a);if(c){s=Le(n,o,Oi,r.reportAllChanges);var u=As((function(){hr[o.id]||(a(c.takeRecords()),c.disconnect(),hr[o.id]=!0,s(!0))}));["keydown","click"].forEach((function(l){addEventListener(l,(function(){return ws(u)}),{once:!0,capture:!0})})),er(u),Zt((function(l){o=Me("LCP"),s=Le(n,o,Oi,r.reportAllChanges),Rs((function(){o.value=performance.now()-l.timeStamp,hr[o.id]=!0,s(!0)}))}))}}))})((function(n){var r=(function(s){var i={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:s.value};if(s.entries.length){var o=Qn();if(o){var a=o.activationStart||0,c=s.entries[s.entries.length-1],u=c.url&&performance.getEntriesByType("resource").filter((function(m){return m.name===c.url}))[0],l=Math.max(0,o.responseStart-a),d=Math.max(l,u?(u.requestStart||u.startTime)-a:0),p=Math.max(d,u?u.responseEnd-a:0),f=Math.max(p,c.startTime-a);i={element:vs(c.element),timeToFirstByte:l,resourceLoadDelay:d-l,resourceLoadDuration:p-d,elementRenderDelay:f-p,navigationEntry:o,lcpEntry:c},c.url&&(i.url=c.url),u&&(i.lcpResourceEntry=u)}}return Object.assign(s,{attribution:i})})(n);e(r)}),t)};const Ra="@firebase/installations",Cs="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=1e4,ka=`w:${Cs}`,wa="FIS_v2",Xd="https://firebaseinstallations.googleapis.com/v1",Yd=3600*1e3,Jd="installations",Zd="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qe=new hs(Jd,Zd,Qd);function Na(e){return e instanceof Jo&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca({projectId:e}){return`${Xd}/projects/${e}/installations`}function Pa(e){return{token:e.token,requestStatus:2,expiresIn:tf(e.expiresIn),creationTime:Date.now()}}async function Oa(e,t){const r=(await t.json()).error;return Qe.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Ma({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function ef(e,{refreshToken:t}){const n=Ma(e);return n.append("Authorization",nf(t)),n}async function La(e){const t=await e();return t.status>=500&&t.status<600?e():t}function tf(e){return Number(e.replace("s","000"))}function nf(e){return`${wa} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rf({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Ca(e),s=Ma(e),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:wa,appId:e.appId,sdkVersion:ka},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await La(()=>fetch(r,a));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Pa(u.authToken)}}else throw await Oa("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=/^[cdef][\w-]{21}$/,jr="";function af(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=cf(e);return of.test(n)?n:jr}catch{return jr}}function cf(e){return sf(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new Map;function Fa(e,t){const n=tr(e);$a(n,t),uf(n,t)}function $a(e,t){const n=xa.get(e);if(n)for(const r of n)r(t)}function uf(e,t){const n=lf();n&&n.postMessage({key:e,fid:t}),df()}let ze=null;function lf(){return!ze&&"BroadcastChannel"in self&&(ze=new BroadcastChannel("[Firebase] FID Change"),ze.onmessage=e=>{$a(e.data.key,e.data.fid)}),ze}function df(){xa.size===0&&ze&&(ze.close(),ze=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="firebase-installations-database",pf=1,et="firebase-installations-store";let gr=null;function Ps(){return gr||(gr=al(ff,pf,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(et)}}})),gr}async function Bn(e,t){const n=tr(e),s=(await Ps()).transaction(et,"readwrite"),i=s.objectStore(et),o=await i.get(n);return await i.put(t,n),await s.done,(!o||o.fid!==t.fid)&&Fa(e,t.fid),t}async function Ua(e){const t=tr(e),r=(await Ps()).transaction(et,"readwrite");await r.objectStore(et).delete(t),await r.done}async function nr(e,t){const n=tr(e),s=(await Ps()).transaction(et,"readwrite"),i=s.objectStore(et),o=await i.get(n),a=t(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&Fa(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(e){let t;const n=await nr(e.appConfig,r=>{const s=mf(r),i=hf(e,s);return t=i.registrationPromise,i.installationEntry});return n.fid===jr?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function mf(e){const t=e||{fid:af(),registrationStatus:0};return Ba(t)}function hf(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Qe.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=gf(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:_f(e)}:{installationEntry:t}}async function gf(e,t){try{const n=await rf(e,t);return Bn(e.appConfig,n)}catch(n){throw Na(n)&&n.customData.serverCode===409?await Ua(e.appConfig):await Bn(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function _f(e){let t=await Mi(e.appConfig);for(;t.registrationStatus===1;)await Da(100),t=await Mi(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Os(e);return r||n}return t}function Mi(e){return nr(e,t=>{if(!t)throw Qe.create("installation-not-found");return Ba(t)})}function Ba(e){return Ef(e)?{fid:e.fid,registrationStatus:0}:e}function Ef(e){return e.registrationStatus===1&&e.registrationTime+Aa<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sf({appConfig:e,heartbeatServiceProvider:t},n){const r=yf(e,n),s=ef(e,n),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:ka,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await La(()=>fetch(r,a));if(c.ok){const u=await c.json();return Pa(u)}else throw await Oa("Generate Auth Token",c)}function yf(e,{fid:t}){return`${Ca(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(e,t=!1){let n;const r=await nr(e.appConfig,i=>{if(!Ha(i))throw Qe.create("not-registered");const o=i.authToken;if(!t&&vf(o))return i;if(o.requestStatus===1)return n=Tf(e,t),i;{if(!navigator.onLine)throw Qe.create("app-offline");const a=Rf(i);return n=bf(e,a),a}});return n?await n:r.authToken}async function Tf(e,t){let n=await Li(e.appConfig);for(;n.authToken.requestStatus===1;)await Da(100),n=await Li(e.appConfig);const r=n.authToken;return r.requestStatus===0?Ms(e,t):r}function Li(e){return nr(e,t=>{if(!Ha(t))throw Qe.create("not-registered");const n=t.authToken;return Af(n)?{...t,authToken:{requestStatus:0}}:t})}async function bf(e,t){try{const n=await Sf(e,t),r={...t,authToken:n};return await Bn(e.appConfig,r),n}catch(n){if(Na(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Ua(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await Bn(e.appConfig,r)}throw n}}function Ha(e){return e!==void 0&&e.registrationStatus===2}function vf(e){return e.requestStatus===2&&!If(e)}function If(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Yd}function Rf(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function Af(e){return e.requestStatus===1&&e.requestTime+Aa<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kf(e){const t=e,{installationEntry:n,registrationPromise:r}=await Os(t);return r?r.catch(console.error):Ms(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(e,t=!1){const n=e;return await Nf(n),(await Ms(n,t)).token}async function Nf(e){const{registrationPromise:t}=await Os(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cf(e){if(!e||!e.options)throw _r("App Configuration");if(!e.name)throw _r("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw _r(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function _r(e){return Qe.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa="installations",Pf="installations-internal",Of=e=>{const t=e.getProvider("app").getImmediate(),n=Cf(t),r=It(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Mf=e=>{const t=e.getProvider("app").getImmediate(),n=It(t,qa).getImmediate();return{getId:()=>kf(n),getToken:s=>wf(n,s)}};function Lf(){mt(new ht(qa,Of,"PUBLIC")),mt(new ht(Pf,Mf,"PRIVATE"))}Lf();Ze(Ra,Cs);Ze(Ra,Cs,"esm2020");const Di="@firebase/performance",Wr="0.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja=Wr,Df="FB-PERF-TRACE-START",xf="FB-PERF-TRACE-STOP",Vr="FB-PERF-TRACE-MEASURE",Wa="_wt_",Va="_fp",za="_fcp",Ga="_fid",Ka="_lcp",Ff="lcp_element",Xa="_inp",$f="inp_interactionTarget",Ya="_cls",Uf="cls_largestShiftTarget",Ja="@firebase/performance/config",Za="@firebase/performance/configexpire",Bf="performance",Qa="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},U=new hs(Bf,Qa,Hf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te=new Zo(Qa);Te.logLevel=cl.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Er,ec;class M{constructor(t){if(this.window=t,!t)throw U.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay),this.onLCP=Kd,this.onINP=Gd,this.onCLS=Ud}getUrl(){return this.windowLocation.href.split("?")[0]}mark(t){!this.performance||!this.performance.mark||this.performance.mark(t)}measure(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)}getEntriesByType(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)}getEntriesByName(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!ll()?(Te.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):gs()?!0:(Te.info("IndexedDB is not supported by current browser"),!1)}setupObserver(t,n){if(!this.PerformanceObserver)return;new this.PerformanceObserver(s=>{for(const i of s.getEntries())n(i)}).observe({entryTypes:[t]})}static getInstance(){return Er===void 0&&(Er=new M(ec)),Er}}function qf(e){ec=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;function jf(e){const t=e.getId();return t.then(n=>{tc=n}),t}function Ls(){return tc}function Wf(e){const t=e.getToken();return t.then(n=>{}),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(e,t){const n=e.length-t.length;if(n<0||n>1)throw U.create("invalid String merger input");const r=[];for(let s=0;s<e.length;s++)r.push(e.charAt(s)),t.length>s&&r.push(t.charAt(s));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sr;class q{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=xi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=xi("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12,this.logMaxFlushSize=40}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return Sr===void 0&&(Sr=new q),Sr}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(qt||(qt={}));const Vf=["firebase_","google_","ga_"],zf=new RegExp("^[a-zA-Z]\\w*$"),Gf=40,zr=100;function Kf(){const e=M.getInstance().navigator;return e?.serviceWorker?e.serviceWorker.controller?2:3:1}function Xf(){switch(M.getInstance().document.visibilityState){case"visible":return qt.VISIBLE;case"hidden":return qt.HIDDEN;default:return qt.UNKNOWN}}function Yf(){const t=M.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Jf(e){return e.length===0||e.length>Gf?!1:!Vf.some(n=>e.startsWith(n))&&!!e.match(zf)}function Zf(e){return e.length!==0&&e.length<=zr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(e){const t=e.options?.appId;if(!t)throw U.create("no app id");return t}function Qf(e){const t=e.options?.projectId;if(!t)throw U.create("no project id");return t}function ep(e){const t=e.options?.apiKey;if(!t)throw U.create("no api key");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="0.0.1",G={loggingEnabled:!0},np="FIREBASE_INSTALLATIONS_AUTH";function rp(e,t){const n=sp();return n?(Fi(n),Promise.resolve()):ap(e,t).then(Fi).then(r=>ip(r),()=>{})}function sp(){const e=M.getInstance().localStorage;if(!e)return;const t=e.getItem(Za);if(!t||!cp(t))return;const n=e.getItem(Ja);if(n)try{return JSON.parse(n)}catch{return}}function ip(e){const t=M.getInstance().localStorage;!e||!t||(t.setItem(Ja,JSON.stringify(e)),t.setItem(Za,String(Date.now()+q.getInstance().configTimeToLive*60*60*1e3)))}const op="Could not fetch config, will use default configs";function ap(e,t){return Wf(e.installations).then(n=>{const r=Qf(e.app),s=ep(e.app),i=`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${s}`,o=new Request(i,{method:"POST",headers:{Authorization:`${np} ${n}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:nc(e.app),app_version:ja,sdk_version:tp})});return fetch(o).then(a=>{if(a.ok)return a.json();throw U.create("RC response not ok")})}).catch(()=>{Te.info(op)})}function Fi(e){if(!e)return e;const t=q.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=G.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):G.logSource&&(t.logSource=G.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:G.logEndPointUrl&&(t.logEndPointUrl=G.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:G.transportKey&&(t.transportKey=G.transportKey),n.fpr_vc_network_request_sampling_rate!==void 0?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):G.networkRequestsSamplingRate!==void 0&&(t.networkRequestsSamplingRate=G.networkRequestsSamplingRate),n.fpr_vc_trace_sampling_rate!==void 0?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):G.tracesSamplingRate!==void 0&&(t.tracesSamplingRate=G.tracesSamplingRate),n.fpr_log_max_flush_size?t.logMaxFlushSize=Number(n.fpr_log_max_flush_size):G.logMaxFlushSize&&(t.logMaxFlushSize=G.logMaxFlushSize),t.logTraceAfterSampling=$i(t.tracesSamplingRate),t.logNetworkAfterSampling=$i(t.networkRequestsSamplingRate),e}function cp(e){return Number(e)>Date.now()}function $i(e){return Math.random()<=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ds=1,yr;function rc(e){return Ds=2,yr=yr||lp(e),yr}function up(){return Ds===3}function lp(e){return dp().then(()=>jf(e.installations)).then(t=>rp(e,t)).then(()=>Ui(),()=>Ui())}function dp(){const e=M.getInstance().document;return new Promise(t=>{if(e&&e.readyState!=="complete"){const n=()=>{e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function Ui(){Ds=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=10*1e3,fp=5.5*1e3,pp=1e3,ic=3,mp=65536,hp=new TextEncoder;let In=ic,Q=[],Bi=!1;function gp(){Bi||(xs(fp),Bi=!0)}function xs(e){setTimeout(()=>{In<=0||(Q.length>0&&_p(),xs(sc))},e)}function _p(){const e=Q.splice(0,pp),t=Gr(e);Ep(t).then(()=>{In=ic}).catch(()=>{Q=[...e,...Q],In--,Te.info(`Tries left: ${In}.`),xs(sc)})}function Gr(e){const t=e.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:q.getInstance().logSource,log_event:t};return JSON.stringify(n)}function Ep(e){const t=q.getInstance().getFlTransportFullUrl();return hp.encode(e).length<=mp&&navigator.sendBeacon&&navigator.sendBeacon(t,e)?Promise.resolve():fetch(t,{method:"POST",body:e})}function Sp(e){if(!e.eventTime||!e.message)throw U.create("invalid cc log");Q=[...Q,e]}function yp(e){return(...t)=>{const n=e(...t);Sp({message:n,eventTime:Date.now()})}}function Tp(){const e=q.getInstance().getFlTransportFullUrl();for(;Q.length>0;){const t=Q.splice(-q.getInstance().logMaxFlushSize),n=Gr(t);if(!(navigator.sendBeacon&&navigator.sendBeacon(e,n))){Q=[...Q,...t];break}}if(Q.length>0){const t=Gr(Q);fetch(e,{method:"POST",body:t}).catch(()=>{Te.info("Failed flushing queued events.")})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jt;function oc(e,t){jt||(jt={send:yp(Ip),flush:Tp}),jt.send(e,t)}function _n(e){const t=q.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||M.getInstance().requiredApisAvailable()&&(up()?Tr(e):rc(e.performanceController).then(()=>Tr(e),()=>Tr(e)))}function bp(){jt&&jt.flush()}function Tr(e){if(!Ls())return;const t=q.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||oc(e,1)}function vp(e){const t=q.getInstance();if(!t.instrumentationEnabled)return;const n=e.url,r=t.logEndPointUrl.split("?")[0],s=t.flTransportEndpointUrl.split("?")[0];n===r||n===s||!t.loggingEnabled||!t.logNetworkAfterSampling||oc(e,0)}function Ip(e,t){return t===0?Rp(e):Ap(e)}function Rp(e){const t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:ac(e.performanceController.app),network_request_metric:t};return JSON.stringify(n)}function Ap(e){const t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);const n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);const r={application_info:ac(e.performanceController.app),trace_metric:t};return JSON.stringify(r)}function ac(e){return{google_app_id:nc(e),app_instance_id:Ls(),web_app_info:{sdk_version:ja,page_url:M.getInstance().getUrl(),service_worker_status:Kf(),visibility_state:Xf(),effective_connection_type:Yf()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(e,t){const n=t;if(!n||n.responseStart===void 0)return;const r=M.getInstance().getTimeOrigin(),s=Math.floor((n.startTime+r)*1e3),i=n.responseStart?Math.floor((n.responseStart-n.startTime)*1e3):void 0,o=Math.floor((n.responseEnd-n.startTime)*1e3),a=n.name&&n.name.split("?")[0],c={performanceController:e,url:a,responsePayloadBytes:n.transferSize,startTimeUs:s,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};vp(c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=100,wp="_",Np=[Va,za,Ga,Ka,Ya,Xa];function Cp(e,t){return e.length===0||e.length>kp?!1:t&&t.startsWith(Wa)&&Np.indexOf(e)>-1||!e.startsWith(wp)}function Pp(e){const t=Math.floor(e);return t<e&&Te.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t,n,r=!1,s){this.performanceController=t,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=M.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${Df}-${this.randomId}-${this.name}`,this.traceStopMark=`${xf}-${this.randomId}-${this.name}`,this.traceMeasure=s||`${Vr}-${this.randomId}-${this.name}`,s&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw U.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw U.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),_n(this)}record(t,n,r){if(t<=0)throw U.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw U.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes={...r.attributes}),r&&r.metrics)for(const s of Object.keys(r.metrics))isNaN(Number(r.metrics[s]))||(this.counters[s]=Math.floor(Number(r.metrics[s])));_n(this)}incrementMetric(t,n=1){this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)}putMetric(t,n){if(Cp(t,this.name))this.counters[t]=Pp(n??0);else throw U.create("invalid custom metric name",{customMetricName:t})}getMetric(t){return this.counters[t]||0}putAttribute(t,n){const r=Jf(t),s=Zf(n);if(r&&s){this.customAttributes[t]=n;return}if(!r)throw U.create("invalid attribute name",{attributeName:t});if(!s)throw U.create("invalid attribute value",{attributeValue:n})}getAttribute(t){return this.customAttributes[t]}removeAttribute(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]}getAttributes(){return{...this.customAttributes}}setStartTime(t){this.startTimeUs=t}setDuration(t){this.durationUs=t}calculateTraceMetrics(){const t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(t,n,r,s,i){const o=M.getInstance().getUrl();if(!o)return;const a=new gt(t,Wa+o,!0),c=Math.floor(M.getInstance().getTimeOrigin()*1e3);a.setStartTime(c),n&&n[0]&&(a.setDuration(Math.floor(n[0].duration*1e3)),a.putMetric("domInteractive",Math.floor(n[0].domInteractive*1e3)),a.putMetric("domContentLoadedEventEnd",Math.floor(n[0].domContentLoadedEventEnd*1e3)),a.putMetric("loadEventEnd",Math.floor(n[0].loadEventEnd*1e3)));const u="first-paint",l="first-contentful-paint";if(r){const d=r.find(f=>f.name===u);d&&d.startTime&&a.putMetric(Va,Math.floor(d.startTime*1e3));const p=r.find(f=>f.name===l);p&&p.startTime&&a.putMetric(za,Math.floor(p.startTime*1e3)),i&&a.putMetric(Ga,Math.floor(i*1e3))}this.addWebVitalMetric(a,Ka,Ff,s.lcp),this.addWebVitalMetric(a,Ya,Uf,s.cls),this.addWebVitalMetric(a,Xa,$f,s.inp),_n(a),bp()}static addWebVitalMetric(t,n,r,s){s&&(t.putMetric(n,Math.floor(s.value*1e3)),s.elementAttribution&&(s.elementAttribution.length>zr?t.putAttribute(r,s.elementAttribution.substring(0,zr)):t.putAttribute(r,s.elementAttribution)))}static createUserTimingTrace(t,n){const r=new gt(t,n,!1,n);_n(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rn={},qi=!1,cc;function ji(e){Ls()&&(setTimeout(()=>Mp(e),0),setTimeout(()=>Op(e),0),setTimeout(()=>Lp(e),0))}function Op(e){const t=M.getInstance(),n=t.getEntriesByType("resource");for(const r of n)Hi(e,r);t.setupObserver("resource",r=>Hi(e,r))}function Mp(e){const t=M.getInstance();"onpagehide"in window?t.document.addEventListener("pagehide",()=>br(e)):t.document.addEventListener("unload",()=>br(e)),t.document.addEventListener("visibilitychange",()=>{t.document.visibilityState==="hidden"&&br(e)}),t.onFirstInputDelay&&t.onFirstInputDelay(n=>{cc=n}),t.onLCP(n=>{Rn.lcp={value:n.value,elementAttribution:n.attribution?.element}}),t.onCLS(n=>{Rn.cls={value:n.value,elementAttribution:n.attribution?.largestShiftTarget}}),t.onINP(n=>{Rn.inp={value:n.value,elementAttribution:n.attribution?.interactionTarget}})}function Lp(e){const t=M.getInstance(),n=t.getEntriesByType("measure");for(const r of n)Wi(e,r);t.setupObserver("measure",r=>Wi(e,r))}function Wi(e,t){const n=t.name;n.substring(0,Vr.length)!==Vr&&gt.createUserTimingTrace(e,n)}function br(e){if(!qi){qi=!0;const t=M.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");setTimeout(()=>{gt.createOobTrace(e,n,r,Rn,cc)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t,n){this.app=t,this.installations=n,this.initialized=!1}_init(t){this.initialized||(t?.dataCollectionEnabled!==void 0&&(this.dataCollectionEnabled=t.dataCollectionEnabled),t?.instrumentationEnabled!==void 0&&(this.instrumentationEnabled=t.instrumentationEnabled),M.getInstance().requiredApisAvailable()?ul().then(n=>{n&&(gp(),rc(this).then(()=>ji(this),()=>ji(this)),this.initialized=!0)}).catch(n=>{Te.info(`Environment doesn't support IndexedDB: ${n}`)}):Te.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(t){q.getInstance().instrumentationEnabled=t}get instrumentationEnabled(){return q.getInstance().instrumentationEnabled}set dataCollectionEnabled(t){q.getInstance().dataCollectionEnabled=t}get dataCollectionEnabled(){return q.getInstance().dataCollectionEnabled}}const xp="[DEFAULT]";function Fp(e=Yn()){return e=Jn(e),It(e,"performance").getImmediate()}function $p(e,t){return e=Jn(e),new gt(e,t)}const Up=(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(n.name!==xp)throw U.create("FB not default");if(typeof window>"u")throw U.create("no window");qf(window);const s=new Dp(n,r);return s._init(t),s};function Bp(){mt(new ht("performance",Up,"PUBLIC")),Ze(Di,Wr),Ze(Di,Wr,"esm2020")}Bp();let Kr=null;function Hp(){try{Kr=Fp(Rt)}catch{}}async function By(e,t){if(!Kr)return t();const n=$p(Kr,e);n.start();try{const r=await t();return n.stop(),r}catch(r){throw n.stop(),r}}const _=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,v=globalThis,Ge="10.32.1";function rt(){return rr(v),v}function rr(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Ge,t[Ge]=t[Ge]||{}}function kt(e,t,n=v){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[Ge]=r[Ge]||{};return s[e]||(s[e]=t())}const qp=["debug","info","warn","error","log","assert","trace"],jp="Sentry Logger ",Hn={};function wt(e){if(!("console"in v))return e();const t=v.console,n={},r=Object.keys(Hn);r.forEach(s=>{const i=Hn[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function Wp(){$s().enabled=!0}function Vp(){$s().enabled=!1}function uc(){return $s().enabled}function zp(...e){Fs("log",...e)}function Gp(...e){Fs("warn",...e)}function Kp(...e){Fs("error",...e)}function Fs(e,...t){_&&uc()&&wt(()=>{v.console[e](`${jp}[${e}]:`,...t)})}function $s(){return _?kt("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const h={enable:Wp,disable:Vp,isEnabled:uc,log:zp,warn:Gp,error:Kp},lc=50,tt="?",Vi=/\(error: (.*)\)/,zi=/captureMessage|captureException/;function dc(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let c=o[a];c.length>1024&&(c=c.slice(0,1024));const u=Vi.test(c)?c.replace(Vi,"$1"):c;if(!u.match(/\S*Error: /)){for(const l of t){const d=l(u);if(d){i.push(d);break}}if(i.length>=lc+s)break}}return Yp(i.slice(s))}}function Xp(e){return Array.isArray(e)?dc(...e):e}function Yp(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(En(t).function||"")&&t.pop(),t.reverse(),zi.test(En(t).function||"")&&(t.pop(),zi.test(En(t).function||"")&&t.pop()),t.slice(0,lc).map(n=>({...n,filename:n.filename||En(t).filename,function:n.function||tt}))}function En(e){return e[e.length-1]||{}}const vr="<anonymous>";function be(e){try{return!e||typeof e!="function"?vr:e.name||vr}catch{return vr}}function Gi(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function fc(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const An={},Ki={};function $e(e,t){An[e]=An[e]||[],An[e].push(t)}function Ue(e,t){if(!Ki[e]){Ki[e]=!0;try{t()}catch(n){_&&h.error(`Error while instrumenting ${e}`,n)}}}function ee(e,t){const n=e&&An[e];if(n)for(const r of n)try{r(t)}catch(s){_&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${be(r)}
Error:`,s)}}let Ir=null;function pc(e){const t="error";$e(t,e),Ue(t,Jp)}function Jp(){Ir=v.onerror,v.onerror=function(e,t,n,r,s){return ee("error",{column:r,error:s,line:n,msg:e,url:t}),Ir?Ir.apply(this,arguments):!1},v.onerror.__SENTRY_INSTRUMENTED__=!0}let Rr=null;function mc(e){const t="unhandledrejection";$e(t,e),Ue(t,Zp)}function Zp(){Rr=v.onunhandledrejection,v.onunhandledrejection=function(e){return ee("unhandledrejection",e),Rr?Rr.apply(this,arguments):!0},v.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const hc=Object.prototype.toString;function Us(e){switch(hc.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ve(e,Error)}}function Nt(e,t){return hc.call(e)===`[object ${t}]`}function gc(e){return Nt(e,"ErrorEvent")}function Xi(e){return Nt(e,"DOMError")}function Qp(e){return Nt(e,"DOMException")}function Se(e){return Nt(e,"String")}function Bs(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function _t(e){return e===null||Bs(e)||typeof e!="object"&&typeof e!="function"}function zt(e){return Nt(e,"Object")}function sr(e){return typeof Event<"u"&&ve(e,Event)}function em(e){return typeof Element<"u"&&ve(e,Element)}function tm(e){return Nt(e,"RegExp")}function Ct(e){return!!(e?.then&&typeof e.then=="function")}function nm(e){return zt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ve(e,t){try{return e instanceof t}catch{return!1}}function _c(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function Hs(e){return typeof Request<"u"&&ve(e,Request)}const qs=v,rm=80;function ne(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||rm;for(;n&&i++<r&&(u=sm(n,l),!(u==="html"||i>1&&o+s.length*c+u.length>=d));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function sm(e,t){const n=e,r=[];if(!n?.tagName)return"";if(qs.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t?.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s?.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Se(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function Qt(){try{return qs.document.location.href}catch{return""}}function Ec(e){if(!qs.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function K(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&Sc(s,r);try{e[t]=s}catch{_&&h.log(`Failed to replace method "${t}" in object`,e)}}function X(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{_&&h.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function Sc(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,X(e,"__sentry_original__",t)}catch{}}function js(e){return e.__sentry_original__}function yc(e){if(Us(e))return{message:e.message,name:e.name,stack:e.stack,...Ji(e)};if(sr(e)){const t={type:e.type,target:Yi(e.target),currentTarget:Yi(e.currentTarget),...Ji(e)};return typeof CustomEvent<"u"&&ve(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Yi(e){try{return em(e)?ne(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Ji(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function im(e){const t=Object.keys(yc(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}function Xr(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Zi(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{_c(s)?n.push(fc(s)):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function kn(e,t,n=!1){return Se(e)?tm(t)?t.test(e):Se(t)?n?e===t:e.includes(t):!1:!1}function Oe(e,t=[],n=!1){return t.some(r=>kn(e,r,n))}function om(){const e=v;return e.crypto||e.msCrypto}let Ar;function am(){return Math.random()*16}function te(e=om()){try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return Ar||(Ar="10000000100040008000"+1e11),Ar.replace(/[018]/g,t=>(t^(am()&15)>>t/4).toString(16))}function Tc(e){return e.exception?.values?.[0]}function Ve(e){const{message:t,event_id:n}=e;if(t)return t;const r=Tc(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Yr(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function Et(e,t){const n=Tc(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s?.data,...t.data};n.mechanism.data=i}}function Qi(e){if(cm(e))return!0;try{X(e,"__sentry_captured__",!0)}catch{}return!1}function cm(e){try{return e.__sentry_captured__}catch{}}const bc=1e3;function st(){return Date.now()/bc}function um(){const{performance:e}=v;if(!e?.now||!e.timeOrigin)return st;const t=e.timeOrigin;return()=>(t+e.now())/bc}let eo;function D(){return(eo??(eo=um()))()}let kr;function lm(){const{performance:e}=v;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing?.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,u=c<t;return i||u?s<=c?[e.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[r,"dateNow"]}function Y(){return kr||(kr=lm()),kr[0]}function dm(e){const t=D(),n={sid:te(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>pm(n)};return e&&St(n,e),n}function St(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||D(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:te()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function fm(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),St(e,n)}function pm(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function en(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=en(r[s],t[s],n-1));return r}function Ie(){return te()}function ye(){return te().substring(16)}const Jr="_sentrySpan";function yt(e,t){t?X(e,Jr,t):delete e[Jr]}function qn(e){return e[Jr]}const mm=100;class me{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Ie(),sampleRand:Math.random()}}clone(){const t=new me;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,yt(t,qn(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&St(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof me?n.getScopeData():zt(n)?t:void 0,{tags:s,attributes:i,extra:o,user:a,contexts:c,level:u,fingerprint:l=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._attributes={...this._attributes,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),l.length&&(this._fingerprint=l),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,yt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Ie(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:mm;if(r<=0)return this;const s={timestamp:st(),...t,message:t.message?Xr(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:qn(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=en(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n?.event_id||te();if(!this._client)return _&&h.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r?.event_id||te();if(!this._client)return _&&h.warn("No client configured on scope - will not capture message!"),s;const i=r?.syntheticException??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n?.event_id||te();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(_&&h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function hm(){return kt("defaultCurrentScope",()=>new me)}function gm(){return kt("defaultIsolationScope",()=>new me)}class _m{constructor(t,n){let r;t?r=t:r=new me;let s;n?s=n:s=new me,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return Ct(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Tt(){const e=rt(),t=rr(e);return t.stack=t.stack||new _m(hm(),gm())}function Em(e){return Tt().withScope(e)}function Sm(e,t){const n=Tt();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function to(e){return Tt().withScope(()=>e(Tt().getIsolationScope()))}function ym(){return{withIsolationScope:to,withScope:Em,withSetScope:Sm,withSetIsolationScope:(e,t)=>to(t),getCurrentScope:()=>Tt().getScope(),getIsolationScope:()=>Tt().getIsolationScope()}}function Pt(e){const t=rr(e);return t.acs?t.acs:ym()}function k(){const e=rt();return Pt(e).getCurrentScope()}function Be(){const e=rt();return Pt(e).getIsolationScope()}function Tm(){return kt("globalScope",()=>new me)}function ir(...e){const t=rt(),n=Pt(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function A(){return k().getClient()}function bm(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,i={trace_id:n,span_id:s||ye()};return r&&(i.parent_span_id=r),i}const fe="sentry.source",Ws="sentry.sample_rate",vc="sentry.previous_trace_sample_rate",Re="sentry.op",L="sentry.origin",Gt="sentry.idle_span_finish_reason",tn="sentry.measurement_unit",nn="sentry.measurement_value",no="sentry.custom_span_name",Vs="sentry.profile_id",Ot="sentry.exclusive_time",vm="sentry.link.type",Im=0,zs=1,P=2;function Rm(e){if(e<400&&e>=100)return{code:zs};if(e>=400&&e<500)switch(e){case 401:return{code:P,message:"unauthenticated"};case 403:return{code:P,message:"permission_denied"};case 404:return{code:P,message:"not_found"};case 409:return{code:P,message:"already_exists"};case 413:return{code:P,message:"failed_precondition"};case 429:return{code:P,message:"resource_exhausted"};case 499:return{code:P,message:"cancelled"};default:return{code:P,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:P,message:"unimplemented"};case 503:return{code:P,message:"unavailable"};case 504:return{code:P,message:"deadline_exceeded"};default:return{code:P,message:"internal_error"}}return{code:P,message:"internal_error"}}function Ic(e,t){e.setAttribute("http.response.status_code",t);const n=Rm(t);n.message!=="unknown_error"&&e.setStatus(n)}const Rc="_sentryScope",Ac="_sentryIsolationScope";function Am(e){try{const t=v.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function km(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function wm(e,t,n){e&&(X(e,Ac,Am(n)),X(e,Rc,t))}function jn(e){const t=e;return{scope:t[Rc],isolationScope:km(t[Ac])}}const Gs="sentry-",Nm=/^sentry-/,Cm=8192;function kc(e){const t=Om(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(Nm)){const o=s.slice(Gs.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function Pm(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${Gs}${r}`]=s),n),{});return Mm(t)}function Om(e){if(!(!e||!Se(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=ro(n);return Object.entries(r).forEach(([s,i])=>{t[s]=i}),t},{}):ro(e)}function ro(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),s=t.slice(n+1);return[r,s].map(i=>{try{return decodeURIComponent(i.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Mm(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>Cm?(_&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const Lm=/^o(\d+)\./,Dm=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function xm(e){return e==="http"||e==="https"}function Mt(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function Fm(e){const t=Dm.exec(e);if(!t){wt(()=>{});return}const[n,r,s="",i="",o="",a=""]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const d=u.match(/^\d+/);d&&(u=d[0])}return wc({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function wc(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function $m(e){if(!_)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(h.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?xm(r)?t&&isNaN(parseInt(t,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Um(e){return e.match(Lm)?.[1]}function Bm(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=Um(n)),r}function Hm(e){const t=typeof e=="string"?Fm(e):wc(e);if(!(!t||!$m(t)))return t}function Kt(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const Nc=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function qm(e){if(!e)return;const t=e.match(Nc);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function jm(e,t){const n=qm(e),r=kc(t);if(!n?.traceId)return{traceId:Ie(),sampleRand:Math.random()};const s=Wm(n,r);r&&(r.sample_rand=s.toString());const{traceId:i,parentSpanId:o,parentSampled:a}=n;return{traceId:i,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:s}}function Cc(e=Ie(),t=ye(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Pc(e=Ie(),t=ye(),n){return`00-${e}-${t}-${n?"01":"00"}`}function Wm(e,t){const n=Kt(t?.sample_rand);if(n!==void 0)return n;const r=Kt(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const Oc=0,Ks=1;let so=!1;function Vm(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,origin:a,links:c}=I(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:s,status:o,origin:a,links:c}}function zm(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:I(e).parent_span_id,i=jn(e).scope,o=r?i?.getPropagationContext().propagationSpanId||ye():t;return{parent_span_id:s,span_id:o,trace_id:n}}function Gm(e){const{traceId:t,spanId:n}=e.spanContext(),r=He(e);return Cc(t,n,r)}function Km(e){const{traceId:t,spanId:n}=e.spanContext(),r=He(e);return Pc(t,n,r)}function Mc(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:i})=>({span_id:t,trace_id:n,sampled:r===Ks,attributes:i,...s}))}function Ke(e){return typeof e=="number"?io(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?io(e.getTime()):D()}function io(e){return e>9999999999?e/1e3:e}function I(e){if(Ym(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(Xm(e)){const{attributes:r,startTime:s,name:i,endTime:o,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:Ke(s),timestamp:Ke(o)||void 0,status:Lc(a),op:r[Re],origin:r[L],links:Mc(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Xm(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Ym(e){return typeof e.getSpanJSON=="function"}function He(e){const{traceFlags:t}=e.spanContext();return t===Ks}function Lc(e){if(!(!e||e.code===Im))return e.code===zs?"ok":e.message||"internal_error"}const Xe="_sentryChildSpans",Zr="_sentryRootSpan";function Dc(e,t){const n=e[Zr]||e;X(t,Zr,n),e[Xe]?e[Xe].add(t):X(e,Xe,new Set([t]))}function Jm(e,t){e[Xe]&&e[Xe].delete(t)}function wn(e){const t=new Set;function n(r){if(!t.has(r)&&He(r)){t.add(r);const s=r[Xe]?Array.from(r[Xe]):[];for(const i of s)n(i)}}return n(e),Array.from(t)}function j(e){return e[Zr]||e}function J(){const e=rt(),t=Pt(e);return t.getActiveSpan?t.getActiveSpan():qn(k())}function Qr(){so||(wt(()=>{}),so=!0)}let oo=!1;function Zm(){if(oo)return;function e(){const t=J(),n=t&&j(t);if(n){const r="internal_error";_&&h.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:P,message:r})}}e.tag="sentry_tracingErrorCallback",oo=!0,pc(e),mc(e)}function ue(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||A()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function ao(e){h.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function Wn(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(eh(n)){if(kn(e.description,n))return _&&ao(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?kn(e.description,n.name):!0,s=n.op?e.op&&kn(e.op,n.op):!0;if(r&&s)return _&&ao(e),!0}return!1}function Qm(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const s of e)s.parent_span_id===r&&(s.parent_span_id=n)}function eh(e){return typeof e=="string"||e instanceof RegExp}const Xs="production",xc="_frozenDsc";function Nn(e,t){X(e,xc,t)}function Fc(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s={environment:n.environment||Xs,release:n.release,public_key:r,trace_id:e,org_id:Bm(t)};return t.emit("createDsc",s),s}function $c(e,t){const n=t.getPropagationContext();return n.dsc||Fc(n.traceId,e)}function De(e){const t=A();if(!t)return{};const n=j(e),r=I(n),s=r.data,i=n.spanContext().traceState,o=i?.get("sentry.sample_rate")??s[Ws]??s[vc];function a(m){return(typeof o=="number"||typeof o=="string")&&(m.sample_rate=`${o}`),m}const c=n[xc];if(c)return a(c);const u=i?.get("sentry.dsc"),l=u&&kc(u);if(l)return a(l);const d=Fc(e.spanContext().traceId,t),p=s[fe],f=r.description;return p!=="url"&&f&&(d.transaction=f),ue()&&(d.sampled=String(He(n)),d.sample_rand=i?.get("sentry.sample_rand")??jn(n).scope?.getPropagationContext().sampleRand.toString()),a(d),t.emit("createDsc",d,n),d}class xe{constructor(t={}){this._traceId=t.traceId||Ie(),this._spanId=t.spanId||ye()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Oc}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function Ee(e,t=100,n=1/0){try{return es("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Uc(e,t=3,n=100*1024){const r=Ee(e,t);return sh(r)>n?Uc(e,t-1,n):r}function es(e,t,n=1/0,r=1/0,s=ih()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=th(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const f=u.toJSON();return es("",f,c-1,r,s)}catch{}const l=Array.isArray(t)?[]:{};let d=0;const p=yc(t);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(d>=r){l[f]="[MaxProperties ~]";break}const m=p[f];l[f]=es(f,m,c-1,r,s),d++}return o(t),l}function th(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(_c(t))return fc(t);if(nm(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${be(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=nh(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function nh(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function rh(e){return~-encodeURI(e).split(/%..|./).length}function sh(e){return rh(JSON.stringify(e))}function ih(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function it(e,t=[]){return[e,t]}function oh(e,t){const[n,r]=e;return[n,[...r,t]]}function co(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function ts(e){const t=rr(v);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function ah(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[ts(r),i]:r.push(typeof i=="string"?ts(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(Ee(a))}s(c)}}return typeof r=="string"?r:ch(r)}function ch(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function uh(e){return[{type:"span"},e]}function lh(e){const t=typeof e.data=="string"?ts(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const dh={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function uo(e){return dh[e]}function Bc(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function fh(e,t,n,r){const s=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Mt(r)},...s&&{trace:s}}}function ph(e,t){if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function mh(e,t,n,r){const s=Bc(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Mt(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return it(i,[o])}function hh(e,t,n,r){const s=Bc(n),i=e.type&&e.type!=="replay_event"?e.type:"event";ph(e,n?.sdk);const o=fh(e,s,r,t);return delete e.sdkProcessingMetadata,it(o,[[{type:i},e]])}function gh(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=De(e[0]),s=t?.getDsn(),i=t?.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:Mt(s)}},{beforeSendSpan:a,ignoreSpans:c}=t?.getOptions()||{},u=c?.length?e.filter(f=>!Wn(I(f),c)):e,l=e.length-u.length;l&&t?.recordDroppedEvent("before_send","span",l);const d=a?f=>{const m=I(f),E=a(m);return E||(Qr(),m)}:I,p=[];for(const f of u){const m=d(f);m&&p.push(uh(m))}return it(o,p)}function _h(e){if(!_)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=I(e),{spanId:s}=e.spanContext(),i=He(e),o=j(e),a=o===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:l,description:d}=I(o);u.push(`root ID: ${o.spanContext().spanId}`),l&&u.push(`root op: ${l}`),d&&u.push(`root description: ${d}`)}h.log(`${c}
  ${u.join(`
  `)}`)}function Eh(e){if(!_)return;const{description:t="< unknown name >",op:n="< unknown op >"}=I(e),{spanId:r}=e.spanContext(),i=j(e)===e,o=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;h.log(o)}function Sh(e,t,n,r=J()){const s=r&&j(r);s&&(_&&h.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[nn]:t,[tn]:n}))}function lo(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[tn],i=r[nn];typeof s=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:s})}),t}const fo=1e3;class or{constructor(t={}){this._traceId=t.traceId||Ie(),this._spanId=t.spanId||ye(),this._startTime=t.startTimestamp||D(),this._links=t.links,this._attributes={},this.setAttributes({[L]:"manual",[Re]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?Ks:Oc}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=Ke(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(fe,"custom"),this}end(t){this._endTime||(this._endTime=Ke(t),Eh(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Re],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Lc(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[L],profile_id:this._attributes[Vs],exclusive_time:this._attributes[Ot],measurements:lo(this._events),is_segment:this._isStandaloneSpan&&j(this)===this||void 0,segment_id:this._isStandaloneSpan?j(this).spanContext().spanId:void 0,links:Mc(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){_&&h.log("[Tracing] Adding an event to span:",t);const s=po(n)?n:r||D(),i=po(n)?{}:n||{},o={name:t,time:Ke(s),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=A();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===j(this)))return;if(this._isStandaloneSpan){this._sampled?Th(gh([this],t)):(_&&h.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(jn(this).scope||k()).captureEvent(r)}_convertSpanToTransaction(){if(!mo(I(this)))return;this._name||(_&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=jn(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const i=wn(this).filter(l=>l!==this&&!yh(l)).map(l=>I(l)).filter(mo),o=this._attributes[fe];delete this._attributes[no],i.forEach(l=>{delete l.data[no]});const a={contexts:{trace:Vm(this)},spans:i.length>fo?i.sort((l,d)=>l.start_timestamp-d.start_timestamp).slice(0,fo):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:De(this)},request:r,...o&&{transaction_info:{source:o}}},c=lo(this._events);return c&&Object.keys(c).length&&(_&&h.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function po(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function mo(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function yh(e){return e instanceof or&&e.isStandaloneSpan()}function Th(e){const t=A();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function bh(e,t,n=()=>{},r=()=>{}){let s;try{s=e()}catch(i){throw t(i),n(),i}return vh(s,t,n,r)}function vh(e,t,n,r){return Ct(e)?e.then(s=>(n(),r(s),s),s=>{throw t(s),n(),s}):(n(),r(e),e)}function Ih(e,t,n){if(!ue(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const i=Kt(s);if(i===void 0)return _&&h.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!i)return _&&h.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];const o=n<i;return o||_&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[o,i,r]}const Hc="__SENTRY_SUPPRESS_TRACING__";function Rh(e,t){const n=Js();if(n.startSpan)return n.startSpan(e,t);const r=jc(e),{forceTransaction:s,parentSpan:i,scope:o}=e,a=o?.clone();return ir(a,()=>kh(i)(()=>{const u=k(),l=Wc(u,i),p=e.onlyIfParent&&!l?new xe:qc({parentSpan:l,spanArguments:r,forceTransaction:s,scope:u});return yt(u,p),bh(()=>t(p),()=>{const{status:f}=I(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:P,message:"internal_error"})},()=>{p.end()})}))}function Lt(e){const t=Js();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=jc(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?o=>ir(e.scope,o):s!==void 0?o=>Ys(s,o):o=>o())(()=>{const o=k(),a=Wc(o,s);return e.onlyIfParent&&!a?new xe:qc({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function Ys(e,t){const n=Js();return n.withActiveSpan?n.withActiveSpan(e,t):ir(r=>(yt(r,e||void 0),t(r)))}function qc({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ue()){const o=new xe;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...De(o)};Nn(o,a)}return o}const s=Be();let i;if(e&&!n)i=Ah(e,r,t),Dc(e,i);else if(e){const o=De(e),{traceId:a,spanId:c}=e.spanContext(),u=He(e);i=ho({traceId:a,parentSpanId:c,...t},r,u),Nn(i,o)}else{const{traceId:o,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};i=ho({traceId:o,parentSpanId:c,...t},r,u),a&&Nn(i,a)}return _h(i),wm(i,r,s),i}function jc(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=Ke(e.startTime),delete r.startTime,r}return n}function Js(){const e=rt();return Pt(e)}function ho(e,t,n){const r=A(),s=r?.getOptions()||{},{name:i=""}=e,o={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,c=o.spanAttributes,u=t.getPropagationContext(),[l,d,p]=t.getScopeData().sdkProcessingMetadata[Hc]?[!1]:Ih(s,{name:i,parentSampled:a,attributes:c,parentSampleRate:Kt(u.dsc?.sample_rate)},u.sampleRand),f=new or({...e,attributes:{[fe]:"custom",[Ws]:d!==void 0&&p?d:void 0,...c},sampled:l});return!l&&r&&(_&&h.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function Ah(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[Hc]?!1:He(e),o=i?new or({...n,parentSpanId:r,traceId:s,sampled:i}):new xe({traceId:s});Dc(e,o);const a=A();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function Wc(e,t){if(t)return t;if(t===null)return;const n=qn(e);if(!n)return;const r=A();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?j(n):n}function kh(e){return e!==void 0?t=>Ys(e,t):t=>t()}const Cn={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},wh="heartbeatFailed",Nh="idleTimeout",Ch="finalTimeout",Ph="externalFinish";function Vc(e,t={}){const n=new Map;let r=!1,s,i=Ph,o=!t.disableAutoFinish;const a=[],{idleTimeout:c=Cn.idleTimeout,finalTimeout:u=Cn.finalTimeout,childSpanTimeout:l=Cn.childSpanTimeout,beforeSpanEnd:d,trimIdleSpanEndTimestamp:p=!0}=t,f=A();if(!f||!ue()){const y=new xe,w={sample_rate:"0",sampled:"false",...De(y)};return Nn(y,w),y}const m=k(),E=J(),g=Oh(e);g.end=new Proxy(g.end,{apply(y,w,ot){if(d&&d(g),w instanceof xe)return;const[dn,...le]=ot,Ft=dn||D(),ge=Ke(Ft),x=wn(g).filter(b=>b!==g),qe=I(g);if(!x.length||!p)return ke(ge),Reflect.apply(y,w,[ge,...le]);const de=f.getOptions().ignoreSpans,we=x?.reduce((b,$)=>{const z=I($);return!z.timestamp||de&&Wn(z,de)?b:b?Math.max(b,z.timestamp):z.timestamp},void 0),R=qe.start_timestamp,F=Math.min(R?R+u/1e3:1/0,Math.max(R||-1/0,Math.min(ge,we||1/0)));return ke(F),Reflect.apply(y,w,[F,...le])}});function C(){s&&(clearTimeout(s),s=void 0)}function B(y){C(),s=setTimeout(()=>{!r&&n.size===0&&o&&(i=Nh,g.end(y))},c)}function se(y){s=setTimeout(()=>{!r&&o&&(i=wh,g.end(y))},l)}function H(y){C(),n.set(y,!0);const w=D();se(w+l/1e3)}function Ae(y){if(n.has(y)&&n.delete(y),n.size===0){const w=D();B(w+c/1e3)}}function ke(y){r=!0,n.clear(),a.forEach(x=>x()),yt(m,E);const w=I(g),{start_timestamp:ot}=w;if(!ot)return;w.data[Gt]||g.setAttribute(Gt,i);const le=w.status;(!le||le==="unknown")&&g.setStatus({code:zs}),h.log(`[Tracing] Idle span "${w.op}" finished`);const Ft=wn(g).filter(x=>x!==g);let ge=0;Ft.forEach(x=>{x.isRecording()&&(x.setStatus({code:P,message:"cancelled"}),x.end(y),_&&h.log("[Tracing] Cancelling span since span ended early",JSON.stringify(x,void 0,2)));const qe=I(x),{timestamp:de=0,start_timestamp:we=0}=qe,R=we<=y,F=(u+c)/1e3,b=de-we<=F;if(_){const $=JSON.stringify(x,void 0,2);R?b||h.log("[Tracing] Discarding span since it finished after idle span final timeout",$):h.log("[Tracing] Discarding span since it happened after idle span was finished",$)}(!b||!R)&&(Jm(g,x),ge++)}),ge>0&&g.setAttribute("sentry.idle_span_discarded_spans",ge)}return a.push(f.on("spanStart",y=>{if(r||y===g||I(y).timestamp||y instanceof or&&y.isStandaloneSpan())return;wn(g).includes(y)&&H(y.spanContext().spanId)})),a.push(f.on("spanEnd",y=>{r||Ae(y.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",y=>{y===g&&(o=!0,B(),n.size&&se())})),t.disableAutoFinish||B(),setTimeout(()=>{r||(g.setStatus({code:P,message:"deadline_exceeded"}),i=Ch,g.end())},u),g}function Oh(e){const t=Lt(e);return yt(k(),t),_&&h.log("[Tracing] Started span is an idle span"),t}const wr=0,go=1,_o=2;function ar(e){return new Xt(t=>{t(e)})}function Zs(e){return new Xt((t,n)=>{n(e)})}class Xt{constructor(t){this._state=wr,this._handlers=[],this._runExecutor(t)}then(t,n){return new Xt((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Xt((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}_executeHandlers(){if(this._state===wr)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===go&&n[1](this._value),this._state===_o&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(i,o)=>{if(this._state===wr){if(Ct(o)){o.then(r,s);return}this._state=i,this._value=o,this._executeHandlers()}},r=i=>{n(go,i)},s=i=>{n(_o,i)};try{t(r,s)}catch(i){s(i)}}}function Mh(e,t,n,r=0){try{const s=ns(t,n,e,r);return Ct(s)?s:ar(s)}catch(s){return Zs(s)}}function ns(e,t,n,r){const s=n[r];if(!e||!s)return e;const i=s({...e},t);return _&&i===null&&h.log(`Event processor "${s.id||"?"}" dropped event`),Ct(i)?i.then(o=>ns(o,t,n,r+1)):ns(i,t,n,r+1)}function Lh(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;Dh(e,t),r&&$h(e,r),Uh(e,n),xh(e,s),Fh(e,i)}function Eo(e,t){const{extra:n,tags:r,attributes:s,user:i,contexts:o,level:a,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:l,eventProcessors:d,attachments:p,propagationContext:f,transactionName:m,span:E}=t;Bt(e,"extra",n),Bt(e,"tags",r),Bt(e,"attributes",s),Bt(e,"user",i),Bt(e,"contexts",o),e.sdkProcessingMetadata=en(e.sdkProcessingMetadata,c,2),a&&(e.level=a),m&&(e.transactionName=m),E&&(e.span=E),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),l.length&&(e.fingerprint=[...e.fingerprint,...l]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...f}}function Bt(e,t,n){e[t]=en(e[t],n,1)}function Dh(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function xh(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function Fh(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function $h(e,t){e.contexts={trace:zm(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:De(t),...e.sdkProcessingMetadata};const n=j(t),r=I(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Uh(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let We,So,yo,Ne;function Bh(e){const t=v._sentryDebugIds,n=v._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],s=n?Object.keys(n):[];if(Ne&&r.length===So&&s.length===yo)return Ne;So=r.length,yo=s.length,Ne={},We||(We={});const i=(o,a)=>{for(const c of o){const u=a[c],l=We?.[c];if(l&&Ne&&u)Ne[l[0]]=u,We&&(We[c]=[l[0],u]);else if(u){const d=e(c);for(let p=d.length-1;p>=0;p--){const m=d[p]?.filename;if(m&&Ne&&We){Ne[m]=u,We[c]=[m,u];break}}}}};return t&&i(r,t),n&&i(s,n),Ne}function Hh(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||te(),timestamp:t.timestamp||st()},u=n.integrations||e.integrations.map(g=>g.name);qh(c,e),Vh(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&jh(c,e.stackParser);const l=Gh(r,n.captureContext);n.mechanism&&Et(c,n.mechanism);const d=s?s.getEventProcessors():[],p=Tm().getScopeData();if(i){const g=i.getScopeData();Eo(p,g)}if(l){const g=l.getScopeData();Eo(p,g)}const f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),Lh(c,p);const m=[...d,...p.eventProcessors];return Mh(m,c,n).then(g=>(g&&Wh(g),typeof o=="number"&&o>0?zh(g,o,a):g))}function qh(e,t){const{environment:n,release:r,dist:s,maxValueLength:i}=t;e.environment=e.environment||n||Xs,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const o=e.request;o?.url&&i&&(o.url=Xr(o.url,i)),i&&e.exception?.values?.forEach(a=>{a.value&&(a.value=Xr(a.value,i))})}function jh(e,t){const n=Bh(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.filename&&(s.debug_id=n[s.filename])})})}function Wh(e){const t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}function Vh(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function zh(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:Ee(s.data,t,n)}}))},...e.user&&{user:Ee(e.user,t,n)},...e.contexts&&{contexts:Ee(e.contexts,t,n)},...e.extra&&{extra:Ee(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Ee(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>({...s,...s.data&&{data:Ee(s.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=Ee(e.contexts.flags,3,n)),r}function Gh(e,t){if(!t)return e;const n=e?e.clone():new me;return n.update(t),n}function Kh(e){if(e)return Xh(e)?{captureContext:e}:Jh(e)?{captureContext:e}:e}function Xh(e){return e instanceof me||typeof e=="function"}const Yh=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Jh(e){return Object.keys(e).some(t=>Yh.includes(t))}function Zh(e,t){return k().captureException(e,Kh(t))}function zc(e,t){return k().captureEvent(e,t)}function Qh(e,t){Be().setContext(e,t)}function eg(){const e=A();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function To(e){const t=Be(),n=k(),{userAgent:r}=v.navigator||{},s=dm({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&St(i,{status:"exited"}),Gc(),t.setSession(s),s}function Gc(){const e=Be(),n=k().getSession()||e.getSession();n&&fm(n),Kc(),e.setSession()}function Kc(){const e=Be(),t=A(),n=e.getSession();n&&t&&t.captureSession(n)}function bo(e=!1){if(e){Gc();return}Kc()}const tg="7";function ng(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function rg(e){return`${ng(e)}${e.projectId}/envelope/`}function sg(e,t){const n={sentry_version:tg};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function ig(e,t,n){return t||`${rg(e)}?${sg(e,n)}`}const vo=[];function og(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function ag(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return og(r)}function cg(e,t){const n={};return t.forEach(r=>{r&&Xc(e,r,n)}),n}function Io(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function Xc(e,t,n){if(n[t.name]){_&&h.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!vo.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),vo.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}_&&h.log(`Integration installed: ${t.name}`)}function ug(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function lg(e,t,n,r){const s={};return t?.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Mt(r)),it(s,[ug(e)])}function Yc(e,t){const n=t??dg(e)??[];if(n.length===0)return;const r=e.getOptions(),s=lg(n,r._metadata,r.tunnel,e.getDsn());Jc().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function dg(e){return Jc().get(e)}function Jc(){return kt("clientToLogBufferMap",()=>new WeakMap)}function fg(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function pg(e,t,n,r){const s={};return t?.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Mt(r)),it(s,[fg(e)])}function Zc(e,t){const n=t??mg(e)??[];if(n.length===0)return;const r=e.getOptions(),s=pg(n,r._metadata,r.tunnel,e.getDsn());Qc().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(s)}function mg(e){return Qc().get(e)}function Qc(){return kt("clientToMetricBufferMap",()=>new WeakMap)}const Qs=Symbol.for("SentryBufferFullError");function ei(e=100){const t=new Set;function n(){return t.size<e}function r(o){t.delete(o)}function s(o){if(!n())return Zs(Qs);const a=o();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function i(o){if(!t.size)return ar(!0);const a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return a;const c=[a,new Promise(u=>setTimeout(()=>u(!1),o))];return Promise.race(c)}return{get $(){return Array.from(t)},add:s,drain:i}}const hg=60*1e3;function gg(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?hg:r-t}function _g(e,t){return e[t]||e.all||0}function Eg(e,t,n=Date.now()){return _g(e,t)>n}function Sg(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n?.["x-sentry-rate-limits"],o=n?.["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,l]=a.split(":",5),d=parseInt(c,10),p=(isNaN(d)?60:d)*1e3;if(!u)s.all=r+p;else for(const f of u.split(";"))f==="metric_bucket"?(!l||l.split(";").includes("custom"))&&(s[f]=r+p):s[f]=r+p}else o?s.all=r+gg(o,r):t===429&&(s.all=r+60*1e3);return s}const eu=64;function yg(e,t,n=ei(e.bufferSize||eu)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(co(o,(d,p)=>{const f=uo(p);Eg(r,f)?e.recordDroppedEvent("ratelimit_backoff",f):a.push(d)}),a.length===0)return Promise.resolve({});const c=it(o[0],a),u=d=>{co(c,(p,f)=>{e.recordDroppedEvent(d,uo(f))})},l=()=>t({body:ah(c)}).then(d=>(d.statusCode!==void 0&&(d.statusCode<200||d.statusCode>=300)&&_&&h.warn(`Sentry responded with status code ${d.statusCode} to sent event.`),r=Sg(r,d),d),d=>{throw u("network_error"),_&&h.error("Encountered error running transport request:",d),d});return n.add(l).then(d=>d,d=>{if(d===Qs)return _&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw d})}return{send:i,flush:s}}function Tg(e,t,n){const r=[{type:"client_report"},{timestamp:st(),discarded_events:e}];return it(t?{dsn:t}:{},[r])}function tu(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function bg(e){const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:i,data:o,op:a}=e.contexts?.trace??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:o?.[Vs],exclusive_time:o?.[Ot],measurements:e.measurements,is_segment:!0}}function vg(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Vs]:e.profile_id},...e.exclusive_time&&{[Ot]:e.exclusive_time}}}},measurements:e.measurements}}const Ro="Not capturing exception because it's already been captured.",Ao="Discarded session because of missing or non-string release",nu=Symbol.for("SentryInternalError"),ru=Symbol.for("SentryDoNotSendEventError"),Ig=5e3;function Pn(e){return{message:e,[nu]:!0}}function Nr(e){return{message:e,[ru]:!0}}function ko(e){return!!e&&typeof e=="object"&&nu in e}function wo(e){return!!e&&typeof e=="object"&&ru in e}function No(e,t,n,r,s){let i=0,o,a=!1;e.on(n,()=>{i=0,clearTimeout(o),a=!1}),e.on(t,c=>{i+=r(c),i>=8e5?s(e):a||(a=!0,o=setTimeout(()=>{s(e)},Ig))}),e.on("flush",()=>{s(e)})}class Rg{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=ei(t.transportOptions?.bufferSize??eu),t.dsn?this._dsn=Hm(t.dsn):_&&h.warn("No DSN provided, client will not send events."),this._dsn){const r=ig(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&No(this,"afterCaptureLog","flushLogs",Ng,Yc),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&No(this,"afterCaptureMetric","flushMetrics",wg,Zc)}captureException(t,n,r){const s=te();if(Qi(t))return _&&h.log(Ro),s;const i={event_id:s,...n};return this._process(()=>this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r)).then(o=>o),"error"),i.event_id}captureMessage(t,n,r,s){const i={event_id:te(),...r},o=Bs(t)?t:String(t),a=_t(t),c=a?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(()=>c.then(u=>this._captureEvent(u,i,s)),a?"unknown":"error"),i.event_id}captureEvent(t,n,r){const s=te();if(n?.originalException&&Qi(n.originalException))return _&&h.log(Ro),s;const i={event_id:s,...n},o=t.sdkProcessingMetadata||{},a=o.capturedSpanScope,c=o.capturedSpanIsolationScope,u=Co(t.type);return this._process(()=>this._captureEvent(t,i,a||r,c),u),i.event_id}captureSession(t){this.sendSession(t),St(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),s=await n.flush(t);return r&&s}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Xc(this,t,this._integrations),n||Io(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=hh(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=oh(r,lh(s));this.sendEnvelope(r).then(s=>this.emit("afterSendEvent",t,s))}sendSession(t){const{release:n,environment:r=Xs}=this._options;if("aggregates"in t){const i=t.attrs||{};if(!i.release&&!n){_&&h.warn(Ao);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){_&&h.warn(Ao);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=mh(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;_&&h.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,s=(...i)=>n(...i);return r.add(s),()=>{r.delete(s)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return _&&h.error("Error while sending envelope:",n),{}}return _&&h.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=cg(this,t),Io(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const i=n.exception?.values;if(i){s=!0,r=!1;for(const c of i)if(c.mechanism?.handled===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(St(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o?.length&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),Hh(i,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:bm(r),...a.contexts};const c=$c(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=k(),s=Be()){return _&&rs(t)&&h.log(`Captured error event \`${tu(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(i=>i.event_id,i=>{_&&(wo(i)?h.log(i.message):ko(i)?h.warn(i.message):h.warn(i))})}_processEvent(t,n,r,s){const i=this.getOptions(),{sampleRate:o}=i,a=su(t),c=rs(t),l=`before send for type \`${t.type||"error"}\``,d=typeof o>"u"?void 0:Kt(o);if(c&&typeof d=="number"&&Math.random()>d)return this.recordDroppedEvent("sample_rate","error"),Zs(Nr(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const p=Co(t.type);return this._prepareEvent(t,n,r,s).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",p),Nr("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return f;const E=kg(this,i,f,n);return Ag(E,l)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",p),a){const C=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",C)}throw Nr(`${l} returned \`null\`, will not send event.`)}const m=r.getSession()||s.getSession();if(c&&m&&this._updateSessionFromEvent(m,f),a){const g=f.sdkProcessingMetadata?.spanCountBeforeProcessing||0,C=f.spans?f.spans.length:0,B=g-C;B>0&&this.recordDroppedEvent("before_send","span",B)}const E=f.transaction_info;if(a&&E&&f.transaction!==t.transaction){const g="custom";f.transaction_info={...E,source:g}}return this.sendEvent(f,n),f}).then(null,f=>{throw wo(f)||ko(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),Pn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===Qs&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){_&&h.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){_&&h.log("No outcomes to send");return}if(!this._dsn){_&&h.log("No dsn provided, will not send outcomes");return}_&&h.log("Sending outcomes:",t);const n=Tg(t,this._options.tunnel&&Mt(this._dsn));this.sendEnvelope(n)}}function Co(e){return e==="replay_event"?"replay":e||"error"}function Ag(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Ct(e))return e.then(r=>{if(!zt(r)&&r!==null)throw Pn(n);return r},r=>{throw Pn(`${t} rejected with ${r}`)});if(!zt(e)&&e!==null)throw Pn(n);return e}function kg(e,t,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o,ignoreSpans:a}=t;let c=n;if(rs(c)&&s)return s(c,r);if(su(c)){if(o||a){const u=bg(c);if(a?.length&&Wn(u,a))return null;if(o){const l=o(u);l?c=en(n,vg(l)):Qr()}if(c.spans){const l=[],d=c.spans;for(const f of d){if(a?.length&&Wn(f,a)){Qm(d,f);continue}if(o){const m=o(f);m?l.push(m):(Qr(),l.push(f))}else l.push(f)}const p=c.spans.length-l.length;p&&e.recordDroppedEvent("before_send","span",p),c.spans=l}}if(i){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(c,r)}}return c}function rs(e){return e.type===void 0}function su(e){return e.type==="transaction"}function wg(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+iu(e.attributes)}function Ng(e){let t=0;return e.message&&(t+=e.message.length*2),t+iu(e.attributes)}function iu(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*Po(n[0]):_t(n)?t+=Po(n):t+=100}),t}function Po(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function Cg(e,t){t.debug===!0&&(_?h.enable():wt(()=>{})),k().update(t.initialScope);const r=new e(t);return Pg(r),r.init(),r}function Pg(e){k().setClient(e)}const Og="thismessage:/";function ou(e){return"isRelative"in e}function au(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?Og:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function Mg(e){if(ou(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Ye(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Lg(e){return e.split(/[?#]/,1)[0]}function Dg(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function cu(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Ge})),version:Ge}),e._metadata=s}function uu(e={}){const t=e.client||A();if(!eg()||!t)return{};const n=rt(),r=Pt(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||k(),i=e.span||J(),o=i?Gm(i):xg(s),a=i?De(i):$c(t,s),c=Pm(a);if(!Nc.test(o))return h.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const l={"sentry-trace":o,baggage:c};return e.propagateTraceparent&&(l.traceparent=i?Km(i):Fg(s)),l}function xg(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Cc(t,r,n)}function Fg(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Pc(t,r,n)}const $g=100;function nt(e,t){const n=A(),r=Be();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=$g}=n.getOptions();if(i<=0)return;const a={timestamp:st(),...e},c=s?wt(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}let Oo;const Ug="FunctionToString",Mo=new WeakMap,Bg=(()=>({name:Ug,setupOnce(){Oo=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=js(this),n=Mo.has(A())&&t!==void 0?t:this;return Oo.apply(n,e)}}catch{}},setup(e){Mo.set(e,!0)}})),Hg=Bg,qg=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],jg="EventFilters",Wg=(e={})=>{let t;return{name:jg,setup(n){const r=n.getOptions();t=Lo(e,r)},processEvent(n,r,s){if(!t){const i=s.getOptions();t=Lo(e,i)}return zg(n,t)?null:n}}},Vg=((e={})=>({...Wg(e),name:"InboundFilters"}));function Lo(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:qg],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function zg(e,t){if(e.type){if(e.type==="transaction"&&Kg(e,t.ignoreTransactions))return _&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ve(e)}`),!0}else{if(Gg(e,t.ignoreErrors))return _&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ve(e)}`),!0;if(Zg(e))return _&&h.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Ve(e)}`),!0;if(Xg(e,t.denyUrls))return _&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ve(e)}.
Url: ${Vn(e)}`),!0;if(!Yg(e,t.allowUrls))return _&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ve(e)}.
Url: ${Vn(e)}`),!0}return!1}function Gg(e,t){return t?.length?tu(e).some(n=>Oe(n,t)):!1}function Kg(e,t){if(!t?.length)return!1;const n=e.transaction;return n?Oe(n,t):!1}function Xg(e,t){if(!t?.length)return!1;const n=Vn(e);return n?Oe(n,t):!1}function Yg(e,t){if(!t?.length)return!0;const n=Vn(e);return n?Oe(n,t):!0}function Jg(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Vn(e){try{const n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?Jg(n):null}catch{return _&&h.error(`Cannot extract url for event ${Ve(e)}`),null}}function Zg(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function Qg(e,t,n,r,s,i){if(!s.exception?.values||!i||!ve(i.originalException,Error))return;const o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=ss(e,t,r,i.originalException,n,s.exception.values,o,0))}function ss(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(ve(r[s],Error)){Do(o,a);const u=e(t,r[s]),l=c.length;xo(u,s,l,a),c=ss(e,t,n,r[s],s,[u,...c],u,l)}return Array.isArray(r.errors)&&r.errors.forEach((u,l)=>{if(ve(u,Error)){Do(o,a);const d=e(t,u),p=c.length;xo(d,`errors[${l}]`,p,a),c=ss(e,t,n,u,s,[d,...c],d,p)}}),c}function Do(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function xo(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function e_(e){const t="console";$e(t,e),Ue(t,t_)}function t_(){"console"in v&&qp.forEach(function(e){e in v.console&&K(v.console,e,function(t){return Hn[e]=t,function(...n){ee("console",{args:n,level:e}),Hn[e]?.apply(v.console,n)}})})}function n_(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const r_="Dedupe",s_=(()=>{let e;return{name:r_,processEvent(t){if(t.type)return t;try{if(o_(t,e))return _&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),i_=s_;function o_(e,t){return t?!!(a_(e,t)||c_(e,t)):!1}function a_(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!du(e,t)||!lu(e,t))}function c_(e,t){const n=Fo(t),r=Fo(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!du(e,t)||!lu(e,t))}function lu(e,t){let n=Gi(e),r=Gi(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function du(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Fo(e){return e.exception?.values?.[0]}function u_(e,t,n,r,s){if(!e.fetchData)return;const{method:i,url:o}=e.fetchData,a=ue()&&t(o);if(e.endTimestamp&&a){const f=e.fetchData.__span;if(!f)return;const m=r[f];m&&(f_(m,e),l_(m,e,s),delete r[f]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof s=="object"?s:{spanOrigin:s},l=!!J(),d=a&&l?Lt(m_(o,i,c)):new xe;if(e.fetchData.__span=d.spanContext().spanId,r[d.spanContext().spanId]=d,n(e.fetchData.url)){const f=e.args[0],m=e.args[1]||{},E=d_(f,m,ue()&&l?d:void 0,u);E&&(e.args[1]=m,m.headers=E)}const p=A();if(p){const f={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};p.emit("beforeOutgoingRequestSpan",d,f)}return d}function l_(e,t,n){(typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0)?.(e,{headers:t.response?.headers,error:t.error})}function d_(e,t,n,r){const s=uu({span:n,propagateTraceparent:r}),i=s["sentry-trace"],o=s.baggage,a=s.traceparent;if(!i)return;const c=t.headers||(Hs(e)?e.headers:void 0);if(c)if(p_(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",i),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),o){const l=u.get("baggage");l?Sn(l)||u.set("baggage",`${l},${o}`):u.set("baggage",o)}return u}else if(Array.isArray(c)){const u=[...c];c.find(d=>d[0]==="sentry-trace")||u.push(["sentry-trace",i]),r&&a&&!c.find(d=>d[0]==="traceparent")&&u.push(["traceparent",a]);const l=c.find(d=>d[0]==="baggage"&&Sn(d[1]));return o&&!l&&u.push(["baggage",o]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,l="traceparent"in c?c.traceparent:void 0,d="baggage"in c?c.baggage:void 0,p=d?Array.isArray(d)?[...d]:[d]:[],f=d&&(Array.isArray(d)?d.find(E=>Sn(E)):Sn(d));o&&!f&&p.push(o);const m={...c,"sentry-trace":u??i,baggage:p.length>0?p.join(","):void 0};return r&&a&&!l&&(m.traceparent=a),m}else return{...s}}function f_(e,t){if(t.response){Ic(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:P,message:"internal_error"});e.end()}function Sn(e){return e.split(",").some(t=>t.trim().startsWith(Gs))}function p_(e){return typeof Headers<"u"&&ve(e,Headers)}function m_(e,t,n){const r=au(e);return{name:r?`${t} ${Mg(r)}`:t,attributes:h_(e,r,t,n)}}function h_(e,t,n,r){const s={url:e,type:"fetch","http.method":n,[L]:r,[Re]:"http.client"};return t&&(ou(t)||(s["http.url"]=t.href,s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function fu(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Yt=v;function g_(){return"history"in Yt&&!!Yt.history}function __(){if(!("fetch"in Yt))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function is(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function E_(){if(typeof EdgeRuntime=="string")return!0;if(!__())return!1;if(is(Yt.fetch))return!0;let e=!1;const t=Yt.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=is(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){_&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function pu(e,t){const n="fetch";$e(n,e),Ue(n,()=>mu(void 0,t))}function S_(e){const t="fetch-body-resolved";$e(t,e),Ue(t,()=>mu(T_))}function mu(e,t=!1){t&&!E_()||K(v,"fetch",function(n){return function(...r){const s=new Error,{method:i,url:o}=b_(r),a={args:r,fetchData:{method:i,url:o},startTimestamp:D()*1e3,virtualError:s,headers:v_(r)};return e||ee("fetch",{...a}),n.apply(v,r).then(async c=>(e?e(c):ee("fetch",{...a,endTimestamp:D()*1e3,response:c}),c),c=>{if(ee("fetch",{...a,endTimestamp:D()*1e3,error:c}),Us(c)&&c.stack===void 0&&(c.stack=s.stack,X(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function y_(e,t){if(e?.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let i=!0;for(;i;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(o)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function T_(e){let t;try{t=e.clone()}catch{return}y_(t,()=>{ee("fetch-body-resolved",{endTimestamp:D()*1e3,response:e})})}function On(e,t){return!!e&&typeof e=="object"&&!!e[t]}function $o(e){return typeof e=="string"?e:e?On(e,"url")?e.url:e.toString?e.toString():"":""}function b_(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:$o(n),method:On(r,"method")?String(r.method).toUpperCase():Hs(n)&&On(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:$o(t),method:On(t,"method")?String(t.method).toUpperCase():"GET"}}function v_(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Hs(t))return new Headers(t.headers)}catch{}}function I_(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function R_(){return"npm"}function A_(){return!I_()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function k_(){return typeof window<"u"&&(!A_()||w_())}function w_(){return v.process?.type==="renderer"}const T=v;let os=0;function hu(){return os>0}function N_(){os++,setTimeout(()=>{os--})}function bt(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(js(e))return e}catch{return e}const r=function(...s){try{const i=s.map(o=>bt(o,t));return e.apply(this,i)}catch(i){throw N_(),ir(o=>{o.addEventProcessor(a=>(t.mechanism&&(Yr(a,void 0),Et(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Zh(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}Sc(r,e),X(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function ti(){const e=Qt(),{referrer:t}=T.document||{},{userAgent:n}=T.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function ni(e,t){const n=ri(e,t),r={type:L_(t),value:D_(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function C_(e,t,n,r){const i=A()?.getOptions().normalizeDepth,o=B_(t),a={__serialized__:Uc(t,i)};if(o)return{exception:{values:[ni(e,o)]},extra:a};const c={exception:{values:[{type:sr(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:$_(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=ri(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Cr(e,t){return{exception:{values:[ni(e,t)]}}}function ri(e,t){const n=t.stacktrace||t.stack||"",r=O_(t),s=M_(t);try{return e(n,r,s)}catch{}return[]}const P_=/Minified React error #\d+;/i;function O_(e){return e&&P_.test(e.message)?1:0}function M_(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function gu(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function L_(e){const t=e?.name;return!t&&gu(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function D_(e){const t=e?.message;return gu(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function x_(e,t,n,r){const s=n?.syntheticException||void 0,i=si(e,t,s,r);return Et(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),ar(i)}function F_(e,t,n="info",r,s){const i=r?.syntheticException||void 0,o=as(e,t,i,s);return o.level=n,r?.event_id&&(o.event_id=r.event_id),ar(o)}function si(e,t,n,r,s){let i;if(gc(t)&&t.error)return Cr(e,t.error);if(Xi(t)||Qp(t)){const o=t;if("stack"in t)i=Cr(e,t);else{const a=o.name||(Xi(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=as(e,c,n,r),Yr(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return Us(t)?Cr(e,t):zt(t)||sr(t)?(i=C_(e,t,n,s),Et(i,{synthetic:!0}),i):(i=as(e,t,n,r),Yr(i,`${t}`),Et(i,{synthetic:!0}),i)}function as(e,t,n,r){const s={};if(r&&n){const i=ri(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),Et(s,{synthetic:!0})}if(Bs(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function $_(e,{isUnhandledRejection:t}){const n=im(e),r=t?"promise rejection":"exception";return gc(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:sr(e)?`Event \`${U_(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function U_(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function B_(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class H_ extends Rg{constructor(t){const n=q_(t),r=T.SENTRY_SDK_SOURCE||R_();cu(n,"browser",["browser"],r),n._metadata?.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:i,enableLogs:o,_experiments:a,enableMetrics:c}=this._options,u=c??a?.enableMetrics??!0;T.document&&(i||o||u)&&T.document.addEventListener("visibilitychange",()=>{T.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),o&&Yc(this),u&&Zc(this))}),s&&this.on("beforeSendSession",Dg)}eventFromException(t,n){return x_(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return F_(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function q_(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:T.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const rn=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,S=v,j_=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",sn=(e,t,n,r)=>{let s,i;return o=>{t.value>=0&&(o||r)&&(i=t.value-(s??0),(i||s===void 0)&&(s=t.value,t.delta=i,t.rating=j_(t.value,n),e(t)))}},on=(e=!0)=>{const t=S.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Dt=()=>on()?.activationStart??0;function Je(e,t,n){S.document&&S.addEventListener(e,t,n)}function ii(e,t,n){S.document&&S.removeEventListener(e,t,n)}let pt=-1;const _u=new Set,W_=()=>S.document?.visibilityState==="hidden"&&!S.document?.prerendering?0:1/0,Mn=e=>{if(V_(e)&&pt>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of _u)t();isFinite(pt)||(pt=e.type==="visibilitychange"?e.timeStamp:0,ii("prerenderingchange",Mn,!0))}},an=()=>{if(S.document&&pt<0){const e=Dt();pt=(S.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??W_(),Je("visibilitychange",Mn,!0),Je("pagehide",Mn,!0),Je("prerenderingchange",Mn,!0)}return{get firstHiddenTime(){return pt},onHidden(e){_u.add(e)}}};function V_(e){return e.type==="pagehide"||S.document?.visibilityState==="hidden"}const z_=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,cn=(e,t=-1)=>{const n=on();let r="navigate";return n&&(S.document?.prerendering||Dt()>0?r="prerender":S.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:z_(),navigationType:r}},Pr=new WeakMap;function oi(e,t){return Pr.get(e)||Pr.set(e,new t),Pr.get(e)}class zn{constructor(){zn.prototype.__init.call(this),zn.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}}const xt=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},ai=e=>{let t=!1;return()=>{t||(e(),t=!0)}},cr=e=>{S.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},G_=[1800,3e3],K_=(e,t={})=>{cr(()=>{const n=an(),r=cn("FCP");let s;const o=xt("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Dt(),0),r.entries.push(c),s(!0)))});o&&(s=sn(e,r,G_,t.reportAllChanges))})},X_=[.1,.25],Y_=(e,t={})=>{K_(ai(()=>{const n=cn("CLS",0);let r;const s=an(),i=oi(t,zn),o=c=>{for(const u of c)i._processEntry(u);i._sessionValue>n.value&&(n.value=i._sessionValue,n.entries=i._sessionEntries,r())},a=xt("layout-shift",o);a&&(r=sn(e,n,X_,t.reportAllChanges),s.onHidden(()=>{o(a.takeRecords()),r(!0)}),S?.setTimeout?.(r))}))};let Eu=0,Or=1/0,yn=0;const J_=e=>{e.forEach(t=>{t.interactionId&&(Or=Math.min(Or,t.interactionId),yn=Math.max(yn,t.interactionId),Eu=yn?(yn-Or)/7+1:0)})};let cs;const Su=()=>cs?Eu:performance.interactionCount||0,Z_=()=>{"interactionCount"in performance||cs||(cs=xt("event",J_,{type:"event",buffered:!0,durationThreshold:0}))},Mr=10;let yu=0;const Q_=()=>Su()-yu;class Gn{constructor(){Gn.prototype.__init.call(this),Gn.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){yu=Su(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(Q_()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Mr||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((s,i)=>i._latency-s._latency),this._longestInteractionList.length>Mr){const s=this._longestInteractionList.splice(Mr);for(const i of s)this._longestInteractionMap.delete(i.id)}this._onAfterProcessingINPCandidate?.(r)}}}const Tu=e=>{const t=n=>{(n.type==="pagehide"||S.document?.visibilityState==="hidden")&&e(n)};Je("visibilitychange",t,!0),Je("pagehide",t,!0)},bu=e=>{const t=S.requestIdleCallback||S.setTimeout;S.document?.visibilityState==="hidden"?e():(e=ai(e),Je("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),ii("visibilitychange",e,{capture:!0})}),Tu(e))},eE=[200,500],tE=40,nE=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=an();cr(()=>{Z_();const r=cn("INP");let s;const i=oi(t,Gn),o=c=>{bu(()=>{for(const l of c)i._processEntry(l);const u=i._estimateP98LongestInteraction();u&&u._latency!==r.value&&(r.value=u._latency,r.entries=u.entries,s())})},a=xt("event",o,{durationThreshold:t.durationThreshold??tE});s=sn(e,r,eE,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{o(a.takeRecords()),s(!0)}))})};class rE{_processEntry(t){this._onBeforeProcessingEntry?.(t)}}const sE=[2500,4e3],iE=(e,t={})=>{cr(()=>{const n=an(),r=cn("LCP");let s;const i=oi(t,rE),o=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-Dt(),0),r.entries=[u],s())},a=xt("largest-contentful-paint",o);if(a){s=sn(e,r,sE,t.reportAllChanges);const c=ai(()=>{o(a.takeRecords()),a.disconnect(),s(!0)}),u=l=>{l.isTrusted&&(bu(c),ii(l.type,u,{capture:!0}))};for(const l of["keydown","click","visibilitychange"])Je(l,u,{capture:!0})}})},oE=[800,1800],us=e=>{S.document?.prerendering?cr(()=>us(e)):S.document?.readyState!=="complete"?addEventListener("load",()=>us(e),!0):setTimeout(e)},aE=(e,t={})=>{const n=cn("TTFB"),r=sn(e,n,oE,t.reportAllChanges);us(()=>{const s=on();s&&(n.value=Math.max(s.responseStart-Dt(),0),n.entries=[s],r(!0))})},Wt={},Kn={};let vu,Iu,Ru,Au;function ku(e,t=!1){return ur("cls",e,lE,vu,t)}function wu(e,t=!1){return ur("lcp",e,dE,Iu,t)}function cE(e){return ur("ttfb",e,fE,Ru)}function uE(e){return ur("inp",e,pE,Au)}function vt(e,t){return Nu(e,t),Kn[e]||(mE(e),Kn[e]=!0),Cu(e,t)}function un(e,t){const n=Wt[e];if(n?.length)for(const r of n)try{r(t)}catch(s){rn&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${be(r)}
Error:`,s)}}function lE(){return Y_(e=>{un("cls",{metric:e}),vu=e},{reportAllChanges:!0})}function dE(){return iE(e=>{un("lcp",{metric:e}),Iu=e},{reportAllChanges:!0})}function fE(){return aE(e=>{un("ttfb",{metric:e}),Ru=e})}function pE(){return nE(e=>{un("inp",{metric:e}),Au=e})}function ur(e,t,n,r,s=!1){Nu(e,t);let i;return Kn[e]||(i=n(),Kn[e]=!0),r&&t({metric:r}),Cu(e,t,s?i:void 0)}function mE(e){const t={};e==="event"&&(t.durationThreshold=0),xt(e,n=>{un(e,{entries:n})},t)}function Nu(e,t){Wt[e]=Wt[e]||[],Wt[e].push(t)}function Cu(e,t,n){return()=>{n&&n();const r=Wt[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function hE(e){return"duration"in e}function Lr(e){return typeof e=="number"&&isFinite(e)}function Fe(e,t,n,{...r}){const s=I(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),Ys(e,()=>{const i=Lt({startTime:t,...r});return i&&i.end(n),i})}function ci(e){const t=A();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:i}=e,{release:o,environment:a,sendDefaultPii:c}=t.getOptions(),l=t.getIntegrationByName("Replay")?.getReplayId(),d=k(),p=d.getUser(),f=p!==void 0?p.email||p.id||p.ip_address:void 0;let m;try{m=d.getScopeData().contexts.profile.profile_id}catch{}const E={release:o,environment:a,user:f||void 0,profile_id:m||void 0,replay_id:l||void 0,transaction:r,"user_agent.original":S.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...s};return Lt({name:n,attributes:E,startTime:i,experimental:{standalone:!0}})}function ln(){return S.addEventListener&&S.performance}function N(e){return e/1e3}function gE(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function Pu(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Ou(e,t){let n,r=!1;function s(a){!r&&n&&t(a,n),r=!0}Tu(()=>{s("pagehide")});const i=e.on("beforeStartNavigationSpan",(a,c)=>{c?.isRedirect||(s("navigation"),i(),o())}),o=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,o()})}function _E(e){let t=0,n;if(!Pu("layout-shift"))return;const r=ku(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);Ou(e,(s,i)=>{EE(t,n,i,s),r()})}function EE(e,t,n,r){rn&&h.log(`Sending CLS span (${e})`);const s=t?N((Y()||0)+t.startTime):D(),i=k().getScopeData().transactionName,o=t?ne(t.sources[0]?.node):"Layout shift",a={[L]:"auto.http.browser.cls",[Re]:"ui.webvital.cls",[Ot]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,l)=>{a[`cls.source.${l+1}`]=ne(u.node)});const c=ci({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("cls",{[tn]:"",[nn]:e}),c.end(s))}function SE(e){let t=0,n;if(!Pu("largest-contentful-paint"))return;const r=wu(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);Ou(e,(s,i)=>{yE(t,n,i,s),r()})}function yE(e,t,n,r){rn&&h.log(`Sending LCP span (${e})`);const s=N((Y()||0)+(t?.startTime||0)),i=k().getScopeData().transactionName,o=t?ne(t.element):"Largest contentful paint",a={[L]:"auto.http.browser.lcp",[Re]:"ui.webvital.lcp",[Ot]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=ne(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=ci({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("lcp",{[tn]:"millisecond",[nn]:e}),c.end(s))}function Z(e){return e&&((Y()||performance.timeOrigin)+e)/1e3}function Mu(e){const t={};if(e.nextHopProtocol!=null){const{name:n,version:r}=gE(e.nextHopProtocol);t["network.protocol.version"]=r,t["network.protocol.name"]=n}return Y()||ln()?.timeOrigin?TE({...t,"http.request.redirect_start":Z(e.redirectStart),"http.request.redirect_end":Z(e.redirectEnd),"http.request.worker_start":Z(e.workerStart),"http.request.fetch_start":Z(e.fetchStart),"http.request.domain_lookup_start":Z(e.domainLookupStart),"http.request.domain_lookup_end":Z(e.domainLookupEnd),"http.request.connect_start":Z(e.connectStart),"http.request.secure_connection_start":Z(e.secureConnectionStart),"http.request.connection_end":Z(e.connectEnd),"http.request.request_start":Z(e.requestStart),"http.request.response_start":Z(e.responseStart),"http.request.response_end":Z(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function TE(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const bE=2147483647;let Uo=0,ae={},W,Xn;function vE({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=ln();if(r&&Y()){r.mark&&S.performance.mark("sentry-tracing-init");const s=t?SE(n):wE(),i=NE(),o=e?_E(n):kE();return()=>{s?.(),i(),o?.()}}return()=>{}}function IE(){vt("longtask",({entries:e})=>{const t=J();if(!t)return;const{op:n,start_timestamp:r}=I(t);for(const s of e){const i=N(Y()+s.startTime),o=N(s.duration);n==="navigation"&&r&&i<r||Fe(t,i,i+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[L]:"auto.ui.browser.metrics"}})}})}function RE(){new PerformanceObserver(t=>{const n=J();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=N(Y()+r.startTime),{start_timestamp:i,op:o}=I(n);if(o==="navigation"&&i&&s<i)continue;const a=N(r.duration),c={[L]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:l,invokerType:d,sourceURL:p,sourceFunctionName:f,sourceCharPosition:m}=u;c["browser.script.invoker"]=l,c["browser.script.invoker_type"]=d,p&&(c["code.filepath"]=p),f&&(c["code.function"]=f),m!==-1&&(c["browser.script.source_char_position"]=m),Fe(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function AE(){vt("event",({entries:e})=>{const t=J();if(t){for(const n of e)if(n.name==="click"){const r=N(Y()+n.startTime),s=N(n.duration),i={name:ne(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[L]:"auto.ui.browser.metrics"}},o=Ec(n.target);o&&(i.attributes["ui.component_name"]=o),Fe(t,r,r+s,i)}}})}function kE(){return ku(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ae.cls={value:e.value,unit:""},Xn=t)},!0)}function wE(){return wu(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ae.lcp={value:e.value,unit:"millisecond"},W=t)},!0)}function NE(){return cE(({metric:e})=>{e.entries[e.entries.length-1]&&(ae.ttfb={value:e.value,unit:"millisecond"})})}function CE(e,t){const n=ln(),r=Y();if(!n?.getEntries||!r)return;const s=N(r),i=n.getEntries(),{op:o,start_timestamp:a}=I(e);i.slice(Uo).forEach(c=>{const u=N(c.startTime),l=N(Math.max(0,c.duration));if(!(o==="navigation"&&a&&s+u<a))switch(c.entryType){case"navigation":{LE(e,c,s);break}case"mark":case"paint":case"measure":{OE(e,c,u,l,s,t.ignorePerformanceApiSpans);const d=an(),p=c.startTime<d.firstHiddenTime;c.name==="first-paint"&&p&&(ae.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&p&&(ae.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{FE(e,c,c.name,u,l,s,t.ignoreResourceSpans);break}}}),Uo=Math.max(i.length-1,0),$E(e),o==="pageload"&&(HE(ae),t.recordClsOnPageloadSpan||delete ae.cls,t.recordLcpOnPageloadSpan||delete ae.lcp,Object.entries(ae).forEach(([c,u])=>{Sh(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",Dt()),UE(e,t)),W=void 0,Xn=void 0,ae={}}function PE(e){if(e?.entryType==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function OE(e,t,n,r,s,i){if(PE(t)||["mark","measure"].includes(t.entryType)&&Oe(t.name,i))return;const o=on(!1),a=N(o?o.requestStart:0),c=s+Math.max(n,a),u=s+n,l=u+r,d={[L]:"auto.resource.browser.metrics"};c!==u&&(d["sentry.browser.measure_happened_before_request"]=!0,d["sentry.browser.measure_start_time"]=c),ME(d,t),c<=l&&Fe(e,c,l,{name:t.name,op:t.entryType,attributes:d})}function ME(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&_t(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(_t(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function LE(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{Tn(e,t,r,n)}),Tn(e,t,"secureConnection",n,"TLS/SSL"),Tn(e,t,"fetch",n,"cache"),Tn(e,t,"domainLookup",n,"DNS"),xE(e,t,n)}function Tn(e,t,n,r,s=n){const i=DE(n),o=t[i],a=t[`${n}Start`];!a||!o||Fe(e,r+N(a),r+N(o),{op:`browser.${s}`,name:t.name,attributes:{[L]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function DE(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function xE(e,t,n){const r=n+N(t.requestStart),s=n+N(t.responseEnd),i=n+N(t.responseStart);t.responseEnd&&(Fe(e,r,s,{op:"browser.request",name:t.name,attributes:{[L]:"auto.ui.browser.metrics"}}),Fe(e,i,s,{op:"browser.response",name:t.name,attributes:{[L]:"auto.ui.browser.metrics"}}))}function FE(e,t,n,r,s,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o?.includes(a))return;const c={[L]:"auto.resource.browser.metrics"},u=Ye(n);u.protocol&&(c["url.scheme"]=u.protocol.split(":").pop()),u.host&&(c["server.address"]=u.host),c["url.same_origin"]=n.includes(S.location.origin),BE(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const l={...c,...Mu(t)},d=i+r,p=d+s;Fe(e,d,p,{name:n.replace(S.location.origin,""),op:a,attributes:l})}function $E(e){const t=S.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Lr(n.rtt)&&(ae["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Lr(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Lr(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function UE(e,t){W&&t.recordLcpOnPageloadSpan&&(W.element&&e.setAttribute("lcp.element",ne(W.element)),W.id&&e.setAttribute("lcp.id",W.id),W.url&&e.setAttribute("lcp.url",W.url.trim().slice(0,200)),W.loadTime!=null&&e.setAttribute("lcp.loadTime",W.loadTime),W.renderTime!=null&&e.setAttribute("lcp.renderTime",W.renderTime),e.setAttribute("lcp.size",W.size)),Xn?.sources&&t.recordClsOnPageloadSpan&&Xn.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,ne(n.node)))}function BE(e,t,n){n.forEach(([r,s])=>{const i=e[r];i!=null&&(typeof i=="number"&&i<bE||typeof i=="string")&&(t[s]=i)})}function HE(e){const t=on(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function qE(){return ln()&&Y()?vt("element",jE):()=>{}}const jE=({entries:e})=>{const t=J(),n=t?j(t):void 0,r=n?I(n).description:k().getScopeData().transactionName;e.forEach(s=>{const i=s;if(!i.identifier)return;const o=i.name,a=i.renderTime,c=i.loadTime,[u,l]=c?[N(c),"load-time"]:a?[N(a),"render-time"]:[D(),"entry-emission"],d=o==="image-paint"?N(Math.max(0,(a??0)-(c??0))):0,p={[L]:"auto.ui.browser.elementtiming",[Re]:"ui.elementtiming",[fe]:"component","sentry.span_start_time_source":l,"sentry.transaction_name":r,"element.id":i.id,"element.type":i.element?.tagName?.toLowerCase()||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":o};Rh({name:`element[${i.identifier}]`,attributes:p,startTime:u,onlyIfParent:!0},f=>{f.end(u+d)})})},WE=1e3;let Bo,ls,ds;function VE(e){$e("dom",e),Ue("dom",zE)}function zE(){if(!S.document)return;const e=ee.bind(null,"dom"),t=Ho(e,!0);S.document.addEventListener("click",t,!1),S.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const s=S[n]?.prototype;s?.hasOwnProperty?.("addEventListener")&&(K(s,"addEventListener",function(i){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},l=u[o]=u[o]||{refCount:0};if(!l.handler){const d=Ho(e);l.handler=d,i.call(this,o,d,c)}l.refCount++}catch{}return i.call(this,o,a,c)}}),K(s,"removeEventListener",function(i){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},l=u[o];l&&(l.refCount--,l.refCount<=0&&(i.call(this,o,l.handler,c),l.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,c)}}))})}function GE(e){if(e.type!==ls)return!1;try{if(!e.target||e.target._sentryId!==ds)return!1}catch{}return!0}function KE(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Ho(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=XE(n);if(KE(n.type,r))return;X(n,"_sentryCaptured",!0),r&&!r._sentryId&&X(r,"_sentryId",te());const s=n.type==="keypress"?"input":n.type;GE(n)||(e({event:n,name:s,global:t}),ls=n.type,ds=r?r._sentryId:void 0),clearTimeout(Bo),Bo=S.setTimeout(()=>{ds=void 0,ls=void 0},WE)}}function XE(e){try{return e.target}catch{return null}}let bn;function ui(e){const t="history";$e(t,e),Ue(t,YE)}function YE(){if(S.addEventListener("popstate",()=>{const t=S.location.href,n=bn;if(bn=t,n===t)return;ee("history",{from:n,to:t})}),!g_())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=bn,i=JE(String(r));if(bn=i,s===i)return t.apply(this,n);ee("history",{from:s,to:i})}return t.apply(this,n)}}K(S.history,"pushState",e),K(S.history,"replaceState",e)}function JE(e){try{return new URL(e,S.location.origin).toString()}catch{return e}}const Ln={};function ZE(e){const t=Ln[e];if(t)return t;let n=S[e];if(is(n))return Ln[e]=n.bind(S);const r=S.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(s)}catch(s){rn&&h.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Ln[e]=n.bind(S))}function QE(e){Ln[e]=void 0}const lt="__sentry_xhr_v3__";function Lu(e){$e("xhr",e),Ue("xhr",eS)}function eS(){if(!S.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=D()*1e3,o=Se(r[0])?r[0].toUpperCase():void 0,a=tS(r[1]);if(!o||!a)return t.apply(n,r);n[lt]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[lt];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const l={endTimestamp:D()*1e3,startTimestamp:i,xhr:n,virtualError:s};ee("xhr",l)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,l,d){return c(),u.apply(l,d)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,l,d){const[p,f]=d,m=l[lt];return m&&Se(p)&&Se(f)&&(m.request_headers[p.toLowerCase()]=f),u.apply(l,d)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[lt];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:D()*1e3,xhr:n};return ee("xhr",i),t.apply(n,r)}})}function tS(e){if(Se(e))return e;try{return e.toString()}catch{}}function nS(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return rn&&h.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return i&&(n[s.toLowerCase()]=i),n},{}):{}}const Dr=[],Dn=new Map,at=new Map,rS=60;function sS(){if(ln()&&Y()){const t=iS();return()=>{t()}}return()=>{}}const fs={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function iS(){return uE(oS)}const oS=({metric:e})=>{if(e.value==null)return;const t=N(e.value);if(t>rS)return;const n=e.entries.find(m=>m.duration===e.value&&fs[m.name]);if(!n)return;const{interactionId:r}=n,s=fs[n.name],i=N(Y()+n.startTime),o=J(),a=o?j(o):void 0,c=r!=null?Dn.get(r):void 0,u=c?.span||a,l=u?I(u).description:k().getScopeData().transactionName,d=c?.elementName||ne(n.target),p={[L]:"auto.http.browser.inp",[Re]:`ui.interaction.${s}`,[Ot]:n.duration},f=ci({name:d,transaction:l,attributes:p,startTime:i});f&&(f.addEvent("inp",{[tn]:"millisecond",[nn]:e.value}),f.end(i+t))};function aS(){const e=Object.keys(fs);k_()&&e.forEach(s=>{S.addEventListener(s,t,{capture:!0,passive:!0})});function t(s){const i=s.target;if(!i)return;const o=ne(i),a=Math.round(s.timeStamp);if(at.set(a,o),at.size>50){const c=at.keys().next().value;c!==void 0&&at.delete(c)}}function n(s){const i=Math.round(s.startTime);let o=at.get(i);if(!o)for(let a=-5;a<=5;a++){const c=at.get(i+a);if(c){o=c;break}}return o||"<unknown>"}const r=({entries:s})=>{const i=J(),o=i&&j(i);s.forEach(a=>{if(!hE(a))return;const c=a.interactionId;if(c==null||Dn.has(c))return;const u=a.target?ne(a.target):n(a);if(Dr.length>10){const l=Dr.shift();Dn.delete(l)}Dr.push(c),Dn.set(c,{span:o,elementName:u})})};vt("event",r),vt("first-input",r)}const cS=40;function uS(e,t=ZE("fetch")){let n=0,r=0;async function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const c=await t(e.url,a);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw QE("fetch"),c}finally{n-=o,r--}}return yg(e,s,ei(e.bufferSize||cS))}const re=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,lS=30,dS=50;function ps(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?tt:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const fS=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,pS=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,mS=/\((\S*)(?::(\d+))(?::(\d+))\)/,hS=/at (.+?) ?\(data:(.+?),/,gS=e=>{const t=e.match(hS);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=fS.exec(e);if(n){const[,s,i,o]=n;return ps(s,tt,+i,+o)}const r=pS.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=mS.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[i,o]=Du(r[1]||tt,r[2]);return ps(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},_S=[lS,gS],ES=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,SS=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,yS=e=>{const t=ES.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=SS.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||tt;return[s,r]=Du(s,r),ps(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},TS=[dS,yS],bS=[_S,TS],vS=dc(...bS),Du=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:tt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},vn=1024,IS="Breadcrumbs",RS=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:IS,setup(n){t.console&&e_(NS(n)),t.dom&&VE(wS(n,t.dom)),t.xhr&&Lu(CS(n)),t.fetch&&pu(PS(n)),t.history&&ui(OS(n)),t.sentry&&n.on("beforeSendEvent",kS(n))}}}),AS=RS;function kS(e){return function(n){A()===e&&nt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Ve(n)},{event:n})}}function wS(e,t){return function(r){if(A()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>vn&&(re&&h.warn(`\`dom.maxStringLength\` cannot exceed ${vn}, but a value of ${a} was configured. Sentry will use ${vn} instead.`),a=vn),typeof o=="string"&&(o=[o]);try{const u=r.event,l=MS(u)?u.target:u;s=ne(l,{keyAttrs:o,maxStringLength:a}),i=Ec(l)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),nt(c,{event:r.event,name:r.name,global:r.global})}}function NS(e){return function(n){if(A()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:n_(n.level),message:Zi(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Zi(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;nt(r,{input:n.args,level:n.level})}}function CS(e){return function(n){if(A()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[lt];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,l={method:o,url:a,status_code:c},d={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},p={category:"xhr",data:l,type:"http",level:fu(c)};e.emit("beforeOutgoingRequestBreadcrumb",p,d),nt(p,d)}}function PS(e){return function(n){if(A()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),nt(a,o)}else{const i=n.response,o={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;const a={input:n.args,response:i,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:o,type:"http",level:fu(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),nt(c,a)}}}function OS(e){return function(n){if(A()!==e)return;let r=n.from,s=n.to;const i=Ye(T.location.href);let o=r?Ye(r):void 0;const a=Ye(s);o?.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),nt({category:"navigation",data:{from:r,to:s}})}}function MS(e){return!!e&&!!e.target}const LS=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],DS="BrowserApiErrors",xS=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:DS,setupOnce(){t.setTimeout&&K(T,"setTimeout",qo),t.setInterval&&K(T,"setInterval",qo),t.requestAnimationFrame&&K(T,"requestAnimationFrame",$S),t.XMLHttpRequest&&"XMLHttpRequest"in T&&K(XMLHttpRequest.prototype,"send",US);const n=t.eventTarget;n&&(Array.isArray(n)?n:LS).forEach(s=>BS(s,t))}}}),FS=xS;function qo(e){return function(...t){const n=t[0];return t[0]=bt(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${be(e)}`}}),e.apply(this,t)}}function $S(e){return function(t){return e.apply(this,[bt(t,{mechanism:{data:{handler:be(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function US(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&K(n,s,function(i){const o={mechanism:{data:{handler:be(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},a=js(i);return a&&(o.mechanism.data.handler=be(a)),bt(i,o)})}),e.apply(this,t)}}function BS(e,t){const r=T[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(K(r,"addEventListener",function(s){return function(i,o,a){try{HS(o)&&(o.handleEvent=bt(o.handleEvent,{mechanism:{data:{handler:be(o),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&qS(this,i,o),s.apply(this,[i,bt(o,{mechanism:{data:{handler:be(o),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),a])}}),K(r,"removeEventListener",function(s){return function(i,o,a){try{const c=o.__sentry_wrapped__;c&&s.call(this,i,c,a)}catch{}return s.call(this,i,o,a)}}))}function HS(e){return typeof e.handleEvent=="function"}function qS(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const jS=()=>({name:"BrowserSession",setupOnce(){if(typeof T.document>"u"){re&&h.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}To({ignoreDuration:!0}),bo(),ui(({from:e,to:t})=>{e!==void 0&&e!==t&&(To({ignoreDuration:!0}),bo())})}}),WS="GlobalHandlers",VS=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:WS,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(GS(n),jo("onerror")),t.onunhandledrejection&&(KS(n),jo("onunhandledrejection"))}}}),zS=VS;function GS(e){pc(t=>{const{stackParser:n,attachStacktrace:r}=xu();if(A()!==e||hu())return;const{msg:s,url:i,line:o,column:a,error:c}=t,u=JS(si(n,c||s,void 0,r,!1),i,o,a);u.level="error",zc(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function KS(e){mc(t=>{const{stackParser:n,attachStacktrace:r}=xu();if(A()!==e||hu())return;const s=XS(t),i=_t(s)?YS(s):si(n,s,void 0,r,!0);i.level="error",zc(i,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function XS(e){if(_t(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function YS(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function JS(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=r,l=n,d=ZS(t)??Qt();return c.length===0&&c.push({colno:u,filename:d,function:tt,in_app:!0,lineno:l}),e}function jo(e){re&&h.log(`Global Handler attached: ${e}`)}function xu(){return A()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function ZS(e){if(!(!Se(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e}}const QS=()=>({name:"HttpContext",preprocessEvent(e){if(!T.navigator&&!T.location&&!T.document)return;const t=ti(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),ey="cause",ty=5,ny="LinkedErrors",ry=((e={})=>{const t=e.limit||ty,n=e.key||ey;return{name:ny,preprocessEvent(r,s,i){const o=i.getOptions();Qg(ni,o.stackParser,n,t,r,s)}}}),sy=ry;function iy(){return oy()?(re&&wt(()=>{}),!0):!1}function oy(){if(typeof T.window>"u")return!1;const e=T;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const n=Qt(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(T===T.top&&r.some(i=>n.startsWith(`${i}://`)))}function ay(e){return[Vg(),Hg(),FS(),AS(),zS(),sy(),i_(),QS(),jS()]}function cy(e={}){const t=!e.skipBrowserExtensionCheck&&iy();let n=e.defaultIntegrations==null?ay():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:Xp(e.stackParser||vS),integrations:ag({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||uS};return Cg(H_,r)}function uy(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Fu(e){try{return new URL(e,T.location.origin).href}catch{return}}function ly(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function $u(e){try{return new Headers(e)}catch{return}}const Wo=new WeakMap,xr=new Map,Uu={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function dy(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:a,onRequestSpanStart:c,onRequestSpanEnd:u}={...Uu,...t},l=typeof i=="function"?i:m=>!0,d=m=>fy(m,a),p={},f=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(m=>(m.type==="transaction"&&m.spans&&m.spans.forEach(E=>{if(E.op==="http.client"){const g=xr.get(E.span_id);g&&(E.timestamp=g/1e3,xr.delete(E.span_id))}}),m)),s&&S_(m=>{if(m.response){const E=Wo.get(m.response);E&&m.endTimestamp&&xr.set(E,m.endTimestamp)}}),pu(m=>{const E=u_(m,l,d,p,{propagateTraceparent:f,onRequestSpanEnd:u});if(m.response&&m.fetchData.__span&&Wo.set(m.response,m.fetchData.__span),E){const g=Fu(m.fetchData.url),C=g?Ye(g).host:void 0;E.setAttributes({"http.url":g,"server.address":C}),o&&Vo(E),c?.(E,{headers:m.headers})}})),r&&Lu(m=>{const E=py(m,l,d,p,f,u);E&&(o&&Vo(E),c?.(E,{headers:$u(m.xhr.__sentry_xhr_v3__?.request_headers)}))})}function Vo(e){const{url:t}=I(e).data;if(!t||typeof t!="string")return;const n=vt("resource",({entries:r})=>{r.forEach(s=>{ly(s)&&s.name.endsWith(t)&&(e.setAttributes(Mu(s)),setTimeout(n))})})}function fy(e,t){const n=Qt();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const i=r.origin===s;return t?Oe(r.toString(),t)||i&&Oe(r.pathname,t):i}else{const r=!!e.match(/^\/(?!\/)/);return t?Oe(e,t):r}}function py(e,t,n,r,s,i){const o=e.xhr,a=o?.[lt];if(!o||o.__sentry_own_request__||!a)return;const{url:c,method:u}=a,l=ue()&&t(c);if(e.endTimestamp&&l){const C=o.__sentry_xhr_span_id__;if(!C)return;const B=r[C];B&&a.status_code!==void 0&&(Ic(B,a.status_code),B.end(),i?.(B,{headers:$u(nS(o)),error:e.error}),delete r[C]);return}const d=Fu(c),p=Ye(d||c),f=Lg(c),m=!!J(),E=l&&m?Lt({name:`${u} ${f}`,attributes:{url:c,type:"xhr","http.method":u,"http.url":d,"server.address":p?.host,[L]:"auto.http.browser",[Re]:"http.client",...p?.search&&{"http.query":p?.search},...p?.hash&&{"http.fragment":p?.hash}}}):new xe;o.__sentry_xhr_span_id__=E.spanContext().spanId,r[o.__sentry_xhr_span_id__]=E,n(c)&&my(o,ue()&&m?E:void 0,s);const g=A();return g&&g.emit("beforeOutgoingRequestSpan",E,e),E}function my(e,t,n){const{"sentry-trace":r,baggage:s,traceparent:i}=uu({span:t,propagateTraceparent:n});r&&hy(e,r,s,i)}function hy(e,t,n,r){const s=e.__sentry_xhr_v3__?.request_headers;if(!(s?.["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!s?.traceparent&&e.setRequestHeader("traceparent",r),n){const i=s?.baggage;(!i||!uy(i))&&e.setRequestHeader("baggage",n)}}catch{}}function gy(){T.document?T.document.addEventListener("visibilitychange",()=>{const e=J();if(!e)return;const t=j(e);if(T.document.hidden&&t){const n="cancelled",{op:r,status:s}=I(t);re&&h.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:P,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):re&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const _y=3600,Bu="sentry_previous_trace",Ey="sentry.previous_trace";function Sy(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?by():void 0;e.on("spanStart",o=>{if(j(o)!==o)return;const a=k().getPropagationContext();s=yy(s,o,a),r&&Ty(s)});let i=!0;n&&e.on("beforeSampling",o=>{if(!s)return;const a=k(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(s.sampleRate),sampled:String(ms(s.spanContext))},sampleRand:s.sampleRand}),o.parentSampled=ms(s.spanContext),o.parentSampleRate=s.sampleRate,o.spanAttributes={...o.spanAttributes,[vc]:s.sampleRate}})}function yy(e,t,n){const r=I(t);function s(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[Ws])}catch{return 0}}const i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return i;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=_y&&(re&&h.log(`Adding previous_trace \`${JSON.stringify(o)}\` link to span \`${JSON.stringify({op:r.op,...t.spanContext()})}\``),t.addLink({context:o,attributes:{[vm]:"previous_trace"}}),t.setAttribute(Ey,`${o.traceId}-${o.spanId}-${ms(o)?1:0}`)),i)}function Ty(e){try{T.sessionStorage.setItem(Bu,JSON.stringify(e))}catch(t){re&&h.warn("Could not store previous trace in sessionStorage",t)}}function by(){try{const e=T.sessionStorage?.getItem(Bu);return JSON.parse(e)}catch{return}}function ms(e){return e.traceFlags===1}const vy="BrowserTracing",Iy={...Cn,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...Uu},Ry=((e={})=>{const t={name:void 0,source:void 0},n=T.document,{enableInp:r,enableElementTiming:s,enableLongTask:i,enableLongAnimationFrame:o,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:l,idleTimeout:d,finalTimeout:p,childSpanTimeout:f,markBackgroundSpan:m,traceFetch:E,traceXHR:g,trackFetchStreamPerformance:C,shouldCreateSpanForRequest:B,enableHTTPTimings:se,ignoreResourceSpans:H,ignorePerformanceApiSpans:Ae,instrumentPageLoad:ke,instrumentNavigation:y,detectRedirects:w,linkPreviousTrace:ot,consistentTraceSampling:dn,enableReportPageLoaded:le,onRequestSpanStart:Ft,onRequestSpanEnd:ge}={...Iy,...e};let x,qe,de;function we(R,F,b=!0){const $=F.op==="pageload",z=F.name,ie=l?l(F):F,je=ie.attributes||{};if(z!==ie.name&&(je[fe]="custom",ie.attributes=je),!b){const $t=st();Lt({...ie,startTime:$t}).end($t);return}t.name=ie.name,t.source=je[fe];const _e=Vc(ie,{idleTimeout:d,finalTimeout:p,childSpanTimeout:f,disableAutoFinish:$,beforeSpanEnd:$t=>{x?.(),CE($t,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:H,ignorePerformanceApiSpans:Ae}),Go(R,void 0);const di=k(),ju=di.getPropagationContext();di.setPropagationContext({...ju,traceId:_e.spanContext().traceId,sampled:He(_e),dsc:De($t)}),$&&(de=void 0)},trimIdleSpanEndTimestamp:!le});$&&le&&(de=_e),Go(R,_e);function li(){n&&["interactive","complete"].includes(n.readyState)&&R.emit("idleSpanEnableAutoFinish",_e)}$&&!le&&n&&(n.addEventListener("readystatechange",()=>{li()}),li())}return{name:vy,setup(R){if(Zm(),x=vE({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:R}),r&&sS(),s&&qE(),o&&v.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?RE():i&&IE(),a&&AE(),w&&n){const b=()=>{qe=D()};addEventListener("click",b,{capture:!0}),addEventListener("keydown",b,{capture:!0,passive:!0})}function F(){const b=Jt(R);b&&!I(b).timestamp&&(re&&h.log(`[Tracing] Finishing current active span with op: ${I(b).op}`),b.setAttribute(Gt,"cancelled"),b.end())}R.on("startNavigationSpan",(b,$)=>{if(A()!==R)return;if($?.isRedirect){re&&h.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),we(R,{op:"navigation.redirect",...b},!1);return}qe=void 0,F(),Be().setPropagationContext({traceId:Ie(),sampleRand:Math.random(),propagationSpanId:ue()?void 0:ye()});const z=k();z.setPropagationContext({traceId:Ie(),sampleRand:Math.random(),propagationSpanId:ue()?void 0:ye()}),z.setSDKProcessingMetadata({normalizedRequest:void 0}),we(R,{op:"navigation",...b,parentSpan:null,forceTransaction:!0})}),R.on("startPageLoadSpan",(b,$={})=>{if(A()!==R)return;F();const z=$.sentryTrace||zo("sentry-trace"),ie=$.baggage||zo("baggage"),je=jm(z,ie),_e=k();_e.setPropagationContext(je),ue()||(_e.getPropagationContext().propagationSpanId=ye()),_e.setSDKProcessingMetadata({normalizedRequest:ti()}),we(R,{op:"pageload",...b})}),R.on("endPageloadSpan",()=>{le&&de&&(de.setAttribute(Gt,"reportPageLoaded"),de.end())})},afterAllSetup(R){let F=Qt();if(ot!=="off"&&Sy(R,{linkPreviousTrace:ot,consistentTraceSampling:dn}),T.location){if(ke){const b=Y();Ay(R,{name:T.location.pathname,startTime:b?b/1e3:void 0,attributes:{[fe]:"url",[L]:"auto.pageload.browser"}})}y&&ui(({to:b,from:$})=>{if($===void 0&&F?.indexOf(b)!==-1){F=void 0;return}F=void 0;const z=au(b),ie=Jt(R),je=ie&&w&&Ny(ie,qe);ky(R,{name:z?.pathname||T.location.pathname,attributes:{[fe]:"url",[L]:"auto.navigation.browser"}},{url:b,isRedirect:je})})}m&&gy(),a&&wy(R,d,p,f,t),r&&aS(),dy(R,{traceFetch:E,traceXHR:g,trackFetchStreamPerformance:C,tracePropagationTargets:R.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:B,enableHTTPTimings:se,onRequestSpanStart:Ft,onRequestSpanEnd:ge})}}});function Ay(e,t,n){e.emit("startPageLoadSpan",t,n),k().setTransactionName(t.name);const r=Jt(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function ky(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const i=k();return i.setTransactionName(t.name),r&&!s&&i.setSDKProcessingMetadata({normalizedRequest:{...ti(),url:r}}),Jt(e)}function zo(e){return T.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function wy(e,t,n,r,s){const i=T.document;let o;const a=()=>{const c="ui.action.click",u=Jt(e);if(u){const l=I(u).op;if(["navigation","pageload"].includes(l)){re&&h.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(Gt,"interactionInterrupted"),o.end(),o=void 0),!s.name){re&&h.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}o=Vc({name:s.name,op:c,attributes:{[fe]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{capture:!0})}const Hu="_sentry_idleSpan";function Jt(e){return e[Hu]}function Go(e,t){X(e,Hu,t)}const Ko=1.5;function Ny(e,t){const n=I(e),r=st(),s=n.start_timestamp;return!(r-s>Ko||t&&r-t<=Ko)}function Cy(e){const t={...e};return cu(t,"react"),Qh("react",{version:_s.version}),cy(t)}const qu=Vu("GoogleAuth",{web:()=>Fr(()=>import("./web-BqBRuY4Y.js"),__vite__mapDeps([0,1]),import.meta.url).then(e=>new e.GoogleAuthWeb)});function Py(){qu.initialize({clientId:"852428184810-eh4ojd3kj5ssvia7o54iteamk2sub31o.apps.googleusercontent.com",scopes:["profile","email"],grantOfflineAccess:!0,forceWebView:!0})}async function Hy(){try{const e=await qu.signIn(),t=e.authentication.idToken,n=e.authentication.accessToken,r=dl.credential(t,n),s=Qo(),i=await fl(s,r)}catch{}}Cy({dsn:"https://2a980add45c1a46d6284b4aff8acc727@o4510675590381568.ingest.us.sentry.io/4510675597000704",integrations:[Ry()],tracePropagationTargets:["localhost",/^https:\/\/yourserver\.io\/api/],tracesSampleRate:1,environment:"production"});async function Oy(){try{await Ld()}catch{}Py();const{default:e}=await Fr(async()=>{const{default:t}=await import("./App-Bs6YIlvy.js").then(n=>n.k);return{default:t}},__vite__mapDeps([2,1,3,4,5]),import.meta.url);El.createRoot(document.getElementById("root")).render(mi.jsx(ea.StrictMode,{children:mi.jsx(e,{})}));try{Hp()}catch{}try{const{initForegroundHandler:t}=await Fr(async()=>{const{initForegroundHandler:n}=await import("./foregroundHandler-B7edinrL.js");return{initForegroundHandler:n}},__vite__mapDeps([6,1,7,4,3]),import.meta.url);t()}catch{}}Oy();"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{}).catch(e=>{})});export{ea as R,Fy as a,xy as b,Zh as c,$y as d,Rt as e,Uy as f,Py as i,mi as j,_s as r,Hy as s,By as t};
