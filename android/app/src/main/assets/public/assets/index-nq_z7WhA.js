const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./App-COUbzzsB.js","./vendor-capacitor-rvH5hiNU.js","./vendor-firebase-D1NEqzdz.js","./vendor-react-1wgkHQEd.js","./App-CEi_s2iG.css","./foregroundHandler-C__2VKAt.js","./firebaseCache-C_csZa1c.js"])))=>i.map(i=>d[i]);
import{_ as Ws}from"./vendor-capacitor-rvH5hiNU.js";import{r as Io,g as Ro,a as iu}from"./vendor-react-1wgkHQEd.js";import{r as ut,_ as An,C as wn,a as Hn,E as Ao,o as ou,F as wo,L as au,b as cu,v as uu,c as du,i as lu,g as Qr,d as es,S as fu,e as pu,f as mu,h as hu,p as gu,u as _u,j as Su,k as Eu,l as yu,m as Tu,n as bu,q as vu}from"./vendor-firebase-D1NEqzdz.js";function Iu(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qn={exports:{}},Pt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zs;function Ru(){if(zs)return Pt;zs=1;var e=Io(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,c,u){var d,l={},p=null,f=null;u!==void 0&&(p=""+u),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(f=c.ref);for(d in c)r.call(c,d)&&!i.hasOwnProperty(d)&&(l[d]=c[d]);if(a&&a.defaultProps)for(d in c=a.defaultProps,c)l[d]===void 0&&(l[d]=c[d]);return{$$typeof:t,type:a,key:p,ref:f,props:l,_owner:s.current}}return Pt.Fragment=n,Pt.jsx=o,Pt.jsxs=o,Pt}var Gs;function Au(){return Gs||(Gs=1,Qn.exports=Ru()),Qn.exports}var Ks=Au(),ts=Io();const No=Ro(ts),nE=Iu({__proto__:null,default:No},[ts]);var rn={},Ys;function wu(){if(Ys)return rn;Ys=1;var e=iu();return rn.createRoot=e.createRoot,rn.hydrateRoot=e.hydrateRoot,rn}var Nu=wu();const ku=Ro(Nu);var Ir,Xs,qn=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},ko=function(e){if(document.readyState==="loading")return"loading";var t=qn();if(t){if(e<t.domInteractive)return"loading";if(t.domContentLoadedEventStart===0||e<t.domContentLoadedEventStart)return"dom-interactive";if(t.domComplete===0||e<t.domComplete)return"dom-content-loaded"}return"complete"},Cu=function(e){var t=e.nodeName;return e.nodeType===1?t.toLowerCase():t.toUpperCase().replace(/^#/,"")},ns=function(e,t){var n="";try{for(;e&&e.nodeType!==9;){var r=e,s=r.id?"#"+r.id:Cu(r)+(r.classList&&r.classList.value&&r.classList.value.trim()&&r.classList.value.trim().length?"."+r.classList.value.trim().replace(/\s+/g,"."):"");if(n.length+s.length>(t||100)-1)return n||s;if(n=n?s+">"+n:s,r.id)break;e=r.parentNode}}catch{}return n},Co=-1,Pu=function(){return Co},jt=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Co=t.timeStamp,e(t))}),!0)},rs=function(){var e=qn();return e&&e.activationStart||0},Ce=function(e,t){var n=qn(),r="navigate";return Pu()>=0?r="back-forward-cache":n&&(document.prerendering||rs()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},St=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(s){Promise.resolve().then((function(){t(s.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},Pe=function(e,t,n,r){var s,i;return function(o){t.value>=0&&(o||r)&&((i=t.value-(s||0))||s===void 0)&&(s=t.value,t.delta=i,t.rating=(function(a,c){return a>c[1]?"poor":a>c[0]?"needs-improvement":"good"})(t.value,n),e(t))}},ss=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},jn=function(e){document.addEventListener("visibilitychange",(function(){document.visibilityState==="hidden"&&e()}))},is=function(e){var t=!1;return function(){t||(e(),t=!0)}},st=-1,Js=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},Nn=function(e){document.visibilityState==="hidden"&&st>-1&&(st=e.type==="visibilitychange"?e.timeStamp:0,Ou())},Zs=function(){addEventListener("visibilitychange",Nn,!0),addEventListener("prerenderingchange",Nn,!0)},Ou=function(){removeEventListener("visibilitychange",Nn,!0),removeEventListener("prerenderingchange",Nn,!0)},Po=function(){return st<0&&(st=Js(),Zs(),jt((function(){setTimeout((function(){st=Js(),Zs()}),0)}))),{get firstHiddenTime(){return st}}},os=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Qs=[1800,3e3],Mu=function(e,t){t=t||{},os((function(){var n,r=Po(),s=Ce("FCP"),i=St("paint",(function(o){o.forEach((function(a){a.name==="first-contentful-paint"&&(i.disconnect(),a.startTime<r.firstHiddenTime&&(s.value=Math.max(a.startTime-rs(),0),s.entries.push(a),n(!0)))}))}));i&&(n=Pe(e,s,Qs,t.reportAllChanges),jt((function(o){s=Ce("FCP"),n=Pe(e,s,Qs,t.reportAllChanges),ss((function(){s.value=performance.now()-o.timeStamp,n(!0)}))})))}))},ei=[.1,.25],Lu=function(e,t){(function(n,r){r=r||{},Mu(is((function(){var s,i=Ce("CLS",0),o=0,a=[],c=function(d){d.forEach((function(l){if(!l.hadRecentInput){var p=a[0],f=a[a.length-1];o&&l.startTime-f.startTime<1e3&&l.startTime-p.startTime<5e3?(o+=l.value,a.push(l)):(o=l.value,a=[l])}})),o>i.value&&(i.value=o,i.entries=a,s())},u=St("layout-shift",c);u&&(s=Pe(n,i,ei,r.reportAllChanges),jn((function(){c(u.takeRecords()),s(!0)})),jt((function(){o=0,i=Ce("CLS",0),s=Pe(n,i,ei,r.reportAllChanges),ss((function(){return s()}))})),setTimeout(s,0))})))})((function(n){var r=(function(s){var i,o={};if(s.entries.length){var a=s.entries.reduce((function(u,d){return u&&u.value>d.value?u:d}));if(a&&a.sources&&a.sources.length){var c=(i=a.sources).find((function(u){return u.node&&u.node.nodeType===1}))||i[0];c&&(o={largestShiftTarget:ns(c.node),largestShiftTime:a.startTime,largestShiftValue:a.value,largestShiftSource:c,largestShiftEntry:a,loadState:ko(a.startTime)})}}return Object.assign(s,{attribution:o})})(n);e(r)}),t)},Oo=0,er=1/0,sn=0,xu=function(e){e.forEach((function(t){t.interactionId&&(er=Math.min(er,t.interactionId),sn=Math.max(sn,t.interactionId),Oo=sn?(sn-er)/7+1:0)}))},Mo=function(){return Ir?Oo:performance.interactionCount||0},Du=function(){"interactionCount"in performance||Ir||(Ir=St("event",xu,{type:"event",buffered:!0,durationThreshold:0}))},se=[],Mt=new Map,Lo=0,Fu=function(){var e=Math.min(se.length-1,Math.floor((Mo()-Lo)/50));return se[e]},xo=[],Uu=function(e){if(xo.forEach((function(s){return s(e)})),e.interactionId||e.entryType==="first-input"){var t=se[se.length-1],n=Mt.get(e.interactionId);if(n||se.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};Mt.set(r.id,r),se.push(r)}se.sort((function(s,i){return i.latency-s.latency})),se.length>10&&se.splice(10).forEach((function(s){return Mt.delete(s.id)}))}}},as=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=is(e),document.visibilityState==="hidden"?e():(n=t(e),jn(e)),n},ti=[200,500],$u=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},os((function(){var n;Du();var r,s=Ce("INP"),i=function(a){as((function(){a.forEach(Uu);var c=Fu();c&&c.latency!==s.value&&(s.value=c.latency,s.entries=c.entries,r())}))},o=St("event",i,{durationThreshold:(n=t.durationThreshold)!==null&&n!==void 0?n:40});r=Pe(e,s,ti,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),jn((function(){i(o.takeRecords()),r(!0)})),jt((function(){Lo=Mo(),se.length=0,Mt.clear(),s=Ce("INP"),r=Pe(e,s,ti,t.reportAllChanges)})))})))},ot=[],Ne=[],Rr=0,cs=new WeakMap,at=new Map,Ar=-1,Bu=function(e){ot=ot.concat(e),Do()},Do=function(){Ar<0&&(Ar=as(Hu))},Hu=function(){at.size>10&&at.forEach((function(o,a){Mt.has(a)||at.delete(a)}));var e=se.map((function(o){return cs.get(o.entries[0])})),t=Ne.length-50;Ne=Ne.filter((function(o,a){return a>=t||e.includes(o)}));for(var n=new Set,r=0;r<Ne.length;r++){var s=Ne[r];Fo(s.startTime,s.processingEnd).forEach((function(o){n.add(o)}))}var i=ot.length-1-50;ot=ot.filter((function(o,a){return o.startTime>Rr&&a>i||n.has(o)})),Ar=-1};xo.push((function(e){e.interactionId&&e.target&&!at.has(e.interactionId)&&at.set(e.interactionId,e.target)}),(function(e){var t,n=e.startTime+e.duration;Rr=Math.max(Rr,e.processingEnd);for(var r=Ne.length-1;r>=0;r--){var s=Ne[r];if(Math.abs(n-s.renderTime)<=8){(t=s).startTime=Math.min(e.startTime,t.startTime),t.processingStart=Math.min(e.processingStart,t.processingStart),t.processingEnd=Math.max(e.processingEnd,t.processingEnd),t.entries.push(e);break}}t||(t={startTime:e.startTime,processingStart:e.processingStart,processingEnd:e.processingEnd,renderTime:n,entries:[e]},Ne.push(t)),(e.interactionId||e.entryType==="first-input")&&cs.set(e,t),Do()}));var Fo=function(e,t){for(var n,r=[],s=0;n=ot[s];s++)if(!(n.startTime+n.duration<e)){if(n.startTime>t)break;r.push(n)}return r},qu=function(e,t){Xs||(Xs=St("long-animation-frame",Bu)),$u((function(n){var r=(function(s){var i=s.entries[0],o=cs.get(i),a=i.processingStart,c=o.processingEnd,u=o.entries.sort((function(g,N){return g.processingStart-N.processingStart})),d=Fo(i.startTime,c),l=s.entries.find((function(g){return g.target})),p=l&&l.target||at.get(i.interactionId),f=[i.startTime+i.duration,c].concat(d.map((function(g){return g.startTime+g.duration}))),m=Math.max.apply(Math,f),S={interactionTarget:ns(p),interactionTargetElement:p,interactionType:i.name.startsWith("key")?"keyboard":"pointer",interactionTime:i.startTime,nextPaintTime:m,processedEventEntries:u,longAnimationFrameEntries:d,inputDelay:a-i.startTime,processingDuration:c-a,presentationDelay:Math.max(m-c,0),loadState:ko(i.startTime)};return Object.assign(s,{attribution:S})})(n);e(r)}),t)},ni=[2500,4e3],tr={},ju=function(e,t){(function(n,r){r=r||{},os((function(){var s,i=Po(),o=Ce("LCP"),a=function(d){r.reportAllChanges||(d=d.slice(-1)),d.forEach((function(l){l.startTime<i.firstHiddenTime&&(o.value=Math.max(l.startTime-rs(),0),o.entries=[l],s())}))},c=St("largest-contentful-paint",a);if(c){s=Pe(n,o,ni,r.reportAllChanges);var u=is((function(){tr[o.id]||(a(c.takeRecords()),c.disconnect(),tr[o.id]=!0,s(!0))}));["keydown","click"].forEach((function(d){addEventListener(d,(function(){return as(u)}),{once:!0,capture:!0})})),jn(u),jt((function(d){o=Ce("LCP"),s=Pe(n,o,ni,r.reportAllChanges),ss((function(){o.value=performance.now()-d.timeStamp,tr[o.id]=!0,s(!0)}))}))}}))})((function(n){var r=(function(s){var i={timeToFirstByte:0,resourceLoadDelay:0,resourceLoadDuration:0,elementRenderDelay:s.value};if(s.entries.length){var o=qn();if(o){var a=o.activationStart||0,c=s.entries[s.entries.length-1],u=c.url&&performance.getEntriesByType("resource").filter((function(m){return m.name===c.url}))[0],d=Math.max(0,o.responseStart-a),l=Math.max(d,u?(u.requestStart||u.startTime)-a:0),p=Math.max(l,u?u.responseEnd-a:0),f=Math.max(p,c.startTime-a);i={element:ns(c.element),timeToFirstByte:d,resourceLoadDelay:l-d,resourceLoadDuration:p-l,elementRenderDelay:f-p,navigationEntry:o,lcpEntry:c},c.url&&(i.url=c.url),u&&(i.lcpResourceEntry=u)}}return Object.assign(s,{attribution:i})})(n);e(r)}),t)};const Uo="@firebase/installations",us="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=1e4,Bo=`w:${us}`,Ho="FIS_v2",Vu="https://firebaseinstallations.googleapis.com/v1",Wu=3600*1e3,zu="installations",Gu="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ye=new Ao(zu,Gu,Ku);function qo(e){return e instanceof wo&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jo({projectId:e}){return`${Vu}/projects/${e}/installations`}function Vo(e){return{token:e.token,requestStatus:2,expiresIn:Xu(e.expiresIn),creationTime:Date.now()}}async function Wo(e,t){const r=(await t.json()).error;return Ye.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zo({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Yu(e,{refreshToken:t}){const n=zo(e);return n.append("Authorization",Ju(t)),n}async function Go(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Xu(e){return Number(e.replace("s","000"))}function Ju(e){return`${Ho} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zu({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=jo(e),s=zo(e),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:Ho,appId:e.appId,sdkVersion:Bo},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await Go(()=>fetch(r,a));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Vo(u.authToken)}}else throw await Wo("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=/^[cdef][\w-]{21}$/,wr="";function td(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=nd(e);return ed.test(n)?n:wr}catch{return wr}}function nd(e){return Qu(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Map;function Xo(e,t){const n=Vn(e);Jo(n,t),rd(n,t)}function Jo(e,t){const n=Yo.get(e);if(n)for(const r of n)r(t)}function rd(e,t){const n=sd();n&&n.postMessage({key:e,fid:t}),id()}let je=null;function sd(){return!je&&"BroadcastChannel"in self&&(je=new BroadcastChannel("[Firebase] FID Change"),je.onmessage=e=>{Jo(e.data.key,e.data.fid)}),je}function id(){Yo.size===0&&je&&(je.close(),je=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="firebase-installations-database",ad=1,Xe="firebase-installations-store";let nr=null;function ds(){return nr||(nr=ou(od,ad,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Xe)}}})),nr}async function kn(e,t){const n=Vn(e),s=(await ds()).transaction(Xe,"readwrite"),i=s.objectStore(Xe),o=await i.get(n);return await i.put(t,n),await s.done,(!o||o.fid!==t.fid)&&Xo(e,t.fid),t}async function Zo(e){const t=Vn(e),r=(await ds()).transaction(Xe,"readwrite");await r.objectStore(Xe).delete(t),await r.done}async function Wn(e,t){const n=Vn(e),s=(await ds()).transaction(Xe,"readwrite"),i=s.objectStore(Xe),o=await i.get(n),a=t(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&Xo(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ls(e){let t;const n=await Wn(e.appConfig,r=>{const s=cd(r),i=ud(e,s);return t=i.registrationPromise,i.installationEntry});return n.fid===wr?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function cd(e){const t=e||{fid:td(),registrationStatus:0};return Qo(t)}function ud(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ye.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=dd(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:ld(e)}:{installationEntry:t}}async function dd(e,t){try{const n=await Zu(e,t);return kn(e.appConfig,n)}catch(n){throw qo(n)&&n.customData.serverCode===409?await Zo(e.appConfig):await kn(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function ld(e){let t=await ri(e.appConfig);for(;t.registrationStatus===1;)await Ko(100),t=await ri(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await ls(e);return r||n}return t}function ri(e){return Wn(e,t=>{if(!t)throw Ye.create("installation-not-found");return Qo(t)})}function Qo(e){return fd(e)?{fid:e.fid,registrationStatus:0}:e}function fd(e){return e.registrationStatus===1&&e.registrationTime+$o<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd({appConfig:e,heartbeatServiceProvider:t},n){const r=md(e,n),s=Yu(e,n),i=t.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:Bo,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await Go(()=>fetch(r,a));if(c.ok){const u=await c.json();return Vo(u)}else throw await Wo("Generate Auth Token",c)}function md(e,{fid:t}){return`${jo(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fs(e,t=!1){let n;const r=await Wn(e.appConfig,i=>{if(!ea(i))throw Ye.create("not-registered");const o=i.authToken;if(!t&&_d(o))return i;if(o.requestStatus===1)return n=hd(e,t),i;{if(!navigator.onLine)throw Ye.create("app-offline");const a=Ed(i);return n=gd(e,a),a}});return n?await n:r.authToken}async function hd(e,t){let n=await si(e.appConfig);for(;n.authToken.requestStatus===1;)await Ko(100),n=await si(e.appConfig);const r=n.authToken;return r.requestStatus===0?fs(e,t):r}function si(e){return Wn(e,t=>{if(!ea(t))throw Ye.create("not-registered");const n=t.authToken;return yd(n)?{...t,authToken:{requestStatus:0}}:t})}async function gd(e,t){try{const n=await pd(e,t),r={...t,authToken:n};return await kn(e.appConfig,r),n}catch(n){if(qo(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Zo(e.appConfig);else{const r={...t,authToken:{requestStatus:0}};await kn(e.appConfig,r)}throw n}}function ea(e){return e!==void 0&&e.registrationStatus===2}function _d(e){return e.requestStatus===2&&!Sd(e)}function Sd(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Wu}function Ed(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function yd(e){return e.requestStatus===1&&e.requestTime+$o<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(e){const t=e,{installationEntry:n,registrationPromise:r}=await ls(t);return r?r.catch(console.error):fs(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bd(e,t=!1){const n=e;return await vd(n),(await fs(n,t)).token}async function vd(e){const{registrationPromise:t}=await ls(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(e){if(!e||!e.options)throw rr("App Configuration");if(!e.name)throw rr("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw rr(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function rr(e){return Ye.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="installations",Rd="installations-internal",Ad=e=>{const t=e.getProvider("app").getImmediate(),n=Id(t),r=Hn(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},wd=e=>{const t=e.getProvider("app").getImmediate(),n=Hn(t,ta).getImmediate();return{getId:()=>Td(n),getToken:s=>bd(n,s)}};function Nd(){An(new wn(ta,Ad,"PUBLIC")),An(new wn(Rd,wd,"PRIVATE"))}Nd();ut(Uo,us);ut(Uo,us,"esm2020");const ii="@firebase/performance",Nr="0.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=Nr,kd="FB-PERF-TRACE-START",Cd="FB-PERF-TRACE-STOP",kr="FB-PERF-TRACE-MEASURE",ra="_wt_",sa="_fp",ia="_fcp",oa="_fid",aa="_lcp",Pd="lcp_element",ca="_inp",Od="inp_interactionTarget",ua="_cls",Md="cls_largestShiftTarget",da="@firebase/performance/config",la="@firebase/performance/configexpire",Ld="performance",fa="Performance";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd={"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."},U=new Ao(Ld,fa,xd);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se=new au(fa);Se.logLevel=cu.INFO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sr,pa;class O{constructor(t){if(this.window=t,!t)throw U.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay),this.onLCP=ju,this.onINP=qu,this.onCLS=Lu}getUrl(){return this.windowLocation.href.split("?")[0]}mark(t){!this.performance||!this.performance.mark||this.performance.mark(t)}measure(t,n,r){!this.performance||!this.performance.measure||this.performance.measure(t,n,r)}getEntriesByType(t){return!this.performance||!this.performance.getEntriesByType?[]:this.performance.getEntriesByType(t)}getEntriesByName(t){return!this.performance||!this.performance.getEntriesByName?[]:this.performance.getEntriesByName(t)}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return!fetch||!Promise||!du()?(Se.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1):lu()?!0:(Se.info("IndexedDB is not supported by current browser"),!1)}setupObserver(t,n){if(!this.PerformanceObserver)return;new this.PerformanceObserver(s=>{for(const i of s.getEntries())n(i)}).observe({entryTypes:[t]})}static getInstance(){return sr===void 0&&(sr=new O(pa)),sr}}function Dd(e){pa=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma;function Fd(e){const t=e.getId();return t.then(n=>{ma=n}),t}function ps(){return ma}function Ud(e){const t=e.getToken();return t.then(n=>{}),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(e,t){const n=e.length-t.length;if(n<0||n>1)throw U.create("invalid String merger input");const r=[];for(let s=0;s<e.length;s++)r.push(e.charAt(s)),t.length>s&&r.push(t.charAt(s));return r.join("")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ir;class H{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=oi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=oi("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12,this.logMaxFlushSize=40}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return ir===void 0&&(ir=new H),ir}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"})(Lt||(Lt={}));const $d=["firebase_","google_","ga_"],Bd=new RegExp("^[a-zA-Z]\\w*$"),Hd=40,Cr=100;function qd(){const e=O.getInstance().navigator;return e?.serviceWorker?e.serviceWorker.controller?2:3:1}function jd(){switch(O.getInstance().document.visibilityState){case"visible":return Lt.VISIBLE;case"hidden":return Lt.HIDDEN;default:return Lt.UNKNOWN}}function Vd(){const t=O.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Wd(e){return e.length===0||e.length>Hd?!1:!$d.some(n=>e.startsWith(n))&&!!e.match(Bd)}function zd(e){return e.length!==0&&e.length<=Cr}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ha(e){const t=e.options?.appId;if(!t)throw U.create("no app id");return t}function Gd(e){const t=e.options?.projectId;if(!t)throw U.create("no project id");return t}function Kd(e){const t=e.options?.apiKey;if(!t)throw U.create("no api key");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="0.0.1",W={loggingEnabled:!0},Xd="FIREBASE_INSTALLATIONS_AUTH";function Jd(e,t){const n=Zd();return n?(ai(n),Promise.resolve()):tl(e,t).then(ai).then(r=>Qd(r),()=>{})}function Zd(){const e=O.getInstance().localStorage;if(!e)return;const t=e.getItem(la);if(!t||!nl(t))return;const n=e.getItem(da);if(n)try{return JSON.parse(n)}catch{return}}function Qd(e){const t=O.getInstance().localStorage;!e||!t||(t.setItem(da,JSON.stringify(e)),t.setItem(la,String(Date.now()+H.getInstance().configTimeToLive*60*60*1e3)))}const el="Could not fetch config, will use default configs";function tl(e,t){return Ud(e.installations).then(n=>{const r=Gd(e.app),s=Kd(e.app),i=`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${s}`,o=new Request(i,{method:"POST",headers:{Authorization:`${Xd} ${n}`},body:JSON.stringify({app_instance_id:t,app_instance_id_token:n,app_id:ha(e.app),app_version:na,sdk_version:Yd})});return fetch(o).then(a=>{if(a.ok)return a.json();throw U.create("RC response not ok")})}).catch(()=>{Se.info(el)})}function ai(e){if(!e)return e;const t=H.getInstance(),n=e.entries||{};return n.fpr_enabled!==void 0?t.loggingEnabled=String(n.fpr_enabled)==="true":t.loggingEnabled=W.loggingEnabled,n.fpr_log_source?t.logSource=Number(n.fpr_log_source):W.logSource&&(t.logSource=W.logSource),n.fpr_log_endpoint_url?t.logEndPointUrl=n.fpr_log_endpoint_url:W.logEndPointUrl&&(t.logEndPointUrl=W.logEndPointUrl),n.fpr_log_transport_key?t.transportKey=n.fpr_log_transport_key:W.transportKey&&(t.transportKey=W.transportKey),n.fpr_vc_network_request_sampling_rate!==void 0?t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):W.networkRequestsSamplingRate!==void 0&&(t.networkRequestsSamplingRate=W.networkRequestsSamplingRate),n.fpr_vc_trace_sampling_rate!==void 0?t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):W.tracesSamplingRate!==void 0&&(t.tracesSamplingRate=W.tracesSamplingRate),n.fpr_log_max_flush_size?t.logMaxFlushSize=Number(n.fpr_log_max_flush_size):W.logMaxFlushSize&&(t.logMaxFlushSize=W.logMaxFlushSize),t.logTraceAfterSampling=ci(t.tracesSamplingRate),t.logNetworkAfterSampling=ci(t.networkRequestsSamplingRate),e}function nl(e){return Number(e)>Date.now()}function ci(e){return Math.random()<=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ms=1,or;function ga(e){return ms=2,or=or||sl(e),or}function rl(){return ms===3}function sl(e){return il().then(()=>Fd(e.installations)).then(t=>Jd(e,t)).then(()=>ui(),()=>ui())}function il(){const e=O.getInstance().document;return new Promise(t=>{if(e&&e.readyState!=="complete"){const n=()=>{e.readyState==="complete"&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})}function ui(){ms=3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=10*1e3,ol=5.5*1e3,al=1e3,Sa=3,cl=65536,ul=new TextEncoder;let mn=Sa,J=[],di=!1;function dl(){di||(hs(ol),di=!0)}function hs(e){setTimeout(()=>{mn<=0||(J.length>0&&ll(),hs(_a))},e)}function ll(){const e=J.splice(0,al),t=Pr(e);fl(t).then(()=>{mn=Sa}).catch(()=>{J=[...e,...J],mn--,Se.info(`Tries left: ${mn}.`),hs(_a)})}function Pr(e){const t=e.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:H.getInstance().logSource,log_event:t};return JSON.stringify(n)}function fl(e){const t=H.getInstance().getFlTransportFullUrl();return ul.encode(e).length<=cl&&navigator.sendBeacon&&navigator.sendBeacon(t,e)?Promise.resolve():fetch(t,{method:"POST",body:e})}function pl(e){if(!e.eventTime||!e.message)throw U.create("invalid cc log");J=[...J,e]}function ml(e){return(...t)=>{const n=e(...t);pl({message:n,eventTime:Date.now()})}}function hl(){const e=H.getInstance().getFlTransportFullUrl();for(;J.length>0;){const t=J.splice(-H.getInstance().logMaxFlushSize),n=Pr(t);if(!(navigator.sendBeacon&&navigator.sendBeacon(e,n))){J=[...J,...t];break}}if(J.length>0){const t=Pr(J);fetch(e,{method:"POST",body:t}).catch(()=>{Se.info("Failed flushing queued events.")})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xt;function Ea(e,t){xt||(xt={send:ml(Sl),flush:hl}),xt.send(e,t)}function on(e){const t=H.getInstance();!t.instrumentationEnabled&&e.isAuto||!t.dataCollectionEnabled&&!e.isAuto||O.getInstance().requiredApisAvailable()&&(rl()?ar(e):ga(e.performanceController).then(()=>ar(e),()=>ar(e)))}function gl(){xt&&xt.flush()}function ar(e){if(!ps())return;const t=H.getInstance();!t.loggingEnabled||!t.logTraceAfterSampling||Ea(e,1)}function _l(e){const t=H.getInstance();if(!t.instrumentationEnabled)return;const n=e.url,r=t.logEndPointUrl.split("?")[0],s=t.flTransportEndpointUrl.split("?")[0];n===r||n===s||!t.loggingEnabled||!t.logNetworkAfterSampling||Ea(e,0)}function Sl(e,t){return t===0?El(e):yl(e)}function El(e){const t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:ya(e.performanceController.app),network_request_metric:t};return JSON.stringify(n)}function yl(e){const t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};Object.keys(e.counters).length!==0&&(t.counters=e.counters);const n=e.getAttributes();Object.keys(n).length!==0&&(t.custom_attributes=n);const r={application_info:ya(e.performanceController.app),trace_metric:t};return JSON.stringify(r)}function ya(e){return{google_app_id:ha(e),app_instance_id:ps(),web_app_info:{sdk_version:na,page_url:O.getInstance().getUrl(),service_worker_status:qd(),visibility_state:jd(),effective_connection_type:Vd()},application_process_state:0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(e,t){const n=t;if(!n||n.responseStart===void 0)return;const r=O.getInstance().getTimeOrigin(),s=Math.floor((n.startTime+r)*1e3),i=n.responseStart?Math.floor((n.responseStart-n.startTime)*1e3):void 0,o=Math.floor((n.responseEnd-n.startTime)*1e3),a=n.name&&n.name.split("?")[0],c={performanceController:e,url:a,responsePayloadBytes:n.transferSize,startTimeUs:s,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};_l(c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=100,bl="_",vl=[sa,ia,oa,aa,ua,ca];function Il(e,t){return e.length===0||e.length>Tl?!1:t&&t.startsWith(ra)&&vl.indexOf(e)>-1||!e.startsWith(bl)}function Rl(e){const t=Math.floor(e);return t<e&&Se.info(`Metric value should be an Integer, setting the value as : ${t}.`),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t,n,r=!1,s){this.performanceController=t,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=O.getInstance(),this.randomId=Math.floor(Math.random()*1e6),this.isAuto||(this.traceStartMark=`${kd}-${this.randomId}-${this.name}`,this.traceStopMark=`${Cd}-${this.randomId}-${this.name}`,this.traceMeasure=s||`${kr}-${this.randomId}-${this.name}`,s&&this.calculateTraceMetrics())}start(){if(this.state!==1)throw U.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(this.state!==2)throw U.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),on(this)}record(t,n,r){if(t<=0)throw U.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw U.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(n*1e3),this.startTimeUs=Math.floor(t*1e3),r&&r.attributes&&(this.customAttributes={...r.attributes}),r&&r.metrics)for(const s of Object.keys(r.metrics))isNaN(Number(r.metrics[s]))||(this.counters[s]=Math.floor(Number(r.metrics[s])));on(this)}incrementMetric(t,n=1){this.counters[t]===void 0?this.putMetric(t,n):this.putMetric(t,this.counters[t]+n)}putMetric(t,n){if(Il(t,this.name))this.counters[t]=Rl(n??0);else throw U.create("invalid custom metric name",{customMetricName:t})}getMetric(t){return this.counters[t]||0}putAttribute(t,n){const r=Wd(t),s=zd(n);if(r&&s){this.customAttributes[t]=n;return}if(!r)throw U.create("invalid attribute name",{attributeName:t});if(!s)throw U.create("invalid attribute value",{attributeValue:n})}getAttribute(t){return this.customAttributes[t]}removeAttribute(t){this.customAttributes[t]!==void 0&&delete this.customAttributes[t]}getAttributes(){return{...this.customAttributes}}setStartTime(t){this.startTimeUs=t}setDuration(t){this.durationUs=t}calculateTraceMetrics(){const t=this.api.getEntriesByName(this.traceMeasure),n=t&&t[0];n&&(this.durationUs=Math.floor(n.duration*1e3),this.startTimeUs=Math.floor((n.startTime+this.api.getTimeOrigin())*1e3))}static createOobTrace(t,n,r,s,i){const o=O.getInstance().getUrl();if(!o)return;const a=new dt(t,ra+o,!0),c=Math.floor(O.getInstance().getTimeOrigin()*1e3);a.setStartTime(c),n&&n[0]&&(a.setDuration(Math.floor(n[0].duration*1e3)),a.putMetric("domInteractive",Math.floor(n[0].domInteractive*1e3)),a.putMetric("domContentLoadedEventEnd",Math.floor(n[0].domContentLoadedEventEnd*1e3)),a.putMetric("loadEventEnd",Math.floor(n[0].loadEventEnd*1e3)));const u="first-paint",d="first-contentful-paint";if(r){const l=r.find(f=>f.name===u);l&&l.startTime&&a.putMetric(sa,Math.floor(l.startTime*1e3));const p=r.find(f=>f.name===d);p&&p.startTime&&a.putMetric(ia,Math.floor(p.startTime*1e3)),i&&a.putMetric(oa,Math.floor(i*1e3))}this.addWebVitalMetric(a,aa,Pd,s.lcp),this.addWebVitalMetric(a,ua,Md,s.cls),this.addWebVitalMetric(a,ca,Od,s.inp),on(a),gl()}static addWebVitalMetric(t,n,r,s){s&&(t.putMetric(n,Math.floor(s.value*1e3)),s.elementAttribution&&(s.elementAttribution.length>Cr?t.putAttribute(r,s.elementAttribution.substring(0,Cr)):t.putAttribute(r,s.elementAttribution)))}static createUserTimingTrace(t,n){const r=new dt(t,n,!1,n);on(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn={},fi=!1,Ta;function pi(e){ps()&&(setTimeout(()=>wl(e),0),setTimeout(()=>Al(e),0),setTimeout(()=>Nl(e),0))}function Al(e){const t=O.getInstance(),n=t.getEntriesByType("resource");for(const r of n)li(e,r);t.setupObserver("resource",r=>li(e,r))}function wl(e){const t=O.getInstance();"onpagehide"in window?t.document.addEventListener("pagehide",()=>cr(e)):t.document.addEventListener("unload",()=>cr(e)),t.document.addEventListener("visibilitychange",()=>{t.document.visibilityState==="hidden"&&cr(e)}),t.onFirstInputDelay&&t.onFirstInputDelay(n=>{Ta=n}),t.onLCP(n=>{hn.lcp={value:n.value,elementAttribution:n.attribution?.element}}),t.onCLS(n=>{hn.cls={value:n.value,elementAttribution:n.attribution?.largestShiftTarget}}),t.onINP(n=>{hn.inp={value:n.value,elementAttribution:n.attribution?.interactionTarget}})}function Nl(e){const t=O.getInstance(),n=t.getEntriesByType("measure");for(const r of n)mi(e,r);t.setupObserver("measure",r=>mi(e,r))}function mi(e,t){const n=t.name;n.substring(0,kr.length)!==kr&&dt.createUserTimingTrace(e,n)}function cr(e){if(!fi){fi=!0;const t=O.getInstance(),n=t.getEntriesByType("navigation"),r=t.getEntriesByType("paint");setTimeout(()=>{dt.createOobTrace(e,n,r,hn,Ta)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(t,n){this.app=t,this.installations=n,this.initialized=!1}_init(t){this.initialized||(t?.dataCollectionEnabled!==void 0&&(this.dataCollectionEnabled=t.dataCollectionEnabled),t?.instrumentationEnabled!==void 0&&(this.instrumentationEnabled=t.instrumentationEnabled),O.getInstance().requiredApisAvailable()?uu().then(n=>{n&&(dl(),ga(this).then(()=>pi(this),()=>pi(this)),this.initialized=!0)}).catch(n=>{Se.info(`Environment doesn't support IndexedDB: ${n}`)}):Se.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(t){H.getInstance().instrumentationEnabled=t}get instrumentationEnabled(){return H.getInstance().instrumentationEnabled}set dataCollectionEnabled(t){H.getInstance().dataCollectionEnabled=t}get dataCollectionEnabled(){return H.getInstance().dataCollectionEnabled}}const Cl="[DEFAULT]";function Pl(e=Qr()){return e=es(e),Hn(e,"performance").getImmediate()}function Ol(e,t){return e=es(e),new dt(e,t)}const Ml=(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(n.name!==Cl)throw U.create("FB not default");if(typeof window>"u")throw U.create("no window");Dd(window);const s=new kl(n,r);return s._init(t),s};function Ll(){An(new wn("performance",Ml,"PUBLIC")),ut(ii,Nr),ut(ii,Nr,"esm2020")}Ll();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="firebasestorage.googleapis.com",xl="storageBucket",Dl=120*1e3,Fl=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe extends wo{constructor(t,n,r=0){super(ur(t),`Firebase Storage: ${n} (${ur(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fe.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return ur(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var le;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(le||(le={}));function ur(e){return"storage/"+e}function Ul(){const e="An unknown error occurred, please check the error payload for server response.";return new fe(le.UNKNOWN,e)}function $l(){return new fe(le.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Bl(){return new fe(le.CANCELED,"User canceled the upload/download.")}function Hl(e){return new fe(le.INVALID_URL,"Invalid URL '"+e+"'.")}function ql(e){return new fe(le.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function hi(e){return new fe(le.INVALID_ARGUMENT,e)}function va(){return new fe(le.APP_DELETED,"The Firebase app was deleted.")}function jl(e){return new fe(le.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=oe.makeFromUrl(t,n)}catch{return new oe(t,"")}if(r.path==="")return r;throw ql(t)}static makeFromUrl(t,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function u(B){B.path_=decodeURIComponent(B.path)}const d="v[A-Za-z0-9_]+",l=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",f=new RegExp(`^https?://${l}/${d}/b/${s}/o${p}`,"i"),m={bucket:1,path:3},S=n===ba?"(?:storage.googleapis.com|storage.cloud.google.com)":n,g="([^?#]*)",N=new RegExp(`^https?://${S}/${s}/${g}`,"i"),ne=[{regex:a,indices:c,postModify:i},{regex:f,indices:m,postModify:u},{regex:N,indices:{bucket:1,path:2},postModify:u}];for(let B=0;B<ne.length;B++){const Ie=ne[B],Re=Ie.regex.exec(t);if(Re){const y=Re[Ie.indices.bucket];let k=Re[Ie.indices.path];k||(k=""),r=new oe(y,k),Ie.postModify(r);break}}if(r==null)throw Hl(t);return r}}class Vl{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(e,t,n){let r=1,s=null,i=null,o=!1,a=0;function c(){return a===2}let u=!1;function d(...g){u||(u=!0,t.apply(null,g))}function l(g){s=setTimeout(()=>{s=null,e(f,c())},g)}function p(){i&&clearTimeout(i)}function f(g,...N){if(u){p();return}if(g){p(),d.call(null,g,...N);return}if(c()||o){p(),d.call(null,g,...N);return}r<64&&(r*=2);let ne;a===1?(a=2,ne=0):ne=(r+Math.random())*1e3,l(ne)}let m=!1;function S(g){m||(m=!0,p(),!u&&(s!==null?(g||(a=2),clearTimeout(s),l(0)):g||(a=1)))}return l(0),i=setTimeout(()=>{o=!0,S(!0)},n),S}function zl(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(e){return e!==void 0}function gi(e,t,n,r){if(r<t)throw hi(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw hi(`Invalid value for '${e}'. Expected ${n} or less.`)}function Kl(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const s=t(r)+"="+t(e[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Cn;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Cn||(Cn={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(e,t){const n=e>=500&&e<600,s=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t,n,r,s,i,o,a,c,u,d,l,p=!0,f=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=l,this.retry=p,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,S)=>{this.resolve_=m,this.reject_=S,this.start_()})}start_(){const t=(r,s)=>{if(s){r(!1,new an(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Cn.NO_ERROR,c=i.getStatus();if(!a||Yl(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Cn.ABORT;r(!1,new an(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;r(!0,new an(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());Gl(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=Ul();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(s.canceled){const c=this.appDelete_?va():Bl();o(c)}else{const c=$l();o(c)}};this.canceled_?n(!1,new an(!1,null,!0)):this.backoffId_=Wl(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&zl(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class an{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function Jl(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function Zl(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Ql(e,t){t&&(e["X-Firebase-GMPID"]=t)}function ef(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function tf(e,t,n,r,s,i,o=!0,a=!1){const c=Kl(e.urlParams),u=e.url+c,d=Object.assign({},e.headers);return Ql(d,t),Jl(d,n),Zl(d,i),ef(d,r),new Xl(u,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,s,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nf(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function rf(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(t,n){this._service=t,n instanceof oe?this._location=n:this._location=oe.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Pn(t,n)}get root(){const t=new oe(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rf(this._location.path)}get storage(){return this._service}get parent(){const t=nf(this._location.path);if(t===null)return null;const n=new oe(this._location.bucket,t);return new Pn(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw jl(t)}}function _i(e,t){const n=t?.[xl];return n==null?null:oe.makeFromBucketSpec(n,e)}function sf(e,t,n,r={}){e.host=`${t}:${n}`;const s=hu(t);s&&(gu(`https://${e.host}/b`),_u("Storage",!0)),e._isUsingEmulator=!0,e._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken=typeof i=="string"?i:Su(i,e.app.options.projectId))}class of{constructor(t,n,r,s,i,o=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=ba,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Dl,this._maxUploadRetryTime=Fl,this._requests=new Set,s!=null?this._bucket=oe.makeFromBucketSpec(s,this._host):this._bucket=_i(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=oe.makeFromBucketSpec(this._url,t):this._bucket=_i(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){gi("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){gi("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(pu(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Pn(this,t)}_makeRequest(t,n,r,s,i=!0){if(this._deleted)return new Vl(va());{const o=tf(t,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,s).getPromise()}}const Si="@firebase/storage",Ei="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="storage";function af(e=Qr(),t){e=es(e);const r=Hn(e,Ia).getImmediate({identifier:t}),s=mu("storage");return s&&cf(r,...s),r}function cf(e,t,n,r={}){sf(e,t,n,r)}function uf(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new of(n,r,s,t,fu)}function df(){An(new wn(Ia,uf,"PUBLIC").setMultipleInstances(!0)),ut(Si,Ei,""),ut(Si,Ei,"esm2020")}df();const lf={apiKey:"AIzaSyBYpxHaQ-WDuj-c7pTT4zu7Kf5Kpx7FgUk",authDomain:"dddd-e6a52.firebaseapp.com",projectId:"dddd-e6a52",storageBucket:"dddd-e6a52.firebasestorage.app",messagingSenderId:"852428184810",appId:"1:852428184810:web:c97e9be32fe18600ae4b93",measurementId:"G-RH3Y682M53"},Vt=Eu().length?Qr():yu(lf),rE=Tu(Vt),sE=bu(Vt);af(Vt);const iE=vu(Vt,"asia-northeast3");let Or=null;function ff(){try{Or=Pl(Vt)}catch{}}async function oE(e,t){if(!Or)return t();const n=Ol(Or,e);n.start();try{const r=await t();return n.stop(),r}catch(r){throw n.stop(),r}}const _=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,v=globalThis,Ve="10.32.1";function Qe(){return zn(v),v}function zn(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Ve,t[Ve]=t[Ve]||{}}function Et(e,t,n=v){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[Ve]=r[Ve]||{};return s[e]||(s[e]=t())}const pf=["debug","info","warn","error","log","assert","trace"],mf="Sentry Logger ",On={};function yt(e){if(!("console"in v))return e();const t=v.console,n={},r=Object.keys(On);r.forEach(s=>{const i=On[s];n[s]=t[s],t[s]=i});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function hf(){_s().enabled=!0}function gf(){_s().enabled=!1}function Ra(){return _s().enabled}function _f(...e){gs("log",...e)}function Sf(...e){gs("warn",...e)}function Ef(...e){gs("error",...e)}function gs(e,...t){_&&Ra()&&yt(()=>{v.console[e](`${mf}[${e}]:`,...t)})}function _s(){return _?Et("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const h={enable:hf,disable:gf,isEnabled:Ra,log:_f,warn:Sf,error:Ef},Aa=50,Je="?",yi=/\(error: (.*)\)/,Ti=/captureMessage|captureException/;function wa(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const i=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let c=o[a];c.length>1024&&(c=c.slice(0,1024));const u=yi.test(c)?c.replace(yi,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){i.push(l);break}}if(i.length>=Aa+s)break}}return Tf(i.slice(s))}}function yf(e){return Array.isArray(e)?wa(...e):e}function Tf(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(cn(t).function||"")&&t.pop(),t.reverse(),Ti.test(cn(t).function||"")&&(t.pop(),Ti.test(cn(t).function||"")&&t.pop()),t.slice(0,Aa).map(n=>({...n,filename:n.filename||cn(t).filename,function:n.function||Je}))}function cn(e){return e[e.length-1]||{}}const dr="<anonymous>";function Ee(e){try{return!e||typeof e!="function"?dr:e.name||dr}catch{return dr}}function bi(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function Na(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const gn={},vi={};function xe(e,t){gn[e]=gn[e]||[],gn[e].push(t)}function De(e,t){if(!vi[e]){vi[e]=!0;try{t()}catch(n){_&&h.error(`Error while instrumenting ${e}`,n)}}}function Z(e,t){const n=e&&gn[e];if(n)for(const r of n)try{r(t)}catch(s){_&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ee(r)}
Error:`,s)}}let lr=null;function ka(e){const t="error";xe(t,e),De(t,bf)}function bf(){lr=v.onerror,v.onerror=function(e,t,n,r,s){return Z("error",{column:r,error:s,line:n,msg:e,url:t}),lr?lr.apply(this,arguments):!1},v.onerror.__SENTRY_INSTRUMENTED__=!0}let fr=null;function Ca(e){const t="unhandledrejection";xe(t,e),De(t,vf)}function vf(){fr=v.onunhandledrejection,v.onunhandledrejection=function(e){return Z("unhandledrejection",e),fr?fr.apply(this,arguments):!0},v.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Pa=Object.prototype.toString;function Ss(e){switch(Pa.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return ye(e,Error)}}function Tt(e,t){return Pa.call(e)===`[object ${t}]`}function Oa(e){return Tt(e,"ErrorEvent")}function Ii(e){return Tt(e,"DOMError")}function If(e){return Tt(e,"DOMException")}function ge(e){return Tt(e,"String")}function Es(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function lt(e){return e===null||Es(e)||typeof e!="object"&&typeof e!="function"}function Ft(e){return Tt(e,"Object")}function Gn(e){return typeof Event<"u"&&ye(e,Event)}function Rf(e){return typeof Element<"u"&&ye(e,Element)}function Af(e){return Tt(e,"RegExp")}function bt(e){return!!(e?.then&&typeof e.then=="function")}function wf(e){return Ft(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function ye(e,t){try{return e instanceof t}catch{return!1}}function Ma(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function ys(e){return typeof Request<"u"&&ye(e,Request)}const Ts=v,Nf=80;function ee(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let i=0,o=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Nf;for(;n&&i++<r&&(u=kf(n,d),!(u==="html"||i>1&&o+s.length*c+u.length>=l));)s.push(u),o+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function kf(e,t){const n=e,r=[];if(!n?.tagName)return"";if(Ts.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t?.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(s?.length)s.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&ge(o)){const a=o.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const i=["aria-label","type","name","title","alt"];for(const o of i){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function Wt(){try{return Ts.document.location.href}catch{return""}}function La(e){if(!Ts.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function z(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&xa(s,r);try{e[t]=s}catch{_&&h.log(`Failed to replace method "${t}" in object`,e)}}function G(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{_&&h.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function xa(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,G(e,"__sentry_original__",t)}catch{}}function bs(e){return e.__sentry_original__}function Da(e){if(Ss(e))return{message:e.message,name:e.name,stack:e.stack,...Ai(e)};if(Gn(e)){const t={type:e.type,target:Ri(e.target),currentTarget:Ri(e.currentTarget),...Ai(e)};return typeof CustomEvent<"u"&&ye(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Ri(e){try{return Rf(e)?ee(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Ai(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Cf(e){const t=Object.keys(Da(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}function Mr(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function wi(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{Ma(s)?n.push(Na(s)):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function _n(e,t,n=!1){return ge(e)?Af(t)?t.test(e):ge(t)?n?e===t:e.includes(t):!1:!1}function ke(e,t=[],n=!1){return t.some(r=>_n(e,r,n))}function Pf(){const e=v;return e.crypto||e.msCrypto}let pr;function Of(){return Math.random()*16}function Q(e=Pf()){try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return pr||(pr="10000000100040008000"+1e11),pr.replace(/[018]/g,t=>(t^(Of()&15)>>t/4).toString(16))}function Fa(e){return e.exception?.values?.[0]}function qe(e){const{message:t,event_id:n}=e;if(t)return t;const r=Fa(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Lr(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],i=s[0]=s[0]||{};i.value||(i.value=t||""),i.type||(i.type="Error")}function ft(e,t){const n=Fa(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const i={...s?.data,...t.data};n.mechanism.data=i}}function Ni(e){if(Mf(e))return!0;try{G(e,"__sentry_captured__",!0)}catch{}return!1}function Mf(e){try{return e.__sentry_captured__}catch{}}const Ua=1e3;function et(){return Date.now()/Ua}function Lf(){const{performance:e}=v;if(!e?.now||!e.timeOrigin)return et;const t=e.timeOrigin;return()=>(t+e.now())/Ua}let ki;function L(){return(ki??(ki=Lf()))()}let mr;function xf(){const{performance:e}=v;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,i=s<t,o=e.timing?.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,u=c<t;return i||u?s<=c?[e.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[r,"dateNow"]}function K(){return mr||(mr=xf()),mr[0]}function Df(e){const t=L(),n={sid:Q(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Uf(n)};return e&&pt(n,e),n}function pt(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||L(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Q()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Ff(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),pt(e,n)}function Uf(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function zt(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=zt(r[s],t[s],n-1));return r}function Te(){return Q()}function _e(){return Q().substring(16)}const xr="_sentrySpan";function mt(e,t){t?G(e,xr,t):delete e[xr]}function Mn(e){return e[xr]}const $f=100;class be{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Te(),sampleRand:Math.random()}}clone(){const t=new be;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,mt(t,Mn(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&pt(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof be?n.getScopeData():Ft(n)?t:void 0,{tags:s,attributes:i,extra:o,user:a,contexts:c,level:u,fingerprint:d=[],propagationContext:l}=r||{};return this._tags={...this._tags,...s},this._attributes={...this._attributes,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),l&&(this._propagationContext=l),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,mt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Te(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:$f;if(r<=0)return this;const s={timestamp:et(),...t,message:t.message?Mr(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Mn(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=zt(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n?.event_id||Q();if(!this._client)return _&&h.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=r?.event_id||Q();if(!this._client)return _&&h.warn("No client configured on scope - will not capture message!"),s;const i=r?.syntheticException??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:i,...r,event_id:s},this),s}captureEvent(t,n){const r=n?.event_id||Q();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(_&&h.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Bf(){return Et("defaultCurrentScope",()=>new be)}function Hf(){return Et("defaultIsolationScope",()=>new be)}class qf{constructor(t,n){let r;t?r=t:r=new be;let s;n?s=n:s=new be,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return bt(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function ht(){const e=Qe(),t=zn(e);return t.stack=t.stack||new qf(Bf(),Hf())}function jf(e){return ht().withScope(e)}function Vf(e,t){const n=ht();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Ci(e){return ht().withScope(()=>e(ht().getIsolationScope()))}function Wf(){return{withIsolationScope:Ci,withScope:jf,withSetScope:Vf,withSetIsolationScope:(e,t)=>Ci(t),getCurrentScope:()=>ht().getScope(),getIsolationScope:()=>ht().getIsolationScope()}}function vt(e){const t=zn(e);return t.acs?t.acs:Wf()}function w(){const e=Qe();return vt(e).getCurrentScope()}function Fe(){const e=Qe();return vt(e).getIsolationScope()}function zf(){return Et("globalScope",()=>new be)}function Kn(...e){const t=Qe(),n=vt(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function A(){return w().getClient()}function Gf(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,i={trace_id:n,span_id:s||_e()};return r&&(i.parent_span_id=r),i}const de="sentry.source",vs="sentry.sample_rate",$a="sentry.previous_trace_sample_rate",ve="sentry.op",M="sentry.origin",Ut="sentry.idle_span_finish_reason",Gt="sentry.measurement_unit",Kt="sentry.measurement_value",Pi="sentry.custom_span_name",Is="sentry.profile_id",It="sentry.exclusive_time",Kf="sentry.link.type",Yf=0,Rs=1,P=2;function Xf(e){if(e<400&&e>=100)return{code:Rs};if(e>=400&&e<500)switch(e){case 401:return{code:P,message:"unauthenticated"};case 403:return{code:P,message:"permission_denied"};case 404:return{code:P,message:"not_found"};case 409:return{code:P,message:"already_exists"};case 413:return{code:P,message:"failed_precondition"};case 429:return{code:P,message:"resource_exhausted"};case 499:return{code:P,message:"cancelled"};default:return{code:P,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:P,message:"unimplemented"};case 503:return{code:P,message:"unavailable"};case 504:return{code:P,message:"deadline_exceeded"};default:return{code:P,message:"internal_error"}}return{code:P,message:"internal_error"}}function Ba(e,t){e.setAttribute("http.response.status_code",t);const n=Xf(t);n.message!=="unknown_error"&&e.setStatus(n)}const Ha="_sentryScope",qa="_sentryIsolationScope";function Jf(e){try{const t=v.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function Zf(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function Qf(e,t,n){e&&(G(e,qa,Jf(n)),G(e,Ha,t))}function Ln(e){const t=e;return{scope:t[Ha],isolationScope:Zf(t[qa])}}const As="sentry-",ep=/^sentry-/,tp=8192;function ja(e){const t=rp(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,i])=>{if(s.match(ep)){const o=s.slice(As.length);r[o]=i}return r},{});if(Object.keys(n).length>0)return n}function np(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${As}${r}`]=s),n),{});return sp(t)}function rp(e){if(!(!e||!ge(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Oi(n);return Object.entries(r).forEach(([s,i])=>{t[s]=i}),t},{}):Oi(e)}function Oi(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),s=t.slice(n+1);return[r,s].map(i=>{try{return decodeURIComponent(i.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function sp(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const i=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=s===0?i:`${t},${i}`;return o.length>tp?(_&&h.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const ip=/^o(\d+)\./,op=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ap(e){return e==="http"||e==="https"}function Rt(e,t=!1){const{host:n,path:r,pass:s,port:i,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${i?`:${i}`:""}/${r&&`${r}/`}${o}`}function cp(e){const t=op.exec(e);if(!t){yt(()=>{});return}const[n,r,s="",i="",o="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return Va({host:i,pass:s,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function Va(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function up(e){if(!_)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(h.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?ap(r)?t&&isNaN(parseInt(t,10))?(h.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(h.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(h.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function dp(e){return e.match(ip)?.[1]}function lp(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=dp(n)),r}function fp(e){const t=typeof e=="string"?cp(e):Va(e);if(!(!t||!up(t)))return t}function $t(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const Wa=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function pp(e){if(!e)return;const t=e.match(Wa);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function mp(e,t){const n=pp(e),r=ja(t);if(!n?.traceId)return{traceId:Te(),sampleRand:Math.random()};const s=hp(n,r);r&&(r.sample_rand=s.toString());const{traceId:i,parentSpanId:o,parentSampled:a}=n;return{traceId:i,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:s}}function za(e=Te(),t=_e(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Ga(e=Te(),t=_e(),n){return`00-${e}-${t}-${n?"01":"00"}`}function hp(e,t){const n=$t(t?.sample_rand);if(n!==void 0)return n;const r=$t(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const Ka=0,ws=1;let Mi=!1;function gp(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:i,status:o,origin:a,links:c}=I(e);return{parent_span_id:i,span_id:t,trace_id:n,data:r,op:s,status:o,origin:a,links:c}}function _p(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:I(e).parent_span_id,i=Ln(e).scope,o=r?i?.getPropagationContext().propagationSpanId||_e():t;return{parent_span_id:s,span_id:o,trace_id:n}}function Sp(e){const{traceId:t,spanId:n}=e.spanContext(),r=Ue(e);return za(t,n,r)}function Ep(e){const{traceId:t,spanId:n}=e.spanContext(),r=Ue(e);return Ga(t,n,r)}function Ya(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:i})=>({span_id:t,trace_id:n,sampled:r===ws,attributes:i,...s}))}function We(e){return typeof e=="number"?Li(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Li(e.getTime()):L()}function Li(e){return e>9999999999?e/1e3:e}function I(e){if(Tp(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(yp(e)){const{attributes:r,startTime:s,name:i,endTime:o,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:i,parent_span_id:u,start_timestamp:We(s),timestamp:We(o)||void 0,status:Xa(a),op:r[ve],origin:r[M],links:Ya(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function yp(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Tp(e){return typeof e.getSpanJSON=="function"}function Ue(e){const{traceFlags:t}=e.spanContext();return t===ws}function Xa(e){if(!(!e||e.code===Yf))return e.code===Rs?"ok":e.message||"internal_error"}const ze="_sentryChildSpans",Dr="_sentryRootSpan";function Ja(e,t){const n=e[Dr]||e;G(t,Dr,n),e[ze]?e[ze].add(t):G(e,ze,new Set([t]))}function bp(e,t){e[ze]&&e[ze].delete(t)}function Sn(e){const t=new Set;function n(r){if(!t.has(r)&&Ue(r)){t.add(r);const s=r[ze]?Array.from(r[ze]):[];for(const i of s)n(i)}}return n(e),Array.from(t)}function q(e){return e[Dr]||e}function Y(){const e=Qe(),t=vt(e);return t.getActiveSpan?t.getActiveSpan():Mn(w())}function Fr(){Mi||(yt(()=>{}),Mi=!0)}let xi=!1;function vp(){if(xi)return;function e(){const t=Y(),n=t&&q(t);if(n){const r="internal_error";_&&h.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:P,message:r})}}e.tag="sentry_tracingErrorCallback",xi=!0,ka(e),Ca(e)}function ae(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||A()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function Di(e){h.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function xn(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(Rp(n)){if(_n(e.description,n))return _&&Di(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?_n(e.description,n.name):!0,s=n.op?e.op&&_n(e.op,n.op):!0;if(r&&s)return _&&Di(e),!0}return!1}function Ip(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const s of e)s.parent_span_id===r&&(s.parent_span_id=n)}function Rp(e){return typeof e=="string"||e instanceof RegExp}const Ns="production",Za="_frozenDsc";function En(e,t){G(e,Za,t)}function Qa(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s={environment:n.environment||Ns,release:n.release,public_key:r,trace_id:e,org_id:lp(t)};return t.emit("createDsc",s),s}function ec(e,t){const n=t.getPropagationContext();return n.dsc||Qa(n.traceId,e)}function Oe(e){const t=A();if(!t)return{};const n=q(e),r=I(n),s=r.data,i=n.spanContext().traceState,o=i?.get("sentry.sample_rate")??s[vs]??s[$a];function a(m){return(typeof o=="number"||typeof o=="string")&&(m.sample_rate=`${o}`),m}const c=n[Za];if(c)return a(c);const u=i?.get("sentry.dsc"),d=u&&ja(u);if(d)return a(d);const l=Qa(e.spanContext().traceId,t),p=s[de],f=r.description;return p!=="url"&&f&&(l.transaction=f),ae()&&(l.sampled=String(Ue(n)),l.sample_rand=i?.get("sentry.sample_rand")??Ln(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}class Me{constructor(t={}){this._traceId=t.traceId||Te(),this._spanId=t.spanId||_e()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Ka}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function he(e,t=100,n=1/0){try{return Ur("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function tc(e,t=3,n=100*1024){const r=he(e,t);return kp(r)>n?tc(e,t-1,n):r}function Ur(e,t,n=1/0,r=1/0,s=Cp()){const[i,o]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=Ap(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(i(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const f=u.toJSON();return Ur("",f,c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const p=Da(t);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(l>=r){d[f]="[MaxProperties ~]";break}const m=p[f];d[f]=Ur(f,m,c-1,r,s),l++}return o(t),d}function Ap(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Ma(t))return Na(t);if(wf(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Ee(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=wp(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function wp(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function Np(e){return~-encodeURI(e).split(/%..|./).length}function kp(e){return Np(JSON.stringify(e))}function Cp(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function tt(e,t=[]){return[e,t]}function Pp(e,t){const[n,r]=e;return[n,[...r,t]]}function Fi(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function $r(e){const t=zn(v);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Op(e){const[t,n]=e;let r=JSON.stringify(t);function s(i){typeof r=="string"?r=typeof i=="string"?r+i:[$r(r),i]:r.push(typeof i=="string"?$r(i):i)}for(const i of n){const[o,a]=i;if(s(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(he(a))}s(c)}}return typeof r=="string"?r:Mp(r)}function Mp(e){const t=e.reduce((s,i)=>s+i.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Lp(e){return[{type:"span"},e]}function xp(e){const t=typeof e.data=="string"?$r(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const Dp={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Ui(e){return Dp[e]}function nc(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Fp(e,t,n,r){const s=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Rt(r)},...s&&{trace:s}}}function Up(e,t){if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function $p(e,t,n,r){const s=nc(n),i={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:Rt(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return tt(i,[o])}function Bp(e,t,n,r){const s=nc(n),i=e.type&&e.type!=="replay_event"?e.type:"event";Up(e,n?.sdk);const o=Fp(e,s,r,t);return delete e.sdkProcessingMetadata,tt(o,[[{type:i},e]])}function Hp(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=Oe(e[0]),s=t?.getDsn(),i=t?.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!i&&s&&{dsn:Rt(s)}},{beforeSendSpan:a,ignoreSpans:c}=t?.getOptions()||{},u=c?.length?e.filter(f=>!xn(I(f),c)):e,d=e.length-u.length;d&&t?.recordDroppedEvent("before_send","span",d);const l=a?f=>{const m=I(f),S=a(m);return S||(Fr(),m)}:I,p=[];for(const f of u){const m=l(f);m&&p.push(Lp(m))}return tt(o,p)}function qp(e){if(!_)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=I(e),{spanId:s}=e.spanContext(),i=Ue(e),o=q(e),a=o===e,c=`[Tracing] Starting ${i?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=I(o);u.push(`root ID: ${o.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}h.log(`${c}
  ${u.join(`
  `)}`)}function jp(e){if(!_)return;const{description:t="< unknown name >",op:n="< unknown op >"}=I(e),{spanId:r}=e.spanContext(),i=q(e)===e,o=`[Tracing] Finishing "${n}" ${i?"root ":""}span "${t}" with ID ${r}`;h.log(o)}function Vp(e,t,n,r=Y()){const s=r&&q(r);s&&(_&&h.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[Kt]:t,[Gt]:n}))}function $i(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[Gt],i=r[Kt];typeof s=="string"&&typeof i=="number"&&(t[n.name]={value:i,unit:s})}),t}const Bi=1e3;class Yn{constructor(t={}){this._traceId=t.traceId||Te(),this._spanId=t.spanId||_e(),this._startTime=t.startTimestamp||L(),this._links=t.links,this._attributes={},this.setAttributes({[M]:"manual",[ve]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?ws:Ka}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=We(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(de,"custom"),this}end(t){this._endTime||(this._endTime=We(t),jp(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[ve],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Xa(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[M],profile_id:this._attributes[Is],exclusive_time:this._attributes[It],measurements:$i(this._events),is_segment:this._isStandaloneSpan&&q(this)===this||void 0,segment_id:this._isStandaloneSpan?q(this).spanContext().spanId:void 0,links:Ya(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){_&&h.log("[Tracing] Adding an event to span:",t);const s=Hi(n)?n:r||L(),i=Hi(n)?{}:n||{},o={name:t,time:We(s),attributes:i};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=A();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===q(this)))return;if(this._isStandaloneSpan){this._sampled?zp(Hp([this],t)):(_&&h.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(Ln(this).scope||w()).captureEvent(r)}_convertSpanToTransaction(){if(!qi(I(this)))return;this._name||(_&&h.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=Ln(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const i=Sn(this).filter(d=>d!==this&&!Wp(d)).map(d=>I(d)).filter(qi),o=this._attributes[de];delete this._attributes[Pi],i.forEach(d=>{delete d.data[Pi]});const a={contexts:{trace:gp(this)},spans:i.length>Bi?i.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,Bi):i,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Oe(this)},request:r,...o&&{transaction_info:{source:o}}},c=$i(this._events);return c&&Object.keys(c).length&&(_&&h.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function Hi(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function qi(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Wp(e){return e instanceof Yn&&e.isStandaloneSpan()}function zp(e){const t=A();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function Gp(e,t,n=()=>{},r=()=>{}){let s;try{s=e()}catch(i){throw t(i),n(),i}return Kp(s,t,n,r)}function Kp(e,t,n,r){return bt(e)?e.then(s=>(n(),r(s),s),s=>{throw t(s),n(),s}):(n(),r(e),e)}function Yp(e,t,n){if(!ae(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const i=$t(s);if(i===void 0)return _&&h.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!i)return _&&h.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,i,r];const o=n<i;return o||_&&h.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[o,i,r]}const rc="__SENTRY_SUPPRESS_TRACING__";function Xp(e,t){const n=Cs();if(n.startSpan)return n.startSpan(e,t);const r=ic(e),{forceTransaction:s,parentSpan:i,scope:o}=e,a=o?.clone();return Kn(a,()=>Zp(i)(()=>{const u=w(),d=oc(u,i),p=e.onlyIfParent&&!d?new Me:sc({parentSpan:d,spanArguments:r,forceTransaction:s,scope:u});return mt(u,p),Gp(()=>t(p),()=>{const{status:f}=I(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:P,message:"internal_error"})},()=>{p.end()})}))}function At(e){const t=Cs();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=ic(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?o=>Kn(e.scope,o):s!==void 0?o=>ks(s,o):o=>o())(()=>{const o=w(),a=oc(o,s);return e.onlyIfParent&&!a?new Me:sc({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function ks(e,t){const n=Cs();return n.withActiveSpan?n.withActiveSpan(e,t):Kn(r=>(mt(r,e||void 0),t(r)))}function sc({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ae()){const o=new Me;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...Oe(o)};En(o,a)}return o}const s=Fe();let i;if(e&&!n)i=Jp(e,r,t),Ja(e,i);else if(e){const o=Oe(e),{traceId:a,spanId:c}=e.spanContext(),u=Ue(e);i=ji({traceId:a,parentSpanId:c,...t},r,u),En(i,o)}else{const{traceId:o,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};i=ji({traceId:o,parentSpanId:c,...t},r,u),a&&En(i,a)}return qp(i),Qf(i,r,s),i}function ic(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=We(e.startTime),delete r.startTime,r}return n}function Cs(){const e=Qe();return vt(e)}function ji(e,t,n){const r=A(),s=r?.getOptions()||{},{name:i=""}=e,o={spanAttributes:{...e.attributes},spanName:i,parentSampled:n};r?.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,c=o.spanAttributes,u=t.getPropagationContext(),[d,l,p]=t.getScopeData().sdkProcessingMetadata[rc]?[!1]:Yp(s,{name:i,parentSampled:a,attributes:c,parentSampleRate:$t(u.dsc?.sample_rate)},u.sampleRand),f=new Yn({...e,attributes:{[de]:"custom",[vs]:l!==void 0&&p?l:void 0,...c},sampled:d});return!d&&r&&(_&&h.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function Jp(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),i=t.getScopeData().sdkProcessingMetadata[rc]?!1:Ue(e),o=i?new Yn({...n,parentSpanId:r,traceId:s,sampled:i}):new Me({traceId:s});Ja(e,o);const a=A();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function oc(e,t){if(t)return t;if(t===null)return;const n=Mn(e);if(!n)return;const r=A();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?q(n):n}function Zp(e){return e!==void 0?t=>ks(e,t):t=>t()}const yn={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},Qp="heartbeatFailed",em="idleTimeout",tm="finalTimeout",nm="externalFinish";function ac(e,t={}){const n=new Map;let r=!1,s,i=nm,o=!t.disableAutoFinish;const a=[],{idleTimeout:c=yn.idleTimeout,finalTimeout:u=yn.finalTimeout,childSpanTimeout:d=yn.childSpanTimeout,beforeSpanEnd:l,trimIdleSpanEndTimestamp:p=!0}=t,f=A();if(!f||!ae()){const y=new Me,k={sample_rate:"0",sampled:"false",...Oe(y)};return En(y,k),y}const m=w(),S=Y(),g=rm(e);g.end=new Proxy(g.end,{apply(y,k,nt){if(l&&l(g),k instanceof Me)return;const[nn,...ce]=nt,kt=nn||L(),pe=We(kt),x=Sn(g).filter(b=>b!==g),$e=I(g);if(!x.length||!p)return Re(pe),Reflect.apply(y,k,[pe,...ce]);const ue=f.getOptions().ignoreSpans,Ae=x?.reduce((b,F)=>{const V=I(F);return!V.timestamp||ue&&xn(V,ue)?b:b?Math.max(b,V.timestamp):V.timestamp},void 0),R=$e.start_timestamp,D=Math.min(R?R+u/1e3:1/0,Math.max(R||-1/0,Math.min(pe,Ae||1/0)));return Re(D),Reflect.apply(y,k,[D,...ce])}});function N(){s&&(clearTimeout(s),s=void 0)}function $(y){N(),s=setTimeout(()=>{!r&&n.size===0&&o&&(i=em,g.end(y))},c)}function ne(y){s=setTimeout(()=>{!r&&o&&(i=Qp,g.end(y))},d)}function B(y){N(),n.set(y,!0);const k=L();ne(k+d/1e3)}function Ie(y){if(n.has(y)&&n.delete(y),n.size===0){const k=L();$(k+c/1e3)}}function Re(y){r=!0,n.clear(),a.forEach(x=>x()),mt(m,S);const k=I(g),{start_timestamp:nt}=k;if(!nt)return;k.data[Ut]||g.setAttribute(Ut,i);const ce=k.status;(!ce||ce==="unknown")&&g.setStatus({code:Rs}),h.log(`[Tracing] Idle span "${k.op}" finished`);const kt=Sn(g).filter(x=>x!==g);let pe=0;kt.forEach(x=>{x.isRecording()&&(x.setStatus({code:P,message:"cancelled"}),x.end(y),_&&h.log("[Tracing] Cancelling span since span ended early",JSON.stringify(x,void 0,2)));const $e=I(x),{timestamp:ue=0,start_timestamp:Ae=0}=$e,R=Ae<=y,D=(u+c)/1e3,b=ue-Ae<=D;if(_){const F=JSON.stringify(x,void 0,2);R?b||h.log("[Tracing] Discarding span since it finished after idle span final timeout",F):h.log("[Tracing] Discarding span since it happened after idle span was finished",F)}(!b||!R)&&(bp(g,x),pe++)}),pe>0&&g.setAttribute("sentry.idle_span_discarded_spans",pe)}return a.push(f.on("spanStart",y=>{if(r||y===g||I(y).timestamp||y instanceof Yn&&y.isStandaloneSpan())return;Sn(g).includes(y)&&B(y.spanContext().spanId)})),a.push(f.on("spanEnd",y=>{r||Ie(y.spanContext().spanId)})),a.push(f.on("idleSpanEnableAutoFinish",y=>{y===g&&(o=!0,$(),n.size&&ne())})),t.disableAutoFinish||$(),setTimeout(()=>{r||(g.setStatus({code:P,message:"deadline_exceeded"}),i=tm,g.end())},u),g}function rm(e){const t=At(e);return mt(w(),t),_&&h.log("[Tracing] Started span is an idle span"),t}const hr=0,Vi=1,Wi=2;function Xn(e){return new Bt(t=>{t(e)})}function Ps(e){return new Bt((t,n)=>{n(e)})}class Bt{constructor(t){this._state=hr,this._handlers=[],this._runExecutor(t)}then(t,n){return new Bt((r,s)=>{this._handlers.push([!1,i=>{if(!t)r(i);else try{r(t(i))}catch(o){s(o)}},i=>{if(!n)s(i);else try{r(n(i))}catch(o){s(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Bt((n,r)=>{let s,i;return this.then(o=>{i=!1,s=o,t&&t()},o=>{i=!0,s=o,t&&t()}).then(()=>{if(i){r(s);return}n(s)})})}_executeHandlers(){if(this._state===hr)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Vi&&n[1](this._value),this._state===Wi&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(i,o)=>{if(this._state===hr){if(bt(o)){o.then(r,s);return}this._state=i,this._value=o,this._executeHandlers()}},r=i=>{n(Vi,i)},s=i=>{n(Wi,i)};try{t(r,s)}catch(i){s(i)}}}function sm(e,t,n,r=0){try{const s=Br(t,n,e,r);return bt(s)?s:Xn(s)}catch(s){return Ps(s)}}function Br(e,t,n,r){const s=n[r];if(!e||!s)return e;const i=s({...e},t);return _&&i===null&&h.log(`Event processor "${s.id||"?"}" dropped event`),bt(i)?i.then(o=>Br(o,t,n,r+1)):Br(i,t,n,r+1)}function im(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:i}=t;om(e,t),r&&um(e,r),dm(e,n),am(e,s),cm(e,i)}function zi(e,t){const{extra:n,tags:r,attributes:s,user:i,contexts:o,level:a,sdkProcessingMetadata:c,breadcrumbs:u,fingerprint:d,eventProcessors:l,attachments:p,propagationContext:f,transactionName:m,span:S}=t;Ot(e,"extra",n),Ot(e,"tags",r),Ot(e,"attributes",s),Ot(e,"user",i),Ot(e,"contexts",o),e.sdkProcessingMetadata=zt(e.sdkProcessingMetadata,c,2),a&&(e.level=a),m&&(e.transactionName=m),S&&(e.span=S),u.length&&(e.breadcrumbs=[...e.breadcrumbs,...u]),d.length&&(e.fingerprint=[...e.fingerprint,...d]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),p.length&&(e.attachments=[...e.attachments,...p]),e.propagationContext={...e.propagationContext,...f}}function Ot(e,t,n){e[t]=zt(e[t],n,1)}function om(e,t){const{extra:n,tags:r,user:s,contexts:i,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(i).length&&(e.contexts={...i,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function am(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function cm(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function um(e,t){e.contexts={trace:_p(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Oe(t),...e.sdkProcessingMetadata};const n=q(t),r=I(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function dm(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let He,Gi,Ki,we;function lm(e){const t=v._sentryDebugIds,n=v._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],s=n?Object.keys(n):[];if(we&&r.length===Gi&&s.length===Ki)return we;Gi=r.length,Ki=s.length,we={},He||(He={});const i=(o,a)=>{for(const c of o){const u=a[c],d=He?.[c];if(d&&we&&u)we[d[0]]=u,He&&(He[c]=[d[0],u]);else if(u){const l=e(c);for(let p=l.length-1;p>=0;p--){const m=l[p]?.filename;if(m&&we&&He){we[m]=u,He[c]=[m,u];break}}}}};return t&&i(r,t),n&&i(s,n),we}function fm(e,t,n,r,s,i){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Q(),timestamp:t.timestamp||et()},u=n.integrations||e.integrations.map(g=>g.name);pm(c,e),gm(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&mm(c,e.stackParser);const d=Sm(r,n.captureContext);n.mechanism&&ft(c,n.mechanism);const l=s?s.getEventProcessors():[],p=zf().getScopeData();if(i){const g=i.getScopeData();zi(p,g)}if(d){const g=d.getScopeData();zi(p,g)}const f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),im(c,p);const m=[...l,...p.eventProcessors];return sm(m,c,n).then(g=>(g&&hm(g),typeof o=="number"&&o>0?_m(g,o,a):g))}function pm(e,t){const{environment:n,release:r,dist:s,maxValueLength:i}=t;e.environment=e.environment||n||Ns,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const o=e.request;o?.url&&i&&(o.url=Mr(o.url,i)),i&&e.exception?.values?.forEach(a=>{a.value&&(a.value=Mr(a.value,i))})}function mm(e,t){const n=lm(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.filename&&(s.debug_id=n[s.filename])})})}function hm(e){const t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(s=>{s.debug_id&&(s.abs_path?t[s.abs_path]=s.debug_id:s.filename&&(t[s.filename]=s.debug_id),delete s.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,s])=>{n.push({type:"sourcemap",code_file:r,debug_id:s})})}function gm(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function _m(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(s=>({...s,...s.data&&{data:he(s.data,t,n)}}))},...e.user&&{user:he(e.user,t,n)},...e.contexts&&{contexts:he(e.contexts,t,n)},...e.extra&&{extra:he(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=he(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(s=>({...s,...s.data&&{data:he(s.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=he(e.contexts.flags,3,n)),r}function Sm(e,t){if(!t)return e;const n=e?e.clone():new be;return n.update(t),n}function Em(e,t){return w().captureException(e,void 0)}function cc(e,t){return w().captureEvent(e,t)}function ym(e,t){Fe().setContext(e,t)}function Tm(){const e=A();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function Yi(e){const t=Fe(),n=w(),{userAgent:r}=v.navigator||{},s=Df({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),i=t.getSession();return i?.status==="ok"&&pt(i,{status:"exited"}),uc(),t.setSession(s),s}function uc(){const e=Fe(),n=w().getSession()||e.getSession();n&&Ff(n),dc(),e.setSession()}function dc(){const e=Fe(),t=A(),n=e.getSession();n&&t&&t.captureSession(n)}function Xi(e=!1){if(e){uc();return}dc()}const bm="7";function vm(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Im(e){return`${vm(e)}${e.projectId}/envelope/`}function Rm(e,t){const n={sentry_version:bm};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Am(e,t,n){return t||`${Im(e)}?${Rm(e,n)}`}const Ji=[];function wm(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Nm(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return wm(r)}function km(e,t){const n={};return t.forEach(r=>{r&&lc(e,r,n)}),n}function Zi(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function lc(e,t,n){if(n[t.name]){_&&h.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!Ji.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),Ji.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,i)=>r(s,i,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((i,o)=>r(i,o,e),{id:t.name});e.addEventProcessor(s)}_&&h.log(`Integration installed: ${t.name}`)}function Cm(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function Pm(e,t,n,r){const s={};return t?.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Rt(r)),tt(s,[Cm(e)])}function fc(e,t){const n=t??Om(e)??[];if(n.length===0)return;const r=e.getOptions(),s=Pm(n,r._metadata,r.tunnel,e.getDsn());pc().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function Om(e){return pc().get(e)}function pc(){return Et("clientToLogBufferMap",()=>new WeakMap)}function Mm(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function Lm(e,t,n,r){const s={};return t?.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=Rt(r)),tt(s,[Mm(e)])}function mc(e,t){const n=t??xm(e)??[];if(n.length===0)return;const r=e.getOptions(),s=Lm(n,r._metadata,r.tunnel,e.getDsn());hc().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(s)}function xm(e){return hc().get(e)}function hc(){return Et("clientToMetricBufferMap",()=>new WeakMap)}const Os=Symbol.for("SentryBufferFullError");function Ms(e=100){const t=new Set;function n(){return t.size<e}function r(o){t.delete(o)}function s(o){if(!n())return Ps(Os);const a=o();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function i(o){if(!t.size)return Xn(!0);const a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!o)return a;const c=[a,new Promise(u=>setTimeout(()=>u(!1),o))];return Promise.race(c)}return{get $(){return Array.from(t)},add:s,drain:i}}const Dm=60*1e3;function Fm(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?Dm:r-t}function Um(e,t){return e[t]||e.all||0}function $m(e,t,n=Date.now()){return Um(e,t)>n}function Bm(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},i=n?.["x-sentry-rate-limits"],o=n?.["retry-after"];if(i)for(const a of i.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),p=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+p;else for(const f of u.split(";"))f==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[f]=r+p):s[f]=r+p}else o?s.all=r+Fm(o,r):t===429&&(s.all=r+60*1e3);return s}const gc=64;function Hm(e,t,n=Ms(e.bufferSize||gc)){let r={};const s=o=>n.drain(o);function i(o){const a=[];if(Fi(o,(l,p)=>{const f=Ui(p);$m(r,f)?e.recordDroppedEvent("ratelimit_backoff",f):a.push(l)}),a.length===0)return Promise.resolve({});const c=tt(o[0],a),u=l=>{Fi(c,(p,f)=>{e.recordDroppedEvent(l,Ui(f))})},d=()=>t({body:Op(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&_&&h.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Bm(r,l),l),l=>{throw u("network_error"),_&&h.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===Os)return _&&h.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw l})}return{send:i,flush:s}}function qm(e,t,n){const r=[{type:"client_report"},{timestamp:et(),discarded_events:e}];return tt(t?{dsn:t}:{},[r])}function _c(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function jm(e){const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:i,data:o,op:a}=e.contexts?.trace??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:i,profile_id:o?.[Is],exclusive_time:o?.[It],measurements:e.measurements,is_segment:!0}}function Vm(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[Is]:e.profile_id},...e.exclusive_time&&{[It]:e.exclusive_time}}}},measurements:e.measurements}}const Qi="Not capturing exception because it's already been captured.",eo="Discarded session because of missing or non-string release",Sc=Symbol.for("SentryInternalError"),Ec=Symbol.for("SentryDoNotSendEventError"),Wm=5e3;function Tn(e){return{message:e,[Sc]:!0}}function gr(e){return{message:e,[Ec]:!0}}function to(e){return!!e&&typeof e=="object"&&Sc in e}function no(e){return!!e&&typeof e=="object"&&Ec in e}function ro(e,t,n,r,s){let i=0,o,a=!1;e.on(n,()=>{i=0,clearTimeout(o),a=!1}),e.on(t,c=>{i+=r(c),i>=8e5?s(e):a||(a=!0,o=setTimeout(()=>{s(e)},Wm))}),e.on("flush",()=>{s(e)})}class zm{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Ms(t.transportOptions?.bufferSize??gc),t.dsn?this._dsn=fp(t.dsn):_&&h.warn("No DSN provided, client will not send events."),this._dsn){const r=Am(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&ro(this,"afterCaptureLog","flushLogs",Xm,fc),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&ro(this,"afterCaptureMetric","flushMetrics",Ym,mc)}captureException(t,n,r){const s=Q();if(Ni(t))return _&&h.log(Qi),s;const i={event_id:s,...n};return this._process(()=>this.eventFromException(t,i).then(o=>this._captureEvent(o,i,r)).then(o=>o),"error"),i.event_id}captureMessage(t,n,r,s){const i={event_id:Q(),...r},o=Es(t)?t:String(t),a=lt(t),c=a?this.eventFromMessage(o,n,i):this.eventFromException(t,i);return this._process(()=>c.then(u=>this._captureEvent(u,i,s)),a?"unknown":"error"),i.event_id}captureEvent(t,n,r){const s=Q();if(n?.originalException&&Ni(n.originalException))return _&&h.log(Qi),s;const i={event_id:s,...n},o=t.sdkProcessingMetadata||{},a=o.capturedSpanScope,c=o.capturedSpanIsolationScope,u=so(t.type);return this._process(()=>this._captureEvent(t,i,a||r,c),u),i.event_id}captureSession(t){this.sendSession(t),pt(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),s=await n.flush(t);return r&&s}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];lc(this,t,this._integrations),n||Zi(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Bp(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=Pp(r,xp(s));this.sendEnvelope(r).then(s=>this.emit("afterSendEvent",t,s))}sendSession(t){const{release:n,environment:r=Ns}=this._options;if("aggregates"in t){const i=t.attrs||{};if(!i.release&&!n){_&&h.warn(eo);return}i.release=i.release||n,i.environment=i.environment||r,t.attrs=i}else{if(!t.release&&!n){_&&h.warn(eo);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=$p(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;_&&h.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,s=(...i)=>n(...i);return r.add(s),()=>{r.delete(s)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return _&&h.error("Error while sending envelope:",n),{}}return _&&h.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=km(this,t),Zi(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",s=!1;const i=n.exception?.values;if(i){s=!0,r=!1;for(const c of i)if(c.mechanism?.handled===!1){r=!0;break}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(pt(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const i=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o?.length&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),fm(i,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Gf(r),...a.contexts};const c=ec(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=w(),s=Fe()){return _&&Hr(t)&&h.log(`Captured error event \`${_c(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(i=>i.event_id,i=>{_&&(no(i)?h.log(i.message):to(i)?h.warn(i.message):h.warn(i))})}_processEvent(t,n,r,s){const i=this.getOptions(),{sampleRate:o}=i,a=yc(t),c=Hr(t),d=`before send for type \`${t.type||"error"}\``,l=typeof o>"u"?void 0:$t(o);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),Ps(gr(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const p=so(t.type);return this._prepareEvent(t,n,r,s).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",p),gr("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return f;const S=Km(this,i,f,n);return Gm(S,d)}).then(f=>{if(f===null){if(this.recordDroppedEvent("before_send",p),a){const N=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",N)}throw gr(`${d} returned \`null\`, will not send event.`)}const m=r.getSession()||s.getSession();if(c&&m&&this._updateSessionFromEvent(m,f),a){const g=f.sdkProcessingMetadata?.spanCountBeforeProcessing||0,N=f.spans?f.spans.length:0,$=g-N;$>0&&this.recordDroppedEvent("before_send","span",$)}const S=f.transaction_info;if(a&&S&&f.transaction!==t.transaction){const g="custom";f.transaction_info={...S,source:g}}return this.sendEvent(f,n),f}).then(null,f=>{throw no(f)||to(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),Tn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===Os&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,i]=n.split(":");return{reason:s,category:i,quantity:r}})}_flushOutcomes(){_&&h.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){_&&h.log("No outcomes to send");return}if(!this._dsn){_&&h.log("No dsn provided, will not send outcomes");return}_&&h.log("Sending outcomes:",t);const n=qm(t,this._options.tunnel&&Rt(this._dsn));this.sendEnvelope(n)}}function so(e){return e==="replay_event"?"replay":e||"error"}function Gm(e,t){const n=`${t} must return \`null\` or a valid event.`;if(bt(e))return e.then(r=>{if(!Ft(r)&&r!==null)throw Tn(n);return r},r=>{throw Tn(`${t} rejected with ${r}`)});if(!Ft(e)&&e!==null)throw Tn(n);return e}function Km(e,t,n,r){const{beforeSend:s,beforeSendTransaction:i,beforeSendSpan:o,ignoreSpans:a}=t;let c=n;if(Hr(c)&&s)return s(c,r);if(yc(c)){if(o||a){const u=jm(c);if(a?.length&&xn(u,a))return null;if(o){const d=o(u);d?c=zt(n,Vm(d)):Fr()}if(c.spans){const d=[],l=c.spans;for(const f of l){if(a?.length&&xn(f,a)){Ip(l,f);continue}if(o){const m=o(f);m?d.push(m):(Fr(),d.push(f))}else d.push(f)}const p=c.spans.length-d.length;p&&e.recordDroppedEvent("before_send","span",p),c.spans=d}}if(i){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return i(c,r)}}return c}function Hr(e){return e.type===void 0}function yc(e){return e.type==="transaction"}function Ym(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+Tc(e.attributes)}function Xm(e){let t=0;return e.message&&(t+=e.message.length*2),t+Tc(e.attributes)}function Tc(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*io(n[0]):lt(n)?t+=io(n):t+=100}),t}function io(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function Jm(e,t){t.debug===!0&&(_?h.enable():yt(()=>{})),w().update(t.initialScope);const r=new e(t);return Zm(r),r.init(),r}function Zm(e){w().setClient(e)}const Qm="thismessage:/";function bc(e){return"isRelative"in e}function vc(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?Qm:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function eh(e){if(bc(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function Ge(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function th(e){return e.split(/[?#]/,1)[0]}function nh(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Ic(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(i=>({name:`${r}:@sentry/${i}`,version:Ve})),version:Ve}),e._metadata=s}function Rc(e={}){const t=e.client||A();if(!Tm()||!t)return{};const n=Qe(),r=vt(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||w(),i=e.span||Y(),o=i?Sp(i):rh(s),a=i?Oe(i):ec(t,s),c=np(a);if(!Wa.test(o))return h.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const d={"sentry-trace":o,baggage:c};return e.propagateTraceparent&&(d.traceparent=i?Ep(i):sh(s)),d}function rh(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return za(t,r,n)}function sh(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Ga(t,r,n)}const ih=100;function Ze(e,t){const n=A(),r=Fe();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:i=ih}=n.getOptions();if(i<=0)return;const a={timestamp:et(),...e},c=s?yt(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,i))}let oo;const oh="FunctionToString",ao=new WeakMap,ah=(()=>({name:oh,setupOnce(){oo=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=bs(this),n=ao.has(A())&&t!==void 0?t:this;return oo.apply(n,e)}}catch{}},setup(e){ao.set(e,!0)}})),ch=ah,uh=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],dh="EventFilters",lh=(e={})=>{let t;return{name:dh,setup(n){const r=n.getOptions();t=co(e,r)},processEvent(n,r,s){if(!t){const i=s.getOptions();t=co(e,i)}return ph(n,t)?null:n}}},fh=((e={})=>({...lh(e),name:"InboundFilters"}));function co(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:uh],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function ph(e,t){if(e.type){if(e.type==="transaction"&&hh(e,t.ignoreTransactions))return _&&h.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${qe(e)}`),!0}else{if(mh(e,t.ignoreErrors))return _&&h.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${qe(e)}`),!0;if(Eh(e))return _&&h.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${qe(e)}`),!0;if(gh(e,t.denyUrls))return _&&h.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${qe(e)}.
Url: ${Dn(e)}`),!0;if(!_h(e,t.allowUrls))return _&&h.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${qe(e)}.
Url: ${Dn(e)}`),!0}return!1}function mh(e,t){return t?.length?_c(e).some(n=>ke(n,t)):!1}function hh(e,t){if(!t?.length)return!1;const n=e.transaction;return n?ke(n,t):!1}function gh(e,t){if(!t?.length)return!1;const n=Dn(e);return n?ke(n,t):!1}function _h(e,t){if(!t?.length)return!0;const n=Dn(e);return n?ke(n,t):!0}function Sh(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Dn(e){try{const n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?Sh(n):null}catch{return _&&h.error(`Cannot extract url for event ${qe(e)}`),null}}function Eh(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function yh(e,t,n,r,s,i){if(!s.exception?.values||!i||!ye(i.originalException,Error))return;const o=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;o&&(s.exception.values=qr(e,t,r,i.originalException,n,s.exception.values,o,0))}function qr(e,t,n,r,s,i,o,a){if(i.length>=n+1)return i;let c=[...i];if(ye(r[s],Error)){uo(o,a);const u=e(t,r[s]),d=c.length;lo(u,s,d,a),c=qr(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(ye(u,Error)){uo(o,a);const l=e(t,u),p=c.length;lo(l,`errors[${d}]`,p,a),c=qr(e,t,n,u,s,[l,...c],l,p)}}),c}function uo(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function lo(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Th(e){const t="console";xe(t,e),De(t,bh)}function bh(){"console"in v&&pf.forEach(function(e){e in v.console&&z(v.console,e,function(t){return On[e]=t,function(...n){Z("console",{args:n,level:e}),On[e]?.apply(v.console,n)}})})}function vh(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Ih="Dedupe",Rh=(()=>{let e;return{name:Ih,processEvent(t){if(t.type)return t;try{if(wh(t,e))return _&&h.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}}),Ah=Rh;function wh(e,t){return t?!!(Nh(e,t)||kh(e,t)):!1}function Nh(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!wc(e,t)||!Ac(e,t))}function kh(e,t){const n=fo(t),r=fo(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!wc(e,t)||!Ac(e,t))}function Ac(e,t){let n=bi(e),r=bi(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const i=r[s],o=n[s];if(i.filename!==o.filename||i.lineno!==o.lineno||i.colno!==o.colno||i.function!==o.function)return!1}return!0}function wc(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function fo(e){return e.exception?.values?.[0]}function Ch(e,t,n,r,s){if(!e.fetchData)return;const{method:i,url:o}=e.fetchData,a=ae()&&t(o);if(e.endTimestamp&&a){const f=e.fetchData.__span;if(!f)return;const m=r[f];m&&(Mh(m,e),Ph(m,e,s),delete r[f]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof s=="object"?s:{spanOrigin:s},d=!!Y(),l=a&&d?At(xh(o,i,c)):new Me;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){const f=e.args[0],m=e.args[1]||{},S=Oh(f,m,ae()&&d?l:void 0,u);S&&(e.args[1]=m,m.headers=S)}const p=A();if(p){const f={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};p.emit("beforeOutgoingRequestSpan",l,f)}return l}function Ph(e,t,n){(typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0)?.(e,{headers:t.response?.headers,error:t.error})}function Oh(e,t,n,r){const s=Rc({span:n,propagateTraceparent:r}),i=s["sentry-trace"],o=s.baggage,a=s.traceparent;if(!i)return;const c=t.headers||(ys(e)?e.headers:void 0);if(c)if(Lh(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",i),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),o){const d=u.get("baggage");d?un(d)||u.set("baggage",`${d},${o}`):u.set("baggage",o)}return u}else if(Array.isArray(c)){const u=[...c];c.find(l=>l[0]==="sentry-trace")||u.push(["sentry-trace",i]),r&&a&&!c.find(l=>l[0]==="traceparent")&&u.push(["traceparent",a]);const d=c.find(l=>l[0]==="baggage"&&un(l[1]));return o&&!d&&u.push(["baggage",o]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,d="traceparent"in c?c.traceparent:void 0,l="baggage"in c?c.baggage:void 0,p=l?Array.isArray(l)?[...l]:[l]:[],f=l&&(Array.isArray(l)?l.find(S=>un(S)):un(l));o&&!f&&p.push(o);const m={...c,"sentry-trace":u??i,baggage:p.length>0?p.join(","):void 0};return r&&a&&!d&&(m.traceparent=a),m}else return{...s}}function Mh(e,t){if(t.response){Ba(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:P,message:"internal_error"});e.end()}function un(e){return e.split(",").some(t=>t.trim().startsWith(As))}function Lh(e){return typeof Headers<"u"&&ye(e,Headers)}function xh(e,t,n){const r=vc(e);return{name:r?`${t} ${eh(r)}`:t,attributes:Dh(e,r,t,n)}}function Dh(e,t,n,r){const s={url:e,type:"fetch","http.method":n,[M]:r,[ve]:"http.client"};return t&&(bc(t)||(s["http.url"]=t.href,s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function Nc(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const Ht=v;function Fh(){return"history"in Ht&&!!Ht.history}function Uh(){if(!("fetch"in Ht))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function jr(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function $h(){if(typeof EdgeRuntime=="string")return!0;if(!Uh())return!1;if(jr(Ht.fetch))return!0;let e=!1;const t=Ht.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=jr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){_&&h.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function kc(e,t){const n="fetch";xe(n,e),De(n,()=>Cc(void 0,t))}function Bh(e){const t="fetch-body-resolved";xe(t,e),De(t,()=>Cc(qh))}function Cc(e,t=!1){t&&!$h()||z(v,"fetch",function(n){return function(...r){const s=new Error,{method:i,url:o}=jh(r),a={args:r,fetchData:{method:i,url:o},startTimestamp:L()*1e3,virtualError:s,headers:Vh(r)};return e||Z("fetch",{...a}),n.apply(v,r).then(async c=>(e?e(c):Z("fetch",{...a,endTimestamp:L()*1e3,response:c}),c),c=>{if(Z("fetch",{...a,endTimestamp:L()*1e3,error:c}),Ss(c)&&c.stack===void 0&&(c.stack=s.stack,G(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function Hh(e,t){if(e?.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let i=!0;for(;i;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),i=!1)}catch{i=!1}finally{clearTimeout(o)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function qh(e){let t;try{t=e.clone()}catch{return}Hh(t,()=>{Z("fetch-body-resolved",{endTimestamp:L()*1e3,response:e})})}function bn(e,t){return!!e&&typeof e=="object"&&!!e[t]}function po(e){return typeof e=="string"?e:e?bn(e,"url")?e.url:e.toString?e.toString():"":""}function jh(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:po(n),method:bn(r,"method")?String(r.method).toUpperCase():ys(n)&&bn(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:po(t),method:bn(t,"method")?String(t.method).toUpperCase():"GET"}}function Vh(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(ys(t))return new Headers(t.headers)}catch{}}function Wh(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function zh(){return"npm"}function Gh(){return!Wh()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Kh(){return typeof window<"u"&&(!Gh()||Yh())}function Yh(){return v.process?.type==="renderer"}const T=v;let Vr=0;function Pc(){return Vr>0}function Xh(){Vr++,setTimeout(()=>{Vr--})}function gt(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(bs(e))return e}catch{return e}const r=function(...s){try{const i=s.map(o=>gt(o,t));return e.apply(this,i)}catch(i){throw Xh(),Kn(o=>{o.addEventProcessor(a=>(t.mechanism&&(Lr(a,void 0),ft(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Em(i)}),i}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}xa(r,e),G(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Ls(){const e=Wt(),{referrer:t}=T.document||{},{userAgent:n}=T.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function xs(e,t){const n=Ds(e,t),r={type:tg(t),value:ng(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Jh(e,t,n,r){const i=A()?.getOptions().normalizeDepth,o=ag(t),a={__serialized__:tc(t,i)};if(o)return{exception:{values:[xs(e,o)]},extra:a};const c={exception:{values:[{type:Gn(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:ig(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=Ds(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function _r(e,t){return{exception:{values:[xs(e,t)]}}}function Ds(e,t){const n=t.stacktrace||t.stack||"",r=Qh(t),s=eg(t);try{return e(n,r,s)}catch{}return[]}const Zh=/Minified React error #\d+;/i;function Qh(e){return e&&Zh.test(e.message)?1:0}function eg(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function Oc(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function tg(e){const t=e?.name;return!t&&Oc(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function ng(e){const t=e?.message;return Oc(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function rg(e,t,n,r){const s=n?.syntheticException||void 0,i=Fs(e,t,s,r);return ft(i),i.level="error",n?.event_id&&(i.event_id=n.event_id),Xn(i)}function sg(e,t,n="info",r,s){const i=r?.syntheticException||void 0,o=Wr(e,t,i,s);return o.level=n,r?.event_id&&(o.event_id=r.event_id),Xn(o)}function Fs(e,t,n,r,s){let i;if(Oa(t)&&t.error)return _r(e,t.error);if(Ii(t)||If(t)){const o=t;if("stack"in t)i=_r(e,t);else{const a=o.name||(Ii(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;i=Wr(e,c,n,r),Lr(i,c)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}return Ss(t)?_r(e,t):Ft(t)||Gn(t)?(i=Jh(e,t,n,s),ft(i,{synthetic:!0}),i):(i=Wr(e,t,n,r),Lr(i,`${t}`),ft(i,{synthetic:!0}),i)}function Wr(e,t,n,r){const s={};if(r&&n){const i=Ds(e,n);i.length&&(s.exception={values:[{value:t,stacktrace:{frames:i}}]}),ft(s,{synthetic:!0})}if(Es(t)){const{__sentry_template_string__:i,__sentry_template_values__:o}=t;return s.logentry={message:i,params:o},s}return s.message=t,s}function ig(e,{isUnhandledRejection:t}){const n=Cf(e),r=t?"promise rejection":"exception";return Oa(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Gn(e)?`Event \`${og(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function og(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function ag(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class cg extends zm{constructor(t){const n=ug(t),r=T.SENTRY_SDK_SOURCE||zh();Ic(n,"browser",["browser"],r),n._metadata?.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:i,enableLogs:o,_experiments:a,enableMetrics:c}=this._options,u=c??a?.enableMetrics??!0;T.document&&(i||o||u)&&T.document.addEventListener("visibilitychange",()=>{T.document.visibilityState==="hidden"&&(i&&this._flushOutcomes(),o&&fc(this),u&&mc(this))}),s&&this.on("beforeSendSession",nh)}eventFromException(t,n){return rg(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return sg(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function ug(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:T.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const Yt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,E=v,dg=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Xt=(e,t,n,r)=>{let s,i;return o=>{t.value>=0&&(o||r)&&(i=t.value-(s??0),(i||s===void 0)&&(s=t.value,t.delta=i,t.rating=dg(t.value,n),e(t)))}},Jt=(e=!0)=>{const t=E.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},wt=()=>Jt()?.activationStart??0;function Ke(e,t,n){E.document&&E.addEventListener(e,t,n)}function Us(e,t,n){E.document&&E.removeEventListener(e,t,n)}let ct=-1;const Mc=new Set,lg=()=>E.document?.visibilityState==="hidden"&&!E.document?.prerendering?0:1/0,vn=e=>{if(fg(e)&&ct>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of Mc)t();isFinite(ct)||(ct=e.type==="visibilitychange"?e.timeStamp:0,Us("prerenderingchange",vn,!0))}},Zt=()=>{if(E.document&&ct<0){const e=wt();ct=(E.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??lg(),Ke("visibilitychange",vn,!0),Ke("pagehide",vn,!0),Ke("prerenderingchange",vn,!0)}return{get firstHiddenTime(){return ct},onHidden(e){Mc.add(e)}}};function fg(e){return e.type==="pagehide"||E.document?.visibilityState==="hidden"}const pg=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Qt=(e,t=-1)=>{const n=Jt();let r="navigate";return n&&(E.document?.prerendering||wt()>0?r="prerender":E.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:pg(),navigationType:r}},Sr=new WeakMap;function $s(e,t){return Sr.get(e)||Sr.set(e,new t),Sr.get(e)}class Fn{constructor(){Fn.prototype.__init.call(this),Fn.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}}const Nt=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Bs=e=>{let t=!1;return()=>{t||(e(),t=!0)}},Jn=e=>{E.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},mg=[1800,3e3],hg=(e,t={})=>{Jn(()=>{const n=Zt(),r=Qt("FCP");let s;const o=Nt("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(o.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-wt(),0),r.entries.push(c),s(!0)))});o&&(s=Xt(e,r,mg,t.reportAllChanges))})},gg=[.1,.25],_g=(e,t={})=>{hg(Bs(()=>{const n=Qt("CLS",0);let r;const s=Zt(),i=$s(t,Fn),o=c=>{for(const u of c)i._processEntry(u);i._sessionValue>n.value&&(n.value=i._sessionValue,n.entries=i._sessionEntries,r())},a=Nt("layout-shift",o);a&&(r=Xt(e,n,gg,t.reportAllChanges),s.onHidden(()=>{o(a.takeRecords()),r(!0)}),E?.setTimeout?.(r))}))};let Lc=0,Er=1/0,dn=0;const Sg=e=>{e.forEach(t=>{t.interactionId&&(Er=Math.min(Er,t.interactionId),dn=Math.max(dn,t.interactionId),Lc=dn?(dn-Er)/7+1:0)})};let zr;const xc=()=>zr?Lc:performance.interactionCount||0,Eg=()=>{"interactionCount"in performance||zr||(zr=Nt("event",Sg,{type:"event",buffered:!0,durationThreshold:0}))},yr=10;let Dc=0;const yg=()=>xc()-Dc;class Un{constructor(){Un.prototype.__init.call(this),Un.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Dc=xc(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(yg()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<yr||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((s,i)=>i._latency-s._latency),this._longestInteractionList.length>yr){const s=this._longestInteractionList.splice(yr);for(const i of s)this._longestInteractionMap.delete(i.id)}this._onAfterProcessingINPCandidate?.(r)}}}const Fc=e=>{const t=n=>{(n.type==="pagehide"||E.document?.visibilityState==="hidden")&&e(n)};Ke("visibilitychange",t,!0),Ke("pagehide",t,!0)},Uc=e=>{const t=E.requestIdleCallback||E.setTimeout;E.document?.visibilityState==="hidden"?e():(e=Bs(e),Ke("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),Us("visibilitychange",e,{capture:!0})}),Fc(e))},Tg=[200,500],bg=40,vg=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=Zt();Jn(()=>{Eg();const r=Qt("INP");let s;const i=$s(t,Un),o=c=>{Uc(()=>{for(const d of c)i._processEntry(d);const u=i._estimateP98LongestInteraction();u&&u._latency!==r.value&&(r.value=u._latency,r.entries=u.entries,s())})},a=Nt("event",o,{durationThreshold:t.durationThreshold??bg});s=Xt(e,r,Tg,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{o(a.takeRecords()),s(!0)}))})};class Ig{_processEntry(t){this._onBeforeProcessingEntry?.(t)}}const Rg=[2500,4e3],Ag=(e,t={})=>{Jn(()=>{const n=Zt(),r=Qt("LCP");let s;const i=$s(t,Ig),o=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)i._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-wt(),0),r.entries=[u],s())},a=Nt("largest-contentful-paint",o);if(a){s=Xt(e,r,Rg,t.reportAllChanges);const c=Bs(()=>{o(a.takeRecords()),a.disconnect(),s(!0)}),u=d=>{d.isTrusted&&(Uc(c),Us(d.type,u,{capture:!0}))};for(const d of["keydown","click","visibilitychange"])Ke(d,u,{capture:!0})}})},wg=[800,1800],Gr=e=>{E.document?.prerendering?Jn(()=>Gr(e)):E.document?.readyState!=="complete"?addEventListener("load",()=>Gr(e),!0):setTimeout(e)},Ng=(e,t={})=>{const n=Qt("TTFB"),r=Xt(e,n,wg,t.reportAllChanges);Gr(()=>{const s=Jt();s&&(n.value=Math.max(s.responseStart-wt(),0),n.entries=[s],r(!0))})},Dt={},$n={};let $c,Bc,Hc,qc;function jc(e,t=!1){return Zn("cls",e,Pg,$c,t)}function Vc(e,t=!1){return Zn("lcp",e,Og,Bc,t)}function kg(e){return Zn("ttfb",e,Mg,Hc)}function Cg(e){return Zn("inp",e,Lg,qc)}function _t(e,t){return Wc(e,t),$n[e]||(xg(e),$n[e]=!0),zc(e,t)}function en(e,t){const n=Dt[e];if(n?.length)for(const r of n)try{r(t)}catch(s){Yt&&h.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ee(r)}
Error:`,s)}}function Pg(){return _g(e=>{en("cls",{metric:e}),$c=e},{reportAllChanges:!0})}function Og(){return Ag(e=>{en("lcp",{metric:e}),Bc=e},{reportAllChanges:!0})}function Mg(){return Ng(e=>{en("ttfb",{metric:e}),Hc=e})}function Lg(){return vg(e=>{en("inp",{metric:e}),qc=e})}function Zn(e,t,n,r,s=!1){Wc(e,t);let i;return $n[e]||(i=n(),$n[e]=!0),r&&t({metric:r}),zc(e,t,s?i:void 0)}function xg(e){const t={};e==="event"&&(t.durationThreshold=0),Nt(e,n=>{en(e,{entries:n})},t)}function Wc(e,t){Dt[e]=Dt[e]||[],Dt[e].push(t)}function zc(e,t,n){return()=>{n&&n();const r=Dt[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function Dg(e){return"duration"in e}function Tr(e){return typeof e=="number"&&isFinite(e)}function Le(e,t,n,{...r}){const s=I(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),ks(e,()=>{const i=At({startTime:t,...r});return i&&i.end(n),i})}function Hs(e){const t=A();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:i}=e,{release:o,environment:a,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=w(),p=l.getUser(),f=p!==void 0?p.email||p.id||p.ip_address:void 0;let m;try{m=l.getScopeData().contexts.profile.profile_id}catch{}const S={release:o,environment:a,user:f||void 0,profile_id:m||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":E.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...s};return At({name:n,attributes:S,startTime:i,experimental:{standalone:!0}})}function tn(){return E.addEventListener&&E.performance}function C(e){return e/1e3}function Fg(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function Gc(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Kc(e,t){let n,r=!1;function s(a){!r&&n&&t(a,n),r=!0}Fc(()=>{s("pagehide")});const i=e.on("beforeStartNavigationSpan",(a,c)=>{c?.isRedirect||(s("navigation"),i(),o())}),o=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,o()})}function Ug(e){let t=0,n;if(!Gc("layout-shift"))return;const r=jc(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);Kc(e,(s,i)=>{$g(t,n,i,s),r()})}function $g(e,t,n,r){Yt&&h.log(`Sending CLS span (${e})`);const s=t?C((K()||0)+t.startTime):L(),i=w().getScopeData().transactionName,o=t?ee(t.sources[0]?.node):"Layout shift",a={[M]:"auto.http.browser.cls",[ve]:"ui.webvital.cls",[It]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,d)=>{a[`cls.source.${d+1}`]=ee(u.node)});const c=Hs({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("cls",{[Gt]:"",[Kt]:e}),c.end(s))}function Bg(e){let t=0,n;if(!Gc("largest-contentful-paint"))return;const r=Vc(({metric:s})=>{const i=s.entries[s.entries.length-1];i&&(t=s.value,n=i)},!0);Kc(e,(s,i)=>{Hg(t,n,i,s),r()})}function Hg(e,t,n,r){Yt&&h.log(`Sending LCP span (${e})`);const s=C((K()||0)+(t?.startTime||0)),i=w().getScopeData().transactionName,o=t?ee(t.element):"Largest contentful paint",a={[M]:"auto.http.browser.lcp",[ve]:"ui.webvital.lcp",[It]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=ee(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=Hs({name:o,transaction:i,attributes:a,startTime:s});c&&(c.addEvent("lcp",{[Gt]:"millisecond",[Kt]:e}),c.end(s))}function X(e){return e&&((K()||performance.timeOrigin)+e)/1e3}function Yc(e){const t={};if(e.nextHopProtocol!=null){const{name:n,version:r}=Fg(e.nextHopProtocol);t["network.protocol.version"]=r,t["network.protocol.name"]=n}return K()||tn()?.timeOrigin?qg({...t,"http.request.redirect_start":X(e.redirectStart),"http.request.redirect_end":X(e.redirectEnd),"http.request.worker_start":X(e.workerStart),"http.request.fetch_start":X(e.fetchStart),"http.request.domain_lookup_start":X(e.domainLookupStart),"http.request.domain_lookup_end":X(e.domainLookupEnd),"http.request.connect_start":X(e.connectStart),"http.request.secure_connection_start":X(e.secureConnectionStart),"http.request.connection_end":X(e.connectEnd),"http.request.request_start":X(e.requestStart),"http.request.response_start":X(e.responseStart),"http.request.response_end":X(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function qg(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const jg=2147483647;let mo=0,ie={},j,Bn;function Vg({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=tn();if(r&&K()){r.mark&&E.performance.mark("sentry-tracing-init");const s=t?Bg(n):Yg(),i=Xg(),o=e?Ug(n):Kg();return()=>{s?.(),i(),o?.()}}return()=>{}}function Wg(){_t("longtask",({entries:e})=>{const t=Y();if(!t)return;const{op:n,start_timestamp:r}=I(t);for(const s of e){const i=C(K()+s.startTime),o=C(s.duration);n==="navigation"&&r&&i<r||Le(t,i,i+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[M]:"auto.ui.browser.metrics"}})}})}function zg(){new PerformanceObserver(t=>{const n=Y();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=C(K()+r.startTime),{start_timestamp:i,op:o}=I(n);if(o==="navigation"&&i&&s<i)continue;const a=C(r.duration),c={[M]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:p,sourceFunctionName:f,sourceCharPosition:m}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,p&&(c["code.filepath"]=p),f&&(c["code.function"]=f),m!==-1&&(c["browser.script.source_char_position"]=m),Le(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function Gg(){_t("event",({entries:e})=>{const t=Y();if(t){for(const n of e)if(n.name==="click"){const r=C(K()+n.startTime),s=C(n.duration),i={name:ee(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[M]:"auto.ui.browser.metrics"}},o=La(n.target);o&&(i.attributes["ui.component_name"]=o),Le(t,r,r+s,i)}}})}function Kg(){return jc(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ie.cls={value:e.value,unit:""},Bn=t)},!0)}function Yg(){return Vc(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(ie.lcp={value:e.value,unit:"millisecond"},j=t)},!0)}function Xg(){return kg(({metric:e})=>{e.entries[e.entries.length-1]&&(ie.ttfb={value:e.value,unit:"millisecond"})})}function Jg(e,t){const n=tn(),r=K();if(!n?.getEntries||!r)return;const s=C(r),i=n.getEntries(),{op:o,start_timestamp:a}=I(e);i.slice(mo).forEach(c=>{const u=C(c.startTime),d=C(Math.max(0,c.duration));if(!(o==="navigation"&&a&&s+u<a))switch(c.entryType){case"navigation":{t_(e,c,s);break}case"mark":case"paint":case"measure":{Qg(e,c,u,d,s,t.ignorePerformanceApiSpans);const l=Zt(),p=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&p&&(ie.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&p&&(ie.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{s_(e,c,c.name,u,d,s,t.ignoreResourceSpans);break}}}),mo=Math.max(i.length-1,0),i_(e),o==="pageload"&&(c_(ie),t.recordClsOnPageloadSpan||delete ie.cls,t.recordLcpOnPageloadSpan||delete ie.lcp,Object.entries(ie).forEach(([c,u])=>{Vp(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",wt()),o_(e,t)),j=void 0,Bn=void 0,ie={}}function Zg(e){if(e?.entryType==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function Qg(e,t,n,r,s,i){if(Zg(t)||["mark","measure"].includes(t.entryType)&&ke(t.name,i))return;const o=Jt(!1),a=C(o?o.requestStart:0),c=s+Math.max(n,a),u=s+n,d=u+r,l={[M]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),e_(l,t),c<=d&&Le(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function e_(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&lt(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(lt(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function t_(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{ln(e,t,r,n)}),ln(e,t,"secureConnection",n,"TLS/SSL"),ln(e,t,"fetch",n,"cache"),ln(e,t,"domainLookup",n,"DNS"),r_(e,t,n)}function ln(e,t,n,r,s=n){const i=n_(n),o=t[i],a=t[`${n}Start`];!a||!o||Le(e,r+C(a),r+C(o),{op:`browser.${s}`,name:t.name,attributes:{[M]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function n_(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function r_(e,t,n){const r=n+C(t.requestStart),s=n+C(t.responseEnd),i=n+C(t.responseStart);t.responseEnd&&(Le(e,r,s,{op:"browser.request",name:t.name,attributes:{[M]:"auto.ui.browser.metrics"}}),Le(e,i,s,{op:"browser.response",name:t.name,attributes:{[M]:"auto.ui.browser.metrics"}}))}function s_(e,t,n,r,s,i,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o?.includes(a))return;const c={[M]:"auto.resource.browser.metrics"},u=Ge(n);u.protocol&&(c["url.scheme"]=u.protocol.split(":").pop()),u.host&&(c["server.address"]=u.host),c["url.same_origin"]=n.includes(E.location.origin),a_(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const d={...c,...Yc(t)},l=i+r,p=l+s;Le(e,l,p,{name:n.replace(E.location.origin,""),op:a,attributes:d})}function i_(e){const t=E.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Tr(n.rtt)&&(ie["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Tr(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Tr(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function o_(e,t){j&&t.recordLcpOnPageloadSpan&&(j.element&&e.setAttribute("lcp.element",ee(j.element)),j.id&&e.setAttribute("lcp.id",j.id),j.url&&e.setAttribute("lcp.url",j.url.trim().slice(0,200)),j.loadTime!=null&&e.setAttribute("lcp.loadTime",j.loadTime),j.renderTime!=null&&e.setAttribute("lcp.renderTime",j.renderTime),e.setAttribute("lcp.size",j.size)),Bn?.sources&&t.recordClsOnPageloadSpan&&Bn.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,ee(n.node)))}function a_(e,t,n){n.forEach(([r,s])=>{const i=e[r];i!=null&&(typeof i=="number"&&i<jg||typeof i=="string")&&(t[s]=i)})}function c_(e){const t=Jt(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function u_(){return tn()&&K()?_t("element",d_):()=>{}}const d_=({entries:e})=>{const t=Y(),n=t?q(t):void 0,r=n?I(n).description:w().getScopeData().transactionName;e.forEach(s=>{const i=s;if(!i.identifier)return;const o=i.name,a=i.renderTime,c=i.loadTime,[u,d]=c?[C(c),"load-time"]:a?[C(a),"render-time"]:[L(),"entry-emission"],l=o==="image-paint"?C(Math.max(0,(a??0)-(c??0))):0,p={[M]:"auto.ui.browser.elementtiming",[ve]:"ui.elementtiming",[de]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":i.id,"element.type":i.element?.tagName?.toLowerCase()||"unknown","element.size":i.naturalWidth&&i.naturalHeight?`${i.naturalWidth}x${i.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":i.url||void 0,"element.identifier":i.identifier,"element.paint_type":o};Xp({name:`element[${i.identifier}]`,attributes:p,startTime:u,onlyIfParent:!0},f=>{f.end(u+l)})})},l_=1e3;let ho,Kr,Yr;function f_(e){xe("dom",e),De("dom",p_)}function p_(){if(!E.document)return;const e=Z.bind(null,"dom"),t=go(e,!0);E.document.addEventListener("click",t,!1),E.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const s=E[n]?.prototype;s?.hasOwnProperty?.("addEventListener")&&(z(s,"addEventListener",function(i){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[o]=u[o]||{refCount:0};if(!d.handler){const l=go(e);d.handler=l,i.call(this,o,l,c)}d.refCount++}catch{}return i.call(this,o,a,c)}}),z(s,"removeEventListener",function(i){return function(o,a,c){if(o==="click"||o=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[o];d&&(d.refCount--,d.refCount<=0&&(i.call(this,o,d.handler,c),d.handler=void 0,delete u[o]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return i.call(this,o,a,c)}}))})}function m_(e){if(e.type!==Kr)return!1;try{if(!e.target||e.target._sentryId!==Yr)return!1}catch{}return!0}function h_(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function go(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=g_(n);if(h_(n.type,r))return;G(n,"_sentryCaptured",!0),r&&!r._sentryId&&G(r,"_sentryId",Q());const s=n.type==="keypress"?"input":n.type;m_(n)||(e({event:n,name:s,global:t}),Kr=n.type,Yr=r?r._sentryId:void 0),clearTimeout(ho),ho=E.setTimeout(()=>{Yr=void 0,Kr=void 0},l_)}}function g_(e){try{return e.target}catch{return null}}let fn;function qs(e){const t="history";xe(t,e),De(t,__)}function __(){if(E.addEventListener("popstate",()=>{const t=E.location.href,n=fn;if(fn=t,n===t)return;Z("history",{from:n,to:t})}),!Fh())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=fn,i=S_(String(r));if(fn=i,s===i)return t.apply(this,n);Z("history",{from:s,to:i})}return t.apply(this,n)}}z(E.history,"pushState",e),z(E.history,"replaceState",e)}function S_(e){try{return new URL(e,E.location.origin).toString()}catch{return e}}const In={};function E_(e){const t=In[e];if(t)return t;let n=E[e];if(jr(n))return In[e]=n.bind(E);const r=E.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const i=s.contentWindow;i?.[e]&&(n=i[e]),r.head.removeChild(s)}catch(s){Yt&&h.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(In[e]=n.bind(E))}function y_(e){In[e]=void 0}const it="__sentry_xhr_v3__";function Xc(e){xe("xhr",e),De("xhr",T_)}function T_(){if(!E.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,i=L()*1e3,o=ge(r[0])?r[0].toUpperCase():void 0,a=b_(r[1]);if(!o||!a)return t.apply(n,r);n[it]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[it];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:L()*1e3,startTimestamp:i,xhr:n,virtualError:s};Z("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[p,f]=l,m=d[it];return m&&ge(p)&&ge(f)&&(m.request_headers[p.toLowerCase()]=f),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[it];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const i={startTimestamp:L()*1e3,xhr:n};return Z("xhr",i),t.apply(n,r)}})}function b_(e){if(ge(e))return e;try{return e.toString()}catch{}}function v_(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return Yt&&h.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[s,i]=r.split(": ");return i&&(n[s.toLowerCase()]=i),n},{}):{}}const br=[],Rn=new Map,rt=new Map,I_=60;function R_(){if(tn()&&K()){const t=A_();return()=>{t()}}return()=>{}}const Xr={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function A_(){return Cg(w_)}const w_=({metric:e})=>{if(e.value==null)return;const t=C(e.value);if(t>I_)return;const n=e.entries.find(m=>m.duration===e.value&&Xr[m.name]);if(!n)return;const{interactionId:r}=n,s=Xr[n.name],i=C(K()+n.startTime),o=Y(),a=o?q(o):void 0,c=r!=null?Rn.get(r):void 0,u=c?.span||a,d=u?I(u).description:w().getScopeData().transactionName,l=c?.elementName||ee(n.target),p={[M]:"auto.http.browser.inp",[ve]:`ui.interaction.${s}`,[It]:n.duration},f=Hs({name:l,transaction:d,attributes:p,startTime:i});f&&(f.addEvent("inp",{[Gt]:"millisecond",[Kt]:e.value}),f.end(i+t))};function N_(){const e=Object.keys(Xr);Kh()&&e.forEach(s=>{E.addEventListener(s,t,{capture:!0,passive:!0})});function t(s){const i=s.target;if(!i)return;const o=ee(i),a=Math.round(s.timeStamp);if(rt.set(a,o),rt.size>50){const c=rt.keys().next().value;c!==void 0&&rt.delete(c)}}function n(s){const i=Math.round(s.startTime);let o=rt.get(i);if(!o)for(let a=-5;a<=5;a++){const c=rt.get(i+a);if(c){o=c;break}}return o||"<unknown>"}const r=({entries:s})=>{const i=Y(),o=i&&q(i);s.forEach(a=>{if(!Dg(a))return;const c=a.interactionId;if(c==null||Rn.has(c))return;const u=a.target?ee(a.target):n(a);if(br.length>10){const d=br.shift();Rn.delete(d)}br.push(c),Rn.set(c,{span:o,elementName:u})})};_t("event",r),_t("first-input",r)}const k_=40;function C_(e,t=E_("fetch")){let n=0,r=0;async function s(i){const o=i.body.length;n+=o,r++;const a={body:i.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const c=await t(e.url,a);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw y_("fetch"),c}finally{n-=o,r--}}return Hm(e,s,Ms(e.bufferSize||k_))}const te=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,P_=30,O_=50;function Jr(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?Je:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const M_=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,L_=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,x_=/\((\S*)(?::(\d+))(?::(\d+))\)/,D_=/at (.+?) ?\(data:(.+?),/,F_=e=>{const t=e.match(D_);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=M_.exec(e);if(n){const[,s,i,o]=n;return Jr(s,Je,+i,+o)}const r=L_.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=x_.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[i,o]=Jc(r[1]||Je,r[2]);return Jr(o,i,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},U_=[P_,F_],$_=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,B_=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,H_=e=>{const t=$_.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const i=B_.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],s=t[1]||Je;return[s,r]=Jc(s,r),Jr(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},q_=[O_,H_],j_=[U_,q_],V_=wa(...j_),Jc=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Je,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},pn=1024,W_="Breadcrumbs",z_=((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:W_,setup(n){t.console&&Th(X_(n)),t.dom&&f_(Y_(n,t.dom)),t.xhr&&Xc(J_(n)),t.fetch&&kc(Z_(n)),t.history&&qs(Q_(n)),t.sentry&&n.on("beforeSendEvent",K_(n))}}}),G_=z_;function K_(e){return function(n){A()===e&&Ze({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:qe(n)},{event:n})}}function Y_(e,t){return function(r){if(A()!==e)return;let s,i,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>pn&&(te&&h.warn(`\`dom.maxStringLength\` cannot exceed ${pn}, but a value of ${a} was configured. Sentry will use ${pn} instead.`),a=pn),typeof o=="string"&&(o=[o]);try{const u=r.event,d=eS(u)?u.target:u;s=ee(d,{keyAttrs:o,maxStringLength:a}),i=La(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};i&&(c.data={"ui.component_name":i}),Ze(c,{event:r.event,name:r.name,global:r.global})}}function X_(e){return function(n){if(A()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:vh(n.level),message:wi(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${wi(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Ze(r,{input:n.args,level:n.level})}}function J_(e){return function(n){if(A()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,i=n.xhr[it];if(!r||!s||!i)return;const{method:o,url:a,status_code:c,body:u}=i,d={method:o,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},p={category:"xhr",data:d,type:"http",level:Nc(c)};e.emit("beforeOutgoingRequestBreadcrumb",p,l),Ze(p,l)}}function Z_(e){return function(n){if(A()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const i=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:i,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),Ze(a,o)}else{const i=n.response,o={...n.fetchData,status_code:i?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,i?.status;const a={input:n.args,response:i,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:o,type:"http",level:Nc(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),Ze(c,a)}}}function Q_(e){return function(n){if(A()!==e)return;let r=n.from,s=n.to;const i=Ge(T.location.href);let o=r?Ge(r):void 0;const a=Ge(s);o?.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(s=a.relative),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),Ze({category:"navigation",data:{from:r,to:s}})}}function eS(e){return!!e&&!!e.target}const tS=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],nS="BrowserApiErrors",rS=((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:nS,setupOnce(){t.setTimeout&&z(T,"setTimeout",_o),t.setInterval&&z(T,"setInterval",_o),t.requestAnimationFrame&&z(T,"requestAnimationFrame",iS),t.XMLHttpRequest&&"XMLHttpRequest"in T&&z(XMLHttpRequest.prototype,"send",oS);const n=t.eventTarget;n&&(Array.isArray(n)?n:tS).forEach(s=>aS(s,t))}}}),sS=rS;function _o(e){return function(...t){const n=t[0];return t[0]=gt(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${Ee(e)}`}}),e.apply(this,t)}}function iS(e){return function(t){return e.apply(this,[gt(t,{mechanism:{data:{handler:Ee(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function oS(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&z(n,s,function(i){const o={mechanism:{data:{handler:Ee(i)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},a=bs(i);return a&&(o.mechanism.data.handler=Ee(a)),gt(i,o)})}),e.apply(this,t)}}function aS(e,t){const r=T[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(z(r,"addEventListener",function(s){return function(i,o,a){try{cS(o)&&(o.handleEvent=gt(o.handleEvent,{mechanism:{data:{handler:Ee(o),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&uS(this,i,o),s.apply(this,[i,gt(o,{mechanism:{data:{handler:Ee(o),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),a])}}),z(r,"removeEventListener",function(s){return function(i,o,a){try{const c=o.__sentry_wrapped__;c&&s.call(this,i,c,a)}catch{}return s.call(this,i,o,a)}}))}function cS(e){return typeof e.handleEvent=="function"}function uS(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const dS=()=>({name:"BrowserSession",setupOnce(){if(typeof T.document>"u"){te&&h.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Yi({ignoreDuration:!0}),Xi(),qs(({from:e,to:t})=>{e!==void 0&&e!==t&&(Yi({ignoreDuration:!0}),Xi())})}}),lS="GlobalHandlers",fS=((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:lS,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(mS(n),So("onerror")),t.onunhandledrejection&&(hS(n),So("onunhandledrejection"))}}}),pS=fS;function mS(e){ka(t=>{const{stackParser:n,attachStacktrace:r}=Zc();if(A()!==e||Pc())return;const{msg:s,url:i,line:o,column:a,error:c}=t,u=SS(Fs(n,c||s,void 0,r,!1),i,o,a);u.level="error",cc(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function hS(e){Ca(t=>{const{stackParser:n,attachStacktrace:r}=Zc();if(A()!==e||Pc())return;const s=gS(t),i=lt(s)?_S(s):Fs(n,s,void 0,r,!0);i.level="error",cc(i,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function gS(e){if(lt(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function _S(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function SS(e,t,n,r){const s=e.exception=e.exception||{},i=s.values=s.values||[],o=i[0]=i[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=ES(t)??Wt();return c.length===0&&c.push({colno:u,filename:l,function:Je,in_app:!0,lineno:d}),e}function So(e){te&&h.log(`Global Handler attached: ${e}`)}function Zc(){return A()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function ES(e){if(!(!ge(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e}}const yS=()=>({name:"HttpContext",preprocessEvent(e){if(!T.navigator&&!T.location&&!T.document)return;const t=Ls(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),TS="cause",bS=5,vS="LinkedErrors",IS=((e={})=>{const t=e.limit||bS,n=e.key||TS;return{name:vS,preprocessEvent(r,s,i){const o=i.getOptions();yh(xs,o.stackParser,n,t,r,s)}}}),RS=IS;function AS(){return wS()?(te&&yt(()=>{}),!0):!1}function wS(){if(typeof T.window>"u")return!1;const e=T;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const n=Wt(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(T===T.top&&r.some(i=>n.startsWith(`${i}://`)))}function NS(e){return[fh(),ch(),sS(),G_(),pS(),RS(),Ah(),yS(),dS()]}function kS(e={}){const t=!e.skipBrowserExtensionCheck&&AS();let n=e.defaultIntegrations==null?NS():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:yf(e.stackParser||V_),integrations:Nm({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||C_};return Jm(cg,r)}function CS(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Qc(e){try{return new URL(e,T.location.origin).href}catch{return}}function PS(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function eu(e){try{return new Headers(e)}catch{return}}const Eo=new WeakMap,vr=new Map,tu={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function OS(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:a,onRequestSpanStart:c,onRequestSpanEnd:u}={...tu,...t},d=typeof i=="function"?i:m=>!0,l=m=>MS(m,a),p={},f=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(m=>(m.type==="transaction"&&m.spans&&m.spans.forEach(S=>{if(S.op==="http.client"){const g=vr.get(S.span_id);g&&(S.timestamp=g/1e3,vr.delete(S.span_id))}}),m)),s&&Bh(m=>{if(m.response){const S=Eo.get(m.response);S&&m.endTimestamp&&vr.set(S,m.endTimestamp)}}),kc(m=>{const S=Ch(m,d,l,p,{propagateTraceparent:f,onRequestSpanEnd:u});if(m.response&&m.fetchData.__span&&Eo.set(m.response,m.fetchData.__span),S){const g=Qc(m.fetchData.url),N=g?Ge(g).host:void 0;S.setAttributes({"http.url":g,"server.address":N}),o&&yo(S),c?.(S,{headers:m.headers})}})),r&&Xc(m=>{const S=LS(m,d,l,p,f,u);S&&(o&&yo(S),c?.(S,{headers:eu(m.xhr.__sentry_xhr_v3__?.request_headers)}))})}function yo(e){const{url:t}=I(e).data;if(!t||typeof t!="string")return;const n=_t("resource",({entries:r})=>{r.forEach(s=>{PS(s)&&s.name.endsWith(t)&&(e.setAttributes(Yc(s)),setTimeout(n))})})}function MS(e,t){const n=Wt();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const i=r.origin===s;return t?ke(r.toString(),t)||i&&ke(r.pathname,t):i}else{const r=!!e.match(/^\/(?!\/)/);return t?ke(e,t):r}}function LS(e,t,n,r,s,i){const o=e.xhr,a=o?.[it];if(!o||o.__sentry_own_request__||!a)return;const{url:c,method:u}=a,d=ae()&&t(c);if(e.endTimestamp&&d){const N=o.__sentry_xhr_span_id__;if(!N)return;const $=r[N];$&&a.status_code!==void 0&&(Ba($,a.status_code),$.end(),i?.($,{headers:eu(v_(o)),error:e.error}),delete r[N]);return}const l=Qc(c),p=Ge(l||c),f=th(c),m=!!Y(),S=d&&m?At({name:`${u} ${f}`,attributes:{url:c,type:"xhr","http.method":u,"http.url":l,"server.address":p?.host,[M]:"auto.http.browser",[ve]:"http.client",...p?.search&&{"http.query":p?.search},...p?.hash&&{"http.fragment":p?.hash}}}):new Me;o.__sentry_xhr_span_id__=S.spanContext().spanId,r[o.__sentry_xhr_span_id__]=S,n(c)&&xS(o,ae()&&m?S:void 0,s);const g=A();return g&&g.emit("beforeOutgoingRequestSpan",S,e),S}function xS(e,t,n){const{"sentry-trace":r,baggage:s,traceparent:i}=Rc({span:t,propagateTraceparent:n});r&&DS(e,r,s,i)}function DS(e,t,n,r){const s=e.__sentry_xhr_v3__?.request_headers;if(!(s?.["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!s?.traceparent&&e.setRequestHeader("traceparent",r),n){const i=s?.baggage;(!i||!CS(i))&&e.setRequestHeader("baggage",n)}}catch{}}function FS(){T.document?T.document.addEventListener("visibilitychange",()=>{const e=Y();if(!e)return;const t=q(e);if(T.document.hidden&&t){const n="cancelled",{op:r,status:s}=I(t);te&&h.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:P,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):te&&h.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const US=3600,nu="sentry_previous_trace",$S="sentry.previous_trace";function BS(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?jS():void 0;e.on("spanStart",o=>{if(q(o)!==o)return;const a=w().getPropagationContext();s=HS(s,o,a),r&&qS(s)});let i=!0;n&&e.on("beforeSampling",o=>{if(!s)return;const a=w(),c=a.getPropagationContext();if(i&&c.parentSpanId){i=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(s.sampleRate),sampled:String(Zr(s.spanContext))},sampleRand:s.sampleRand}),o.parentSampled=Zr(s.spanContext),o.parentSampleRate=s.sampleRate,o.spanAttributes={...o.spanAttributes,[$a]:s.sampleRate}})}function HS(e,t,n){const r=I(t);function s(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[vs])}catch{return 0}}const i={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return i;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=US&&(te&&h.log(`Adding previous_trace \`${JSON.stringify(o)}\` link to span \`${JSON.stringify({op:r.op,...t.spanContext()})}\``),t.addLink({context:o,attributes:{[Kf]:"previous_trace"}}),t.setAttribute($S,`${o.traceId}-${o.spanId}-${Zr(o)?1:0}`)),i)}function qS(e){try{T.sessionStorage.setItem(nu,JSON.stringify(e))}catch(t){te&&h.warn("Could not store previous trace in sessionStorage",t)}}function jS(){try{const e=T.sessionStorage?.getItem(nu);return JSON.parse(e)}catch{return}}function Zr(e){return e.traceFlags===1}const VS="BrowserTracing",WS={...yn,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...tu},zS=((e={})=>{const t={name:void 0,source:void 0},n=T.document,{enableInp:r,enableElementTiming:s,enableLongTask:i,enableLongAnimationFrame:o,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:p,childSpanTimeout:f,markBackgroundSpan:m,traceFetch:S,traceXHR:g,trackFetchStreamPerformance:N,shouldCreateSpanForRequest:$,enableHTTPTimings:ne,ignoreResourceSpans:B,ignorePerformanceApiSpans:Ie,instrumentPageLoad:Re,instrumentNavigation:y,detectRedirects:k,linkPreviousTrace:nt,consistentTraceSampling:nn,enableReportPageLoaded:ce,onRequestSpanStart:kt,onRequestSpanEnd:pe}={...WS,...e};let x,$e,ue;function Ae(R,D,b=!0){const F=D.op==="pageload",V=D.name,re=d?d(D):D,Be=re.attributes||{};if(V!==re.name&&(Be[de]="custom",re.attributes=Be),!b){const Ct=et();At({...re,startTime:Ct}).end(Ct);return}t.name=re.name,t.source=Be[de];const me=ac(re,{idleTimeout:l,finalTimeout:p,childSpanTimeout:f,disableAutoFinish:F,beforeSpanEnd:Ct=>{x?.(),Jg(Ct,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:B,ignorePerformanceApiSpans:Ie}),bo(R,void 0);const Vs=w(),su=Vs.getPropagationContext();Vs.setPropagationContext({...su,traceId:me.spanContext().traceId,sampled:Ue(me),dsc:Oe(Ct)}),F&&(ue=void 0)},trimIdleSpanEndTimestamp:!ce});F&&ce&&(ue=me),bo(R,me);function js(){n&&["interactive","complete"].includes(n.readyState)&&R.emit("idleSpanEnableAutoFinish",me)}F&&!ce&&n&&(n.addEventListener("readystatechange",()=>{js()}),js())}return{name:VS,setup(R){if(vp(),x=Vg({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:R}),r&&R_(),s&&u_(),o&&v.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?zg():i&&Wg(),a&&Gg(),k&&n){const b=()=>{$e=L()};addEventListener("click",b,{capture:!0}),addEventListener("keydown",b,{capture:!0,passive:!0})}function D(){const b=qt(R);b&&!I(b).timestamp&&(te&&h.log(`[Tracing] Finishing current active span with op: ${I(b).op}`),b.setAttribute(Ut,"cancelled"),b.end())}R.on("startNavigationSpan",(b,F)=>{if(A()!==R)return;if(F?.isRedirect){te&&h.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),Ae(R,{op:"navigation.redirect",...b},!1);return}$e=void 0,D(),Fe().setPropagationContext({traceId:Te(),sampleRand:Math.random(),propagationSpanId:ae()?void 0:_e()});const V=w();V.setPropagationContext({traceId:Te(),sampleRand:Math.random(),propagationSpanId:ae()?void 0:_e()}),V.setSDKProcessingMetadata({normalizedRequest:void 0}),Ae(R,{op:"navigation",...b,parentSpan:null,forceTransaction:!0})}),R.on("startPageLoadSpan",(b,F={})=>{if(A()!==R)return;D();const V=F.sentryTrace||To("sentry-trace"),re=F.baggage||To("baggage"),Be=mp(V,re),me=w();me.setPropagationContext(Be),ae()||(me.getPropagationContext().propagationSpanId=_e()),me.setSDKProcessingMetadata({normalizedRequest:Ls()}),Ae(R,{op:"pageload",...b})}),R.on("endPageloadSpan",()=>{ce&&ue&&(ue.setAttribute(Ut,"reportPageLoaded"),ue.end())})},afterAllSetup(R){let D=Wt();if(nt!=="off"&&BS(R,{linkPreviousTrace:nt,consistentTraceSampling:nn}),T.location){if(Re){const b=K();GS(R,{name:T.location.pathname,startTime:b?b/1e3:void 0,attributes:{[de]:"url",[M]:"auto.pageload.browser"}})}y&&qs(({to:b,from:F})=>{if(F===void 0&&D?.indexOf(b)!==-1){D=void 0;return}D=void 0;const V=vc(b),re=qt(R),Be=re&&k&&XS(re,$e);KS(R,{name:V?.pathname||T.location.pathname,attributes:{[de]:"url",[M]:"auto.navigation.browser"}},{url:b,isRedirect:Be})})}m&&FS(),a&&YS(R,l,p,f,t),r&&N_(),OS(R,{traceFetch:S,traceXHR:g,trackFetchStreamPerformance:N,tracePropagationTargets:R.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:$,enableHTTPTimings:ne,onRequestSpanStart:kt,onRequestSpanEnd:pe})}}});function GS(e,t,n){e.emit("startPageLoadSpan",t,n),w().setTransactionName(t.name);const r=qt(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function KS(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const i=w();return i.setTransactionName(t.name),r&&!s&&i.setSDKProcessingMetadata({normalizedRequest:{...Ls(),url:r}}),qt(e)}function To(e){return T.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function YS(e,t,n,r,s){const i=T.document;let o;const a=()=>{const c="ui.action.click",u=qt(e);if(u){const d=I(u).op;if(["navigation","pageload"].includes(d)){te&&h.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(Ut,"interactionInterrupted"),o.end(),o=void 0),!s.name){te&&h.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}o=ac({name:s.name,op:c,attributes:{[de]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};i&&addEventListener("click",a,{capture:!0})}const ru="_sentry_idleSpan";function qt(e){return e[ru]}function bo(e,t){G(e,ru,t)}const vo=1.5;function XS(e,t){const n=I(e),r=et(),s=n.start_timestamp;return!(r-s>vo||t&&r-t<=vo)}function JS(e){const t={...e};return Ic(t,"react"),ym("react",{version:ts.version}),kS(t)}JS({dsn:"https://2a980add45c1a46d6284b4aff8acc727@o4510675590381568.ingest.us.sentry.io/4510675597000704",integrations:[zS()],tracePropagationTargets:["localhost",/^https:\/\/yourserver\.io\/api/],tracesSampleRate:1,environment:"production"});async function ZS(){if(typeof window<"u"){const n=()=>{const s=document.documentElement,i=getComputedStyle(s),o=i.getPropertyValue("--safe-area-inset-bottom").trim(),a=parseFloat(o)||0,c=window.outerHeight||window.innerHeight,u=window.innerHeight,d=Math.max(0,c-u);d>0&&(a===0||d>a)?s.style.setProperty("--safe-area-inset-bottom",`${d}px`):a===0&&d===0&&s.style.setProperty("--safe-area-inset-bottom","48px");const l=i.getPropertyValue("--safe-area-inset-top").trim(),p=parseFloat(l)||0;let f=0;if(window.visualViewport&&window.visualViewport.offsetTop!==void 0)f=Math.max(0,window.visualViewport.offsetTop);else if(window.screen&&window.screen.height){const m=window.screen.height,S=window.innerHeight,g=m-S,N=Math.max(0,g-d);f=Math.min(Math.max(N,24),48)}f>0&&(p===0||f>p)?s.style.setProperty("--safe-area-inset-top",`${f}px`):p===0&&s.style.setProperty("--safe-area-inset-top","24px")},r=()=>{requestAnimationFrame(()=>{requestAnimationFrame(n)})};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",r):r(),window.addEventListener("resize",n),window.addEventListener("orientationchange",()=>{setTimeout(n,200)})}const e=await Ws(()=>import("./App-COUbzzsB.js").then(n=>n.A),__vite__mapDeps([0,1,2,3,4]),import.meta.url);try{ff()}catch{}try{const{initForegroundHandler:n}=await Ws(async()=>{const{initForegroundHandler:r}=await import("./foregroundHandler-C__2VKAt.js");return{initForegroundHandler:r}},__vite__mapDeps([5,1,6,3,2]),import.meta.url);n()}catch{}const{default:t}=e;ku.createRoot(document.getElementById("root")).render(Ks.jsx(No.StrictMode,{children:Ks.jsx(t,{})}))}ZS();"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./sw.js").then(e=>{}).catch(e=>{})});export{No as R,rE as a,nE as b,Vt as c,sE as d,iE as f,Ks as j,ts as r,oE as t};
