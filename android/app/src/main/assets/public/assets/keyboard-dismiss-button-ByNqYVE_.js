import{r as d,j as u}from"./index-BbQUyxS2.js";import{B as v,d as g}from"./App-CSSMO0Oh.js";import{C as b}from"./MainScreenRefactored-BV6t3nIm.js";function x(c={}){const{enabled:n=!0,delay:l=300,offset:e=20,behavior:i="smooth",block:r="center"}=c,o=d.useRef(null);return d.useEffect(()=>{if(!n)return;const t=o.current;if(!t)return;const s=()=>{setTimeout(()=>{if(!t)return;const a=t.getBoundingClientRect(),h=a.top+window.scrollY,m=a.height,w=window.visualViewport?.height||window.innerHeight;if(a.bottom>w-e){const f=h-w/2+m/2;window.scrollTo({top:Math.max(0,f),behavior:i})}else t.scrollIntoView({behavior:i,block:r,inline:"nearest"})},l)};return t.addEventListener("focus",s),()=>{t.removeEventListener("focus",s)}},[n,l,e,i,r]),o}function p(){const[c,n]=d.useState({isVisible:!1,height:0});return d.useEffect(()=>{if(typeof window>"u")return;let l=window.visualViewport?.height||window.innerHeight;const e=()=>{if(window.visualViewport){const o=window.visualViewport.height,s=window.innerHeight-o,a=s>150;n({isVisible:a,height:a?s:0})}else{const o=window.innerHeight,t=l-o,s=t>150;n({isVisible:s,height:s?t:0})}},i=()=>{setTimeout(e,300)},r=()=>{setTimeout(()=>{n({isVisible:!1,height:0})},100)};return window.visualViewport?window.visualViewport.addEventListener("resize",e):window.addEventListener("resize",e),window.addEventListener("focusin",i),window.addEventListener("focusout",r),()=>{window.visualViewport?window.visualViewport.removeEventListener("resize",e):window.removeEventListener("resize",e),window.removeEventListener("focusin",i),window.removeEventListener("focusout",r)}},[]),c}function B({className:c,variant:n="outline",size:l="sm",showIcon:e=!0,text:i="완료"}){const{isVisible:r}=p(),o=()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur()};return r?u.jsxs(v,{type:"button",variant:n,size:l,onClick:o,className:g("fixed bottom-4 right-4 z-50 shadow-lg","safe-nav-bottom","transition-all duration-200","animate-in slide-in-from-bottom-2",c),children:[e&&u.jsx(b,{className:"w-4 h-4"}),i&&u.jsx("span",{className:"ml-1",children:i})]}):null}export{B as K,p as a,x as u};
