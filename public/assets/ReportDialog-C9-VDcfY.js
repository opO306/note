import{r as a,j as e}from"./vendor-radix-common-Lw-R5L56.js";import{t as B,V as i,X as H,T as I,j}from"./index-zqdvtYl2.js";import{F as L}from"./vendor-icons-B8UqI-Qt.js";import"./vendor-react-BjpLs-I5.js";import"./vendor-utils-NdZ4-hto.js";import"./vendor-radix-extra-SjO53O2I.js";function K({children:r,onReport:o,open:d,onOpenChange:v,targetType:k="게시글",onSubmit:m}){const[t,x]=a.useState([]),[c,h]=a.useState(""),[f,g]=a.useState(!1),u=d!==void 0,N=u?d:f,F=a.useCallback(()=>{},[]),l=u?v||F:g,y=[{value:"spam",label:"스팸 또는 광고"},{value:"harassment",label:"괴롭힘 또는 욕설"},{value:"inappropriate",label:"부적절한 내용"},{value:"copyright",label:"저작권 침해"},{value:"misinformation",label:"잘못된 정보"},{value:"other",label:"기타"}],b=a.useCallback((s,n)=>{x(C=>n?[...C,s]:C.filter(z=>z!==s))},[]),w=a.useCallback(s=>{h(s.target.value)},[]),p=a.useCallback(()=>{if(t.length===0){B.error("신고 사유를 하나 이상 선택해주세요.");return}const s=m||o;s&&s(t,c),x([]),h(""),l(!1)},[t,c,m,o,l]),R=a.useCallback(()=>{l(!1)},[l]),S=a.useCallback(s=>{s.stopPropagation(),p()},[p]),D=a.useCallback(s=>n=>{b(s,n)},[b]),E=a.useCallback(()=>{l(!1)},[l]),P=a.useCallback(s=>{s.stopPropagation()},[]),T=a.useCallback(()=>{l(!0)},[l]);return e.jsxs(e.Fragment,{children:[r&&e.jsx("span",{onClick:T,className:"inline-block",children:r}),N&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",onClick:E,children:e.jsx("div",{className:"w-[360px] max-w-[90vw] rounded-lg border border-border bg-card p-6 shadow-lg",onClick:P,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(L,{className:"w-4 h-4"}),e.jsxs("h2",{className:"text-lg font-semibold",children:[k," 신고하기"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"신고하는 이유를 선택하고 추가 설명을 작성해주세요. (다중 선택 가능)"})]}),e.jsxs("div",{children:[e.jsx(i,{className:"text-sm font-medium",children:"신고 사유 (다중 선택 가능)"}),e.jsx("div",{className:"mt-2 space-y-3",children:y.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(H,{id:s.value,checked:t.includes(s.value),onCheckedChange:D(s.value)}),e.jsx(i,{htmlFor:s.value,className:"text-sm cursor-pointer",children:s.label})]},s.value))})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"details",className:"text-sm font-medium",children:"추가 설명 (선택사항)"}),e.jsx(I,{id:"details",placeholder:"신고 사유에 대한 자세한 설명을 작성해주세요...",value:c,onChange:w,className:"mt-2 min-h-[80px]"})]}),e.jsxs("div",{className:"flex space-x-2 pt-2",children:[e.jsx(j,{variant:"outline",onClick:R,className:"flex-1",children:"취소"}),e.jsx(j,{onClick:S,className:"flex-1",children:"신고하기"})]})]})})})]})}export{K as ReportDialog};
