import{j as e}from"./vendor-radix-common-Lw-R5L56.js";import{j as i,C,i as g,B as m,L as q,t as l}from"./index-zqdvtYl2.js";import{S as y}from"./shopTitles-CnbRAQQb.js";import{A as w,G as k,C as $,a7 as o}from"./vendor-icons-B8UqI-Qt.js";import"./vendor-react-BjpLs-I5.js";import"./vendor-utils-NdZ4-hto.js";import"./vendor-radix-extra-SjO53O2I.js";function E({onBack:h,userReplyLanterns:a,userGuideCount:c,userLumens:r,ownedTitles:x,currentTitle:u,onTitlePurchase:f,onTitleEquip:j}){const p=y,N=s=>!(x.includes(s.id)||s.requiredReplyLanterns>a||s.requiredGuideCount>c||s.cost>r),b=s=>{if(s.cost>r){l.error(`루멘이 부족합니다! (필요: ${s.cost}, 보유: ${r})`);return}if(s.requiredReplyLanterns>a){l.error(`답변 등불이 부족합니다! (필요: ${s.requiredReplyLanterns})`);return}if(s.requiredGuideCount>c){l.error(`길잡이 횟수가 부족합니다! (필요: ${s.requiredGuideCount})`);return}f(s.id,s.cost)};return e.jsxs("div",{className:"w-full h-full bg-background flex flex-col",children:[e.jsx("header",{className:"bg-card/95 backdrop-blur-xl border-b border-border flex-shrink-0 safe-top",children:e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:h,children:e.jsx(w,{className:"w-5 h-5"})}),e.jsx("h1",{className:"font-medium",children:"칭호 상점"})]}),e.jsxs("div",{className:"flex items-center space-x-2 bg-amber-500/10 px-3 py-1.5 rounded-full",children:[e.jsx("span",{className:"text-amber-500 text-lg"}),e.jsx("span",{className:"font-bold text-amber-500",children:r}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"루멘"})]})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-hide p-4 space-y-3",children:p.map(s=>{const v=x.includes(s.id),n=u===s.id,t=N(s),d=s.cost>r;return e.jsx(C,{className:n?"border-2 border-primary":"",children:e.jsx(g,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"font-bold",children:s.name}),n&&e.jsx(m,{variant:"default",className:"text-xs",children:"착용 중"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center space-x-3 text-xs",children:[e.jsxs("div",{className:`flex items-center space-x-1 ${d?"text-red-500":"text-amber-500"}`,children:[e.jsx("span",{}),e.jsxs("span",{className:"font-medium",children:[s.cost," 루멘"]})]}),s.requiredReplyLanterns>0&&e.jsxs("div",{className:`flex items-center space-x-1 ${s.requiredReplyLanterns>a?"text-red-500":"text-muted-foreground"}`,children:[e.jsx(q,{className:"w-3 h-3"}),e.jsx("span",{children:s.requiredReplyLanterns})]}),s.requiredGuideCount>0&&e.jsxs("div",{className:`flex items-center space-x-1 ${s.requiredGuideCount>c?"text-red-500":"text-muted-foreground"}`,children:[e.jsx(k,{className:"w-3 h-3"}),e.jsx("span",{children:s.requiredGuideCount})]})]})]}),e.jsx("div",{className:"ml-4",children:v?n?e.jsxs(m,{variant:"outline",className:"text-xs",children:[e.jsx($,{className:"w-3 h-3 mr-1"}),"착용 중"]}):e.jsx(i,{size:"sm",variant:"outline",onClick:()=>j(s.id),children:"착용"}):e.jsx(i,{size:"sm",disabled:!t,onClick:()=>b(s),className:d?"opacity-50":"",children:d?e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-3 h-3 mr-1"}),"루멘 부족"]}):t?e.jsx(e.Fragment,{children:"구매"}):e.jsxs(e.Fragment,{children:[e.jsx(o,{className:"w-3 h-3 mr-1"}),"잠김"]})})})]})})},s.id)})})]})}export{E as TitleShop};
