/* 
 * 스킨: CSS 노이즈 질감 레이어
 * 
 * 이 파일을 제거하면 스킨 효과가 완전히 사라집니다.
 * 레이아웃/기능 영향 0, 순수 시각 레이어만 제공.
 */

/* 기본 스킨 토큰: 노이즈 없음 (기본값) */
:root {
  --skin-noise-opacity: 0;
}

.dark {
  --skin-noise-opacity: 0;
}

/* 스킨: 종이 (Paper) */
:root[data-skin='paper'] {
  --skin-noise-opacity: 0.05;
}

.dark[data-skin='paper'] {
  --skin-noise-opacity: 0.05;
}

/* 스킨: 매트 플라스틱 (Matte) */
:root[data-skin='matte'] {
  --skin-noise-opacity: 0.03;
}

.dark[data-skin='matte'] {
  --skin-noise-opacity: 0.03;
}

/* 스킨: 메탈 (Metal) */
:root[data-skin='metal'] {
  --skin-noise-opacity: 0.025;
}

.dark[data-skin='metal'] {
  --skin-noise-opacity: 0.025;
}

/* 노이즈 레이어 적용: bg-card 클래스 및 모든 변형, Card 컴포넌트에 적용 */
.bg-card,
[class*="bg-card"],
[data-slot="card"] {
  position: relative !important;
  overflow: hidden !important;
}

/* 기본: 노이즈 없음 - 모든 bg-card 변형 포함 */
.bg-card::after,
[class*="bg-card"]::after,
[data-slot="card"]::after {
  content: "" !important;
  position: absolute !important;
  inset: 0 !important;
  pointer-events: none !important;
  z-index: 0 !important;
  opacity: 0 !important;
}

/* 스킨: 종이 (Paper) - 라이트 모드 - 자연스러운 종이 질감 */
:root[data-skin='paper'] .bg-card::after,
:root[data-skin='paper'] [class*="bg-card"]::after,
:root[data-skin='paper'] [data-slot="card"]::after {
  /* 라이트 모드: 작은 반점과 섬유가 불규칙하게 흩어진 자연스러운 종이 */
  background-image:
    /* 작은 어두운 반점들 (불규칙하게) */
    repeating-linear-gradient(0deg,
      transparent 0px,
      transparent 2px,
      rgba(0, 0, 0, 0.08) 2px,
      rgba(0, 0, 0, 0.08) 3px,
      transparent 3px,
      transparent 5px),
    repeating-linear-gradient(90deg,
      transparent 0px,
      transparent 3px,
      rgba(0, 0, 0, 0.06) 3px,
      rgba(0, 0, 0, 0.06) 4px,
      transparent 4px,
      transparent 7px),
    /* 미세한 섬유 패턴 (불규칙하게) */
    repeating-linear-gradient(1.2deg,
      transparent 0px,
      transparent 4px,
      rgba(0, 0, 0, 0.04) 4px,
      rgba(0, 0, 0, 0.04) 5px,
      transparent 5px,
      transparent 9px),
    repeating-linear-gradient(-0.8deg,
      transparent 0px,
      transparent 5px,
      rgba(0, 0, 0, 0.03) 5px,
      rgba(0, 0, 0, 0.03) 6px,
      transparent 6px,
      transparent 11px),
    /* 전체적인 미세 노이즈 */
    repeating-linear-gradient(0deg,
      rgba(0, 0, 0, 0.015) 0px,
      rgba(0, 0, 0, 0.015) 1px,
      transparent 1px,
      transparent 2px) !important;
  opacity: 0.5 !important;
  background-size: 5px 5px, 7px 7px, 9px 9px, 11px 11px, 2px 2px !important;
}

/* 스킨: 종이 (Paper) - 다크 모드 - 자연스러운 종이 질감 */
html.dark[data-skin='paper'] .bg-card::after,
html.dark[data-skin='paper'] [class*="bg-card"]::after,
html.dark[data-skin='paper'] [data-slot="card"]::after,
.dark[data-skin='paper'] .bg-card::after,
.dark[data-skin='paper'] [class*="bg-card"]::after,
.dark[data-skin='paper'] [data-slot="card"]::after {
  /* 다크 모드: 작은 반점과 섬유가 불규칙하게 흩어진 자연스러운 종이 */
  background-image:
    /* 작은 밝은 반점들 (불규칙하게) */
    repeating-linear-gradient(0deg,
      transparent 0px,
      transparent 2px,
      rgba(255, 255, 255, 0.08) 2px,
      rgba(255, 255, 255, 0.08) 3px,
      transparent 3px,
      transparent 5px),
    repeating-linear-gradient(90deg,
      transparent 0px,
      transparent 3px,
      rgba(255, 255, 255, 0.06) 3px,
      rgba(255, 255, 255, 0.06) 4px,
      transparent 4px,
      transparent 7px),
    /* 미세한 섬유 패턴 (불규칙하게) */
    repeating-linear-gradient(1.2deg,
      transparent 0px,
      transparent 4px,
      rgba(255, 255, 255, 0.04) 4px,
      rgba(255, 255, 255, 0.04) 5px,
      transparent 5px,
      transparent 9px),
    repeating-linear-gradient(-0.8deg,
      transparent 0px,
      transparent 5px,
      rgba(255, 255, 255, 0.03) 5px,
      rgba(255, 255, 255, 0.03) 6px,
      transparent 6px,
      transparent 11px),
    /* 전체적인 미세 노이즈 */
    repeating-linear-gradient(0deg,
      rgba(255, 255, 255, 0.015) 0px,
      rgba(255, 255, 255, 0.015) 1px,
      transparent 1px,
      transparent 2px) !important;
  opacity: 0.5 !important;
  background-size: 5px 5px, 7px 7px, 9px 9px, 11px 11px, 2px 2px !important;
}

/* 스킨: 매트 플라스틱 (Matte) - 라이트 모드 */
:root[data-skin='matte'] .bg-card::after,
:root[data-skin='matte'] [class*="bg-card"]::after,
:root[data-skin='matte'] [data-slot="card"]::after {
  background-image: repeating-linear-gradient(0deg,
      rgba(0, 0, 0, 0.04),
      rgba(0, 0, 0, 0.04) 1px,
      transparent 1px,
      transparent 3px) !important;
  opacity: 0.5 !important;
}

/* 스킨: 매트 플라스틱 (Matte) - 다크 모드 */
html.dark[data-skin='matte'] .bg-card::after,
html.dark[data-skin='matte'] [class*="bg-card"]::after,
html.dark[data-skin='matte'] [data-slot="card"]::after,
.dark[data-skin='matte'] .bg-card::after,
.dark[data-skin='matte'] [class*="bg-card"]::after,
.dark[data-skin='matte'] [data-slot="card"]::after {
  background-image: repeating-linear-gradient(0deg,
      rgba(255, 255, 255, 0.04),
      rgba(255, 255, 255, 0.04) 1px,
      transparent 1px,
      transparent 3px) !important;
  opacity: 0.5 !important;
}

/* 스킨: 메탈 (Metal) - 라이트 모드 */
:root[data-skin='metal'] .bg-card::after,
:root[data-skin='metal'] [class*="bg-card"]::after,
:root[data-skin='metal'] [data-slot="card"]::after {
  background-image: repeating-linear-gradient(0deg,
      rgba(0, 0, 0, 0.03),
      rgba(0, 0, 0, 0.03) 1px,
      transparent 1px,
      transparent 4px) !important;
  opacity: 0.4 !important;
}

/* 스킨: 메탈 (Metal) - 다크 모드 */
html.dark[data-skin='metal'] .bg-card::after,
html.dark[data-skin='metal'] [class*="bg-card"]::after,
html.dark[data-skin='metal'] [data-slot="card"]::after,
.dark[data-skin='metal'] .bg-card::after,
.dark[data-skin='metal'] [class*="bg-card"]::after,
.dark[data-skin='metal'] [data-slot="card"]::after {
  background-image: repeating-linear-gradient(0deg,
      rgba(255, 255, 255, 0.03),
      rgba(255, 255, 255, 0.03) 1px,
      transparent 1px,
      transparent 4px) !important;
  opacity: 0.4 !important;
}

/* bg-card의 자식 요소가 노이즈 위에 표시되도록 */
.bg-card>*,
[class*="bg-card"]>*,
[data-slot="card"]>* {
  position: relative !important;
  z-index: 1 !important;
}